{"version":3,"sources":["assets/fast.png","assets/easy.png","assets/endtoend.png","assets/precise.png","assets/interoperation.png","assets/NSF_Logo.png","assets/ub.png","assets/terms.txt","assets/privacy.txt","constants.js","model/actions.js","views/Transfer/initialize_dnd.js","model/reducers.js","APICalls/APICalls.js","views/NavbarComponent.js","analytics/ga.js","views/HomePageComponent.js","views/Transfer/utils.js","views/Transfer/FileNode.js","views/Transfer/CompactFileNode/FileNodeCompact.js","views/Transfer/CompactFileNode/CompactFileNodeWrapper.js","views/Transfer/UploaderWrapper.js","views/Transfer/EndpointBrowseComponent.js","views/Transfer/GlobusEndpointListingComponent.js","views/Transfer/EndpointAuthenticateComponent.js","views/Transfer/BrowseModuleComponent.js","views/ErrorMessagesConsole.js","views/Transfer/TransferComponent.js","views/TablePaginationActions.js","views/Admin/HistoryComponent.js","views/Queue/QueueComponent.js","views/Login/UserAccountComponent.js","views/Admin/ClientsInfoComponent.js","views/Support/SupportComponent.js","views/TermsComponent.js","views/PolicyComponent.js","MainComponent.js","views/Login/NewLoginComponent.js","views/Login/SavedLoginComponent.js","views/Login/ValidateEmailComponent.js","views/Login/CreateAccountComponent.js","views/Login/ForgotPasswordComponent.js","views/Login/AccountControlComponent.js","views/OauthProcessComponent.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","spaceBetweenStyle","display","justifyContent","url","window","location","hostname","GOOGLEDRIVE_TYPE","FTP_TYPE","SFTP_TYPE","GRIDFTP_TYPE","DROPBOX_NAME","GOOGLEDRIVE_NAME","showText","dropbox","googledrive","ftp","sftp","http","gsiftp","scp","https","showType","defaultPort","maxCookieAge","getType","endpoint","getTypeFromUri","uri","getDefaultPortFromUri","split","toLowerCase","LOGIN","UPDATE_HASH","PROMOTE","LOGOUT","logoutAction","type","ENDPOINT_PROGRESS","ENDPOINT_LOGOUT","endpointLogout","side","ENDPOINT_UPDATE","endpointUpdate","ACCOUNT_PREFERENCE_TOGGLED","column1","id","title","path","tasks","ids","selectedTasks","column2","draggingTask","getMapFromEndpoint","map","e","i","buildPathToIndex","getIdsFromEndpoint","edpuri","idsArray","index","length","makeFileNameFromPath","slice","setDraggingTask","task","initial","name","pathstr","reduce","a","v","getEntities","left","right","getColumn","getCred","state","store","getState","credentials","endpoint1","credential","endpoint2","Object","keys","setFilesWithPathListAndId","files","getFilesFromMemory","setBeforeTransferReorder","reorderResult","fromTo","eventEmitter","emit","setSelectedTasks","selTasksLeft","selTasksRight","getSelectedTasksFromSide","setSelectedTasksForSide","getEndpointFromColumn","column","getSelectedTasks","getSelectionCount","unselectAll","cookies","require","initialState","login","get","admin","email","hash","saveOAuthTokens","undefined","JSON","parse","queue","transferOptions","useTransferOptimization","overwriteExistingFiles","verifyFileInterity","encryptDataChannel","compressDataChannel","axios","Axios","create","timeout","headers","Accept","statusHandle","response","callback","statusFirstDigit","Math","floor","status","data","statusText","confirm","dispatch","code","checkLogin","accept","fail","post","action","then","catch","error","password","cpassword","confirmPassword","emailId","Error","history","portNum","portNumber","encodeURI","globusEndpointIds","gep","globusEndpoint","_username","_password","username","ged","savedCredList","isHistory","pageNo","pageSize","sortBy","order","sortOrder","reqBody","success","resp","err","submit","src","srcEndpoint","dest","destEndpoint","options","src0","assign","dest0","listFiles","body","stringify","getDownloadLink","_id","console","log","open","succeed","json_to_send","strin","set","expires","getUsers","saveOAuth","successCallback","isAdmin","put","oldPassword","newPassword","jobID","fetch","method","job_id","ok","uuid","openDropboxOAuth","openOAuth","openGoogleDriveOAuth","openGridFtpOAuth","requestBody","filter_fulltext","NavbarComponent","props","userIsAdmin","unsubscribe","subscribe","setState","this","Navbar","inverse","collapseOnSelect","fixedTop","className","Header","Brand","Link","to","Toggle","Collapse","Nav","NavItem","componentClass","href","NavDropdown","pullRight","onClick","component","Tooltip","placement","Component","updateGAPageView","ReactGA","pageview","pathname","textStyle","color","fontSize","textAlign","headerStyle","fontWeight","cardStyle","margin","sideStyle","rowStyle","background","padding","width","subHeaderStyle","subTextStyle","CustomNextArrow","style","Glyphicon","glyph","CustomPrevArrow","HomePageComponent","document","settings","dots","infinite","speed","slidesToShow","slidesToScroll","appendDots","bottom","zIndex","nextArrow","prevArrow","autoplay","responsive","breakpoint","arrows","Col","Jumbotron","Row","fastImage","float","alt","easyImage","intopImage","precImage","eteImage","backgroundColor","nsfImage","ubImage","screenIsSmall","innerWidth","withNewTasks","reorderSingleDrag","entities","source","destination","droppableId","reordered","list","startIndex","endIndex","result","Array","from","splice","removed","reorder","updated","selected","push","home","foreign","newHomeTasks","newForeignTasks","find","value","getHomeColumn","columnId","includes","multiSelectTo","columnOfNew","newTask","indexOfNew","indexOf","lastSelected","indexOfLast","isSelectingForwards","start","end","toAdd","filter","sorted","reverse","mutliDragAwareReorder","args","reorderMultiDrag","dragged","orderedSelectedTasks","sort","b","indexOfA","indexOfB","insertAtIndex","startSave","withRemovedTasks","previous","remainingTasks","Boolean","tasksel","finalCol","withInserted","base","withAddedTasks","fromto","FileDiv","styled","div","getBackgroundColor","isSelected","getTextColor","isDragging","isGhosting","keyCodes","enter","escape","arrowDown","arrowUp","tab","SelectionCount","primaryButton","FileNode","onKeyDown","event","provided","snapshot","dragHandleProps","defaultPrevented","keyCode","preventDefault","wasMetaKeyUsed","metaKey","ctrlKey","wasShiftKeyUsed","shiftKey","performAction","button","onTouchStart","dragging","onTouchMove","onTouchEnd","toggleSelectionInGroup","file","toggleSelection","humanFileSize","bind","nextProps","nextState","bytes","abs","units","u","toFixed","onDoubleClick","dir","perm","time","size","hasAttr","year","month","day","hour","minute","second","date","Date","draggableId","selectionCount","shouldShowSelection","draggableProps","ref","innerRef","flexGrow","flexDirection","marginLeft","Button","Intl","DateTimeFormat","format","tr","FileNodeCompact","arraysEqual","columns","posit0","posit1","posit2","posit3","pstyle","textOverflow","whiteSpace","overflow","minWidth","borderLeft","CompactFileNodeWrapper","handleRequestSort","property","orderBy","queueFunc","generateResizer","targetNum","top","position","cursor","userSelect","height","onMouseDown","pageX","target","rect","getElementById","getBoundingClientRect","showBar","leftPosition","clientX","onMouseMove","temp","headerCompactStylePos","accumlate","handleClose","anchorEl","onMouseUp","compactStylePos","flippingChange","change","columnsOrder","sortFunctions","contextMenu","CompactTable","React","createRef","headerStyleDelta","headersTotal","x","multiplier","current","offsetWidth","headerMultiplied","addEventListener","removeEventListener","currentTarget","offset","refs","CompactHeader","displayList","columnNames","showingColumn","columnToggle","num","newColumns","colId","borderBottom","TableSortLabel","active","direction","boxShadow","onContextMenu","Menu","onClose","MenuItem","fileId","key","UploaderWrapper","directoryPath","lastestId","uploader","FineUploaderTraditional","debug","chunking","enabled","partSize","concurrent","request","params","retry","enableAuto","callbacks","onError","errorReason","xhr","onStatusChange","old_status","new_status","EndpointBrowseComponent","selectedTaskIds","shallow","multiSelect","onWindowKeyDown","onWindowClick","onWindowTouchEnd","filenameAscendingOrderSort","localeCompare","filenameDescendingOrderSort","permissionAscendingOrderSort","permissionDescendingOrderSort","sortingFunc","handleClickOpen","openShare","shareUrl","handleClickOpenAddFolder","openAFolder","handleCloseWithFolderAdded","setLoading","addFolderName","dirName","dirType","mkdir","getFilesFromBackendWithPath","_handleError","_handleConfirmation","query","_handleAddFolderTextFieldChange","handleCloseWithFileDeleted","len","fileName","deleteCall","route","searchText","ignoreCase","regex","getFilesFromBackend","fileNodeDoubleClicked","breadcrumbClicked","fileChangeHandler","sizeAscendingOrderSort","dateAscendingOrderSort","sizeDescendingOrderSort","dateDescendingOrderSort","on","forceUpdate","filename","back","getLoading","displayStyle","flags","RegExp","test","keyword","iconStyle","buttonStyle","loading","tooltip","minHeight","maxHeight","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","disabled","fullWidth","text","viewBox","d","DialogActions","label","onChange","alighSelf","overflowX","overflowY","Breadcrumb","Item","item","alignSelf","alignItems","ButtonGroup","OverlayTrigger","overlay","downloadUrl","taskList","getDownload","download","getSharableLink","bsStyle","previousTasks","emptyFileNodesData","InputGroup","flex","borderRadius","FormControl","placeholder","border","textTransform","fontFamily","droppableProps","marginTop","fileNodeClicked","placeHolder","styles","root","paddingLeft","paddingRight","input","iconButton","divider","GlobusEndpointListingComponent","search_text","globusListEndpoints","greatDiscoveryList","ListItem","canonical_name","endpointAdded","ListItemText","primary","secondary","borderWidth","borderColor","borderStyle","LinearProgress","Paper","elevation","InputBase","IconButton","aria-label","getEndpointListAsData","List","EndpointAuthenticateComponent","credentialListUpdateFromBackend","credList","endpointIdsListUpdateFromBackend","endpointIdsList","historyListUpdateFromBackend","historyList","msg","handleChange","handleUrlChange","colonCount","endpointCheckin","endpointSet","startsWith","substring","suc","loginSuccess","regularSignIn","needPassword","globusSignIn","globusActivateSignin","endpointSelected","globusEndpointActivate","activated","endpointModalLogin","endpointModalAdd","settingAuth","authFunction","selectingEndpoint","settingAuthType","portNumField","loginType","getEndpointListComponentFromList","cred","filteredCredsArr","curObj","remove","globusEndpointDetail","ListItemIcon","ListItemSecondaryAction","deleteEndpointId","tokenSaved","deleteCredentialFromServer","token","deleteCredentialFromLocal","URL","portValue","port","deleteHistory","getName","endpointsList","endpointModalClose","Divider","getCredentialListComponentFromList","getHistoryListComponentFromList","Modal","aria-describedby","close","variant","BrowseModuleComponent","credentialTypeExistsThenDo","containsType","failed","some","creds","checkIfOneSideIsLoggedInAsGrid","currentState","checkIfGridftpIsOpen","constructState","mode","oneSideIsLoggedInAsGridftp","gridftpIsOpen","unsubcribe","oneSideIsLoggedInAsGrid","bool","loadCSS","querySelector","update","loginPrep","backHome","marginRight","Icon","object","ErrorMessagesConsole","scrollToBottom","messagesEnd","scrollIntoView","behavior","errorMessages","onErrorOccured","onMessageOccurred","onWarningOccurred","message","messagesWithin","wordWrap","msgsList","TransferComponent","sendFile","processed","endpointSrc","endpointDest","srcUrls","fileIds","destUrls","optionParsed","onDragStart","selectedSide","listTask","onDragEnd","reason","mode1","mode2","innerHeight","optimizer","overwrite","verify","encrypt","compress","compact","printError","updateDimensions","_returnBrowseComponent1","_returnBrowseComponent2","updateBrowseOne","updateBrowseTwo","onSendToRight","onSendToLeft","queryString","search","setTimeout","entity","isSmall","formlabelstyle","formStyle","Panel","Heading","Body","FormLabel","RadioGroup","FormControlLabel","control","Radio","min","max","step","panelStyle","checked","paddingTop","xs","colorPrimary","colorSecondary","Typography","TablePaginationActions","handleFirstPageButtonClick","onChangePage","handleBackButtonClick","page","handleNextButtonClick","handleLastPageButtonClick","ceil","count","rowsPerPage","classes","theme","withStyles","flexShrink","palette","spacing","unit","tablePaginationActions","withTheme","QueueComponent","responsesToDisplay","jobs","totalCount","handleChangePage","nextRecords","getElementsByClassName","handleChangeRowsPerPage","parseInt","selectedTab","rowsPerPageOptions","interval","setInterval","toggleTabs","clearInterval","total","done","ProgressBar","now","percentCompleted","getMonth","getDate","getFullYear","getHours","getMinutes","getSeconds","speedInBps","row","selectedJobInfo","row2close","infoRowsIds","infoRow","owner","TransitionComponent","Zoom","infoButtonOnClick","minHeigth","cancelButtonOnClick","decodeURIComponent","Grid","paddingBottom","md","renderSpeed","inst","avg","getFormattedDate","times","scheduled","started","completed","attempts","tbcellStyle","sortableColumns","tableRows","TableRow","TableCell","scope","numeric","getStatus","maxWidth","renderActions","class","colSpan","marginBottom","AppBar","Tabs","Tab","renderTabContent","Table","TableHead","enterDelay","TableBody","TableFooter","TablePagination","SelectProps","native","onChangeRowsPerPage","ActionsComponent","caption","tablePaginationCaption","select","tablePaginationSelect","toolbar","lineHeight","cancelJob","restartJob","deleteJob","deleted","restartButtonOnClick","deleteButtonOnClick","scheduledDate","startedDate","completedDate","align","decodeURI","UserAccountComponent","conformNewPassword","userEmail","userOrganization","fName","lName","redirect","openAlertDialog","getUser","organization","firstName","lastName","getInnerCard","onPasswordUpdate","accountDetails","handleAccountPreferenceToggle","handleAlertClose","handleAlertCloseYes","resize","oldPass","newPass","confPass","changePassword","updateHashAction","currentSaveStatus","updateSaveOAuth","Card","CardContent","FormGroup","confirmed","CardActions","Redirect","ClientsInfoComponent","getUserInfo","userTblPage","userTblRowsPerPage","userTblOrderBy","userTblOrder","users","totalUsersCount","getAdminInfo","adminTblPage","adminTblRowsPerPage","adminTblOrderBy","adminTblOrder","admins","totalAdminsCount","showIsAdminPopup","adminChangePopupMsg","targetUser","handleUserTblChangePage","handleUserTblChangeRowsPerPage","handleUserTblRequestSort","handleAdminsTblChangePage","handleAdminsTblChangeRowsPerPage","handleAdminsTblRequestSort","userTblRowsPerPageOptions","adminTblRowsPerPageOptions","popupMsg","updateAdminRightsApiCall","updateAdminRightsUsingStateInfo","timeStamp","registerMoment","lastActivity","validated","updateAdminRights","SupportComponent","captchaVerified","captchaVerificationValue","captchaRef","handleSubmit","handleCaptchaEvent","resetCaptcha","reset","progressBarDiv","visibility","msgDiv","submitIssue","phone","subject","description","innerHTML","divStyle","captchaStyle","CardHeader","onSubmit","required","multiline","rows","sitekey","process","r","TermsComponent","termsData","readTextFile","rawFile","XMLHttpRequest","onreadystatechange","readyState","allText","responseText","send","terms","dangerouslySetInnerHTML","__html","PolicyComponent","MainComponent","isLoggedIn","rel","charSet","Switch","Route","exact","render","HistoryComponent","NewLoginComponent","emailChecked","errorMessage","remember","isAuthenticated","emailValidated","onEmailNextClicked","onSignInClicked","isLoading","userLoggedIn","createAccountPressed","validateEmailPressed","forgotPasswordPressed","helperText","validators","Checkbox","SavedLoginComponent","accounts","useAnotherAccount","role","handleLogin","removedAccount","removeAccount","ValidateEmailComponent","loadVerifyCode","next","resendVerificationCode","properties","CreateAccountComponent","screen","verificationError","passwordError","isLostVerifyCode","emailError","firstNameError","lastNameError","emailErrorMessage","firstNameErrorMessage","lastNameErrorMessage","confirmation","firstNameValidationMsg","lastNameValidationMsg","emailValidationMsg","registerAccount","verifyAccount","registerUser","emaildError","self","verifyRegistraionCode","verificationCode","setPassword","backToSignin","disclaimer","showLoader","textBoxStyle","overflowWrap","beforeCode","codeSent","codeVerified","ForgotPasswordComponent","SetPassword","confirmedPassword","resetPassword","VerifyCode","resetPasswordVerifyCode","SendCode","resetPasswordSendCode","AccountControlComponent","authenticated","cookieSaved","newLogin","user","userLogin","signIn","creatingAccount","loggingAccount","userSigningIn","loginAction","createAccount","OauthProcessComponent","tag","match","processOAuth","qs","identifier","qsObj","updateLocalCredStore","protocolType","parsedJSON","accountId","oAuthToken","obj","EventEmitter","createStore","replace","loginProgress","progress","App","handleOpen","errormsg","vertical","horizontal","loaded","initialize","Snackbar","anchorOrigin","ContentProps","ReactDOM","BrowserRouter","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d6acbe46.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/fast.94fb7985.png\";","module.exports = __webpack_public_path__ + \"static/media/easy.c3ec87a7.png\";","module.exports = __webpack_public_path__ + \"static/media/endtoend.84514f60.png\";","module.exports = __webpack_public_path__ + \"static/media/precise.fcfd05a0.png\";","module.exports = __webpack_public_path__ + \"static/media/interoperation.2558a942.png\";","module.exports = __webpack_public_path__ + \"static/media/NSF_Logo.0f6f085b.png\";","module.exports = __webpack_public_path__ + \"static/media/ub.ac8a9d3e.png\";","module.exports = __webpack_public_path__ + \"static/media/terms.cdf166b2.txt\";","module.exports = __webpack_public_path__ + \"static/media/privacy.99e0e744.txt\";","export const spaceBetweenStyle = {display: 'flex', justifyContent:\"space-between\"};\n\nexport const isLocal = (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\");\n\n// urls\nexport const url = \"/api/stork/\";\nexport const transferPageUrl = \"/transfer\";\nexport const queuePageUrl = \"/queue\";\nexport const accountPageUrl = \"/account\";\nexport const registerPageUrl = \"/account/register\";\nexport const userPageUrl = \"/user\";\nexport const userListPageUrl = \"/clientsInfo\";\nexport const historyPageUrl = \"/history\";\nexport const addAccountUrl = \"/account/add\";\nexport const dataPageUrl = \"/data\";\nexport const managementPageUrl = \"/management\";\nexport const oauthPreUrl = \"/oauth/\";\nexport const termsUrl = \"/terms\";\nexport const policyUrl = \"/policy\"\n\n// module types\nexport const DROPBOX_TYPE = \"dropbox:///\";\nexport const GOOGLEDRIVE_TYPE = \"googledrive:/\";\nexport const FTP_TYPE = \"ftp://\";\nexport const SFTP_TYPE = \"sftp://\";\nexport const GRIDFTP_TYPE = \"gsiftp://\";\nexport const HTTP_TYPE = \"http://\";\nexport const SCP_TYPE = \"scp://\";\n\nexport const DROPBOX_NAME = \"DropBox\";\nexport const GOOGLEDRIVE_NAME = \"GoogleDrive\";\nexport const FTP_NAME = \"FTP\";\nexport const SFTP_NAME = \"SFTP\";\nexport const HTTP_NAME = \"HTTP\";\nexport const GRIDFTP_NAME = \"GridFTP\";\nexport const SCP_NAME = \"SCP\";\n\nexport const DROPBOX = \"dropbox\";\nexport const GOOGLEDRIVE = \"googledrive\";\nexport const FTP = \"ftp\";\nexport const SFTP = \"sftp\";\nexport const HTTP = \"http\";\nexport const GRIDFTP = \"gsiftp\";\nexport const SCP = \"scp\";\n//side\nexport const sideLeft = \"left\";\nexport const sideRight = \"right\";\n\nexport const showText={\n\tdropbox: DROPBOX_NAME,\n\tgoogledrive: GOOGLEDRIVE_NAME,\n\tftp : FTP_NAME,\n\tsftp : SFTP_NAME,\n\thttp : HTTP_NAME,\n\tgsiftp : GRIDFTP_NAME,\n\tscp : SCP_NAME,\n\thttps : HTTP_NAME\n}\n\nexport const showType={\n\tdropbox: DROPBOX_TYPE,\n\tgoogledrive: GOOGLEDRIVE_TYPE,\n\tftp : FTP_TYPE,\n\tsftp : SFTP_TYPE,\n\thttp : HTTP_TYPE,\n\tgsiftp : GRIDFTP_TYPE,\n\tscp : SCP_TYPE,\n\thttps : HTTP_TYPE\n}\n\nexport const defaultPort={\n\tdropbox: -1,\n\tgoogledrive: -1,\n\tftp : 21,\n\tsftp : 22,\n\thttp : 80,\n\tgsiftp : -1,\n\tscp : 22,\n\thttps : 443\n}\n\nexport const maxCookieAge = 7;\n\n\nexport function getType(endpoint){\n\treturn getTypeFromUri(endpoint.uri)\n}\n\nexport function getDefaultPortFromUri(uri){\n\treturn defaultPort[uri.split(\":\")[0].toLowerCase()]\n}\n\nexport function getTypeFromUri(uri){\n\treturn showType[uri.split(\":\")[0].toLowerCase()]\n}\n\nexport function getName(endpoint){\n\treturn showText[endpoint.uri.split(\":\")[0].toLowerCase()]\n}\n\nexport function getNameFromUri(uri){\n\treturn showText[uri.split(\":\")[0].toLowerCase()]\n}","export const LOGIN = 'LOGIN';\nexport function loginAction(username, hash, remember, saveOAuthTokens) {\n  return {\n    type: LOGIN,\n    credential: {\n    \temail: username,\n      hash: hash,\n      saveOAuthTokens: saveOAuthTokens\n    }\n  }\n}\n\nexport const REGISTER = 'REGISTER';\nexport function register(email, username, password) {\n  return {\n    type: REGISTER,\n    credential: {\n    \temail: email,\n    \tusername: username,\n    \tpassword: password\n    }\n  }\n}\n\n\n\nexport const UPDATE_HASH = 'UPDATE_HASH';\n\nexport function updateHashAction(hash) {\n  return {\n    type: UPDATE_HASH,\n    hash: hash\n  }\n}\n\n\nexport const PROMOTE = 'PROMOTE';\nexport function isAdminAction() {\n  return {\n    type: PROMOTE\n  }\n}\n\nexport const LOGOUT = 'LOGOUT';\nexport function logoutAction() {\n  return {\n    type: LOGOUT\n  }\n}\n\nexport const SETTING_CHANGED = 'SETTING_CHANGED';\nexport function settingsChanged(settings) {\n  return {\n    type: SETTING_CHANGED,\n    settings: settings\n  }\n}\n\nexport const ENDPOINT_PROGRESS = 'ENDPOINT_PROGRESS';\nexport function endpointProgress(progress, side) {\n  return {\n    type: ENDPOINT_PROGRESS,\n    side: side,\n    progress: progress\n  }\n}\n\nexport const ENDPOINT_LOGIN = 'ENDPOINT_LOGIN';\nexport function endpointLogin(loginType, side, credential) {\n  return {\n    type: ENDPOINT_LOGIN,\n    side: side,\n    loginType: loginType,\n    credential: credential\n  }\n}\n\nexport const ENDPOINT_LOGOUT = 'ENDPOINT_LOGOUT';\nexport function endpointLogout(side) {\n  return {\n    type: ENDPOINT_LOGOUT,\n    side,\n  }\n}\n\nexport const ENDPOINT_TRANSFER = 'ENDPOINT_TRANSFER';\nexport function endpointTransfer(sourceSide) {\n  return {\n    type: ENDPOINT_TRANSFER,\n    sourceSide,\n  }\n}\n\nexport const ENDPOINT_UPDATE = 'ENDPOINT_UPDATE';\nexport function endpointUpdate(side, endpoint) {\n  return {\n    type: ENDPOINT_UPDATE,\n    side: side,\n    endpoint: endpoint\n  }\n}\n\nexport const ENDPOINT_SELECT = 'ENDPOINT_SELECT';\nexport function endpointSelect(side, file) {\n  return {\n    type: ENDPOINT_SELECT,\n    side,\n    file: file\n  }\n}\n\nexport const ENDPOINT_UNSELECT = 'ENDPOINT_UNSELECT';\nexport function endpointUnselect(side, file) {\n  return {\n    type: ENDPOINT_UNSELECT,\n    side,\n    file: file\n  }\n}\n\n\nexport const TRANSFER = 'TRANSFER';\nexport function transfer(email, username, password) {\n  return {\n    type: SETTING_CHANGED,\n    credential: {\n    \temail: email,\n    \tusername: username,\n    \tpassword: password\n    }\n  }\n}\n\nexport const ACCOUNT_PREFERENCE_TOGGLED = 'ACCOUNT_PREFERENCE_TOGGLED';\nexport function accountPreferenceToggledAction(newState) {\n  return {\n    type: ACCOUNT_PREFERENCE_TOGGLED,\n    saveOAuthTokens : newState\n  }\n}\n\nexport const transferOptimizations = {\n  None : \"NONE\",\n  SecondOrder : \"2ndOrder\",\n  PCP : \"PCP\"\n}\n\n","\nimport {store} from \"../../App.js\";\nimport {eventEmitter} from \"../../App\";\n\n//left\nvar column1 = {\n\tid: \"left\",\n\ttitle: \"\",\n\tpath: [],\n\ttasks: [],\n\tids: [null],\n\tselectedTasks : [],\n};\n//right\nvar column2 = {\n\tid: \"right\",\n\ttitle: \"\",\n\tpath: [],\n\ttasks: [],\n\tids: [null],\n\tselectedTasks :[],\n};\nexport var draggingTask = null;\n\nexport function getMapFromEndpoint(endpoint){\n\n\tif(endpoint.side === \"left\"){\n//\t\tconsole.log(column1.ids);\n//\t\tconsole.log(column1.path);\n\t\treturn column1.ids.map(function(e, i) {\n\t\t  return {id: column1.ids[i], path: buildPathToIndex(endpoint.uri, column1.path, i)};\n\t\t});\n\t}else{\n\n//\t\tconsole.log(column2.ids);\n//\t\tconsole.log(column2.path);\n\t\treturn column2.ids.map(function(e, i) {\n\t\t  return {id: column2.ids[i], path: buildPathToIndex(endpoint.uri, column2.path, i)};\n\t\t});\n\t}\n}\n\nexport function getIdsFromEndpoint(endpoint){\n\tif(endpoint.side === \"left\"){\n\t\treturn column1.ids;\n\t}else{\n\t\treturn column2.ids;\n\t}\n}\n\nfunction buildPathToIndex(edpuri, idsArray, index){\n\tif(index === 0 || idsArray.length === 0){\n\t\treturn edpuri;\n\t}\n\t\n\tlet tempArray = idsArray.slice(0, index);\n\n\treturn makeFileNameFromPath(edpuri, tempArray, \"\");\n}\n\n \nexport function setDraggingTask(task){\n\tdraggingTask = task;\n}\n\n//@return: initial+\"/\"+path[1]+\"/\"+path[2]+...+path[n]+\"/\"+name\nexport function makeFileNameFromPath(initial, path, name){\n//\tconsole.log(initial, path, name)\n\tvar pathstr;\n\tif(path.length === 0){\n\t\tpathstr = initial;\n\t}else{\n\t\tpathstr = initial + (initial[initial.length-1] === '/' ? \"\" : \"/\") + path.reduce((a, v) =>  a+\"/\"+v);\n\t}\n\tpathstr = (pathstr + ((name.length === 0 || pathstr[pathstr.length-1] === '/') ? name : \"/\"+name));\n\treturn pathstr;\n}\n\nexport function getEntities(){ \n\treturn {left: column1, right: column2}\n};\n\nexport function getColumn(id){ \n\treturn getEntities()[id]\n};\n\nexport function getCred(){ \n\tconst state = store.getState();\n\tconst credentials = {...state.endpoint1.credential, ...state.endpoint2.credential}\n\treturn Object.keys(credentials).map((v)=>credentials[v]);\n};\n\n\nexport function setFilesWithPathList(files, path, endpoint){\n\tif(endpoint.side === \"left\"){\n\t\tcolumn1.tasks = files;\n\t\tcolumn1.title = endpoint.uri;\n\t\tcolumn1.path = path;\n\t}else{\n\t\tcolumn2.tasks = files;\n\t\tcolumn2.title = endpoint.uri;\n\t\tcolumn2.path = path;\n\t}\n}\n\nexport function setFilesWithPathListAndId(files, path, ids, endpoint){\n\tif(endpoint.side === \"left\"){\n\t\tcolumn1.tasks = files;\n\t\tcolumn1.title = endpoint.uri;\n\t\tcolumn1.path = path;\n\t\tcolumn1.ids = ids;\n\t}else{\n\t\tcolumn2.tasks = files;\n\t\tcolumn2.title = endpoint.uri;\n\t\tcolumn2.path = path;\n\t\tcolumn2.ids = ids;\n\t}\n}\n\n\nexport function getCurrentFolderId(endpoint){\n\tif(endpoint.side === \"left\"){\n\t\treturn column1.ids[column1.ids.length-1];\n\t}else{\n\t\treturn column2.ids[column2.ids.length-1];\n\t}\n}\n\nexport function getFilesFromMemory(endpoint){\n\tif(endpoint.side === \"left\"){\n\t\treturn column1.tasks;\n\t}else{\n\t\treturn column2.tasks;\n\t}\n}\n\nexport function getPathFromMemory(endpoint){\n\tif(endpoint.side === \"left\"){\n\t\treturn column1.path;\n\t}else{\n\t\treturn column2.path;\n\t}\n}\n\nexport function emptyFileNodesData(endpoint){\n\tif(endpoint.side === \"left\"){\n\t\tcolumn1 = {\n\t\t\tid: \"left\",\n\t\t\ttitle: \"\",\n\t\t\tpath: [],\n\t\t\ttasks: [],\n\t\t\tids:[null],\n\t\t\tpreviousTasks: [],\n\t\t\tselectedTasks : [],\n\n\t\t};\n\t}else{\n\t\tcolumn2 = {\n\t\t\tid: \"right\",\n\t\t\ttitle: \"\",\n\t\t\tpath: [],\n\t\t\ttasks: [],\n\t\t\tids:[null],\n\t\t\tpreviousTasks: [],\n\t\t\tselectedTasks : [],\n\t\t};\n\t}\n}\n\nexport function setBeforeTransferReorder(reorderResult){\n\tif(!reorderResult){\n\t\treturn\n\t}\n\t//console.log(reorderResult);\n\tif(reorderResult.left){\n\t\tcolumn1.tasks = reorderResult[\"left\"].tasks;\n\t}\n\tif(reorderResult.right){\n\t\tcolumn2.tasks = reorderResult[\"right\"].tasks;\n\t}\n\n\tif(reorderResult.fromTo[1].id === \"left\"){\n\t\tcolumn1.selectedTasks = reorderResult.selectedTasks;\n\t}else{\n\t\tcolumn2.selectedTasks = reorderResult.selectedTasks;\t\n\t}\n\t//column1.previousTasks = reorderResult[\"0\"].taskIds;\n\t//column2.previousTasks = reorderResult[\"1\"].taskIds;\n\teventEmitter.emit(\"fileChange\", null, null);\n}\n\n/*export function findTaskFromId(id){\n\tconst find1 = column1.tasks.find((task)=>{\n\t\treturn task.name === id\n\t})\n\tconst find2 = column2.tasks.find((task)=>{\n\t\treturn task.name === id\n\t})\n\treturn find1 || find2\n}*/\n\nexport function setSelectedTasks(selTasksLeft, selTasksRight){\n\tcolumn1.selectedTasks = selTasksLeft;\n\tcolumn2.selectedTasks = selTasksRight;\n\teventEmitter.emit(\"fileChange\", null, null);\n}\n\nexport function getSelectedTasksFromSide(endpoint){\n\tif(endpoint.side === \"left\"){\n\t\treturn column1.selectedTasks;\n\t}else{\n\t\treturn column2.selectedTasks;\n\t}\t\n}\n/*\nexport function getTaskFromId(endpoint, id){\n\tif(endpoint.side === \"left\"){\n\t\treturn column1.tasks.find((task)=>task.name+endpoint.side===id);\n\t}else{\n\t\treturn column2.tasks.find((task)=>task.name+endpoint.side===id);\n\t}\n}*/\nexport function setSelectedTasksForSide(tasks, endpoint){\n\tif(endpoint.side === \"left\"){\n\t\tsetSelectedTasks(tasks, column2.selectedTasks);\n\t}else{\n\t\tsetSelectedTasks(column1.selectedTasks, tasks);\n\t}\n}\nexport function getEndpointFromColumn(column){\n\tif(column.id === \"left\"){\n\t\treturn store.getState().endpoint1;\n\t}else{\n\t\treturn store.getState().endpoint2;\n\t}\n}\n\nexport function getSelectedTasks(){\n\treturn {left: column1.selectedTasks, right: column2.selectedTasks};\n}\n\nexport function getSelectionCount(endpoint){\n\tif(endpoint.side === \"left\"){\n\t\treturn column1.selectedTasks.length;\n\t}else{\n\t\treturn column2.selectedTasks.length;\n\t}\n}\n\nexport function unselectAll (){\n\tsetSelectedTasks([], []);\n    return [];\n};\n","\n/*accountInformation\n[credentials]\ncredentials:{key: validation}\n*/\n\n/*\nqueue\n[{endpoint1: string, endpoint2: string, speed: number}]\n*/\n\nimport { LOGIN, LOGOUT, PROMOTE, ENDPOINT_PROGRESS, ENDPOINT_UPDATE, UPDATE_HASH, ACCOUNT_PREFERENCE_TOGGLED } from './actions';\nimport { transferOptimizations } from \"./actions\";\nimport { DROPBOX_NAME, GOOGLEDRIVE_NAME } from '../constants';\nimport { maxCookieAge } from '../constants';\n\nexport const cookies = require(\"js-cookie\");\nexport const beforeLogin = 0;\nexport const duringLogin = 1;\nexport const afterLogin = 2;\n\nconst initialState = {\n\tlogin: cookies.get('email') ? true : false,\n\tadmin: false,\n\temail: cookies.get('email') || \"noemail\" ,\n  hash: cookies.get('hash') || null,\n  saveOAuthTokens: (cookies.get('saveOAuthTokens') !== undefined)? JSON.parse(cookies.get('saveOAuthTokens')) : false,\n\n\tendpoint1: cookies.get('endpoint1') ? JSON.parse(cookies.get('endpoint1')) : {\n\t\tlogin: false,\n\t\tcredential: {},\n\t\turi: \"\",\n    side: \"left\"\n\t},\n\n\tendpoint2: cookies.get('endpoint2') ? JSON.parse(cookies.get('endpoint2')) : {\n    login: false,\n\t\tcredential: {},\n\t\turi: \"\",\n    side: \"right\",\n\n\t},\n\n\tqueue: [],\n\ttransferOptions : {\n\t\tuseTransferOptimization : transferOptimizations.None,\n\t\toverwriteExistingFiles : true,\n\t\tverifyFileInterity : false,\n\t\tencryptDataChannel : false,\n\t\tcompressDataChannel : false\n\t}\n}\n\n\n\nexport function onedatashareModel(state = initialState, action) {\n  // For now, don't handle any actions\n  // and just return the state given to us.\n  switch (action.type) {\n    case LOGIN:\n   \t\tconst {email, hash, saveOAuthTokens} = action.credential;\n      console.log('logging in', email);\n      \n      cookies.set('email', email, { expires : maxCookieAge });\n\t\t  cookies.set('hash', hash, { expires : maxCookieAge });\n      cookies.set('saveOAuthTokens', saveOAuthTokens, { expires : maxCookieAge });\n    \treturn Object.assign({}, state, {\n    \t\tlogin: true,\n    \t\temail: email,\n        hash: hash,\n        saveOAuthTokens: saveOAuthTokens\n      });\n      \n    case LOGOUT:\n      console.log(\"logging out\");\n      cookies.remove('email');\n      cookies.remove('hash');\n      cookies.remove('admin');\n      cookies.remove('endpoint1');\n      cookies.remove('endpoint2');\n      cookies.remove('saveOAuthTokens');\n      cookies.remove(DROPBOX_NAME);\n      cookies.remove(GOOGLEDRIVE_NAME);\n      window.location.replace('/');\n\n      return Object.assign({}, state, {\n        login: false,\n        admin: false,\n        hash: \"\",\n        email: \"noemail\",\n        saveOAuthTokens: undefined\n      });\n\n    case PROMOTE:\n      return Object.assign({}, state, {\n        admin: true,\n      });\n\n    case ENDPOINT_PROGRESS:\n      if(action.side === \"left\")\n        return Object.assign({}, state, {\n          endpoint1: {...state.endpoint1, loginProgress: action.progress},\n        });\n      else\n        return Object.assign({}, state, {\n          endpoint2: {...state.endpoint2, loginProgress: action.progress},\n        });\n\n    case ENDPOINT_UPDATE:\n      if(action.side === \"left\"){\n        console.log(JSON.stringify({...state.endpoint1, ...action.endpoint}));\n        cookies.set('endpoint1', JSON.stringify({...state.endpoint1, ...action.endpoint}, { expires : maxCookieAge }));\n          return Object.assign({}, state, {\n            endpoint1: {...state.endpoint1, ...action.endpoint},\n          });\n        }\n      else{\n        cookies.set('endpoint2', JSON.stringify({...state.endpoint2, ...action.endpoint}), { expires : maxCookieAge });\n        return Object.assign({}, state, {\n          endpoint2: {...state.endpoint2, ...action.endpoint},\n        });\n      }\n\n    case UPDATE_HASH:\n      cookies.remove('hash');\n      cookies.set('hash',  action.hash, { expires : maxCookieAge });\n          return Object.assign({}, state, {\n                    hash: action.hash\n                  });\n    \n    case ACCOUNT_PREFERENCE_TOGGLED:\n      cookies.set('saveOAuthTokens', action.saveOAuthTokens);\n      return Object.assign({}, state, {saveOAuthTokens: action.saveOAuthTokens});\n    \n    default:\n      return state\n  }\n}\n","import { url } from '../constants';\nimport { logoutAction } from \"../model/actions.js\";\nimport { store } from \"../App.js\";\nimport Axios from \"axios\";\n\nimport { getType, getTypeFromUri } from '../constants.js';\nimport { getMapFromEndpoint, getIdsFromEndpoint } from '../views/Transfer/initialize_dnd.js';\n\nimport { cookies } from \"../model/reducers.js\";\nconst FETCH_TIMEOUT = 10000;\n\n\nconst axios = Axios.create({\n  timeout: FETCH_TIMEOUT,\n  headers: {\n  \tAccept: 'application/json',\n\t'Content-Type': 'application/json'\n  }\n});\n\nfunction statusHandle(response, callback){\n\t//console.log(response)\n\tconst statusFirstDigit = Math.floor(response.status/100);\n\tif(statusFirstDigit < 3){\n\t\t// 100-200 success code=\n\t\tcallback(response.data);\n\t}else\n\tif(statusFirstDigit < 5){\n\t\t// 300-499 redirect/user error code\n\t\tcallback(`${response.status} ${response.statusText}`);\n\t}else{\n\t\t// 500 error code\n\t\tif(response.name === \"PermissionDenied\" && store.getState().login){\n\t\t\tif (window.confirm('You have been logged out. Login again?'))\n\t\t\t{\n\t\t\t\tstore.dispatch(logoutAction());\n\t\t\t}\n\t\t}\n\t\tif (response.status === 408 || response.code === 'ECONNABORTED') {\n\t      callback(`Timeout 10000ms`)\n\t      return;\n\t    }\n\t\t// console.log(response)\n\t\t//const errorText = JSON.stringify(response.response.data);\n\t\tcallback(`500`);\n\t}\n}\n\n/*\n\tDesc: Check if current email is a user\n\tinput: Email\n\taccept: (successMessage:string){}\n\tfail: (errorMessage:string){}\n*/\n\nexport async function checkLogin(email, accept, fail){\n\tvar callback = accept;\n\taxios.post(url+'user', {\n\t    action: 'verifyEmail',\n\t    email: email,\n\t}).then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t}).catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\n\n/*\n\tDesc: Send a code to the user\n\tinput: Email\n\taccept: (successMessage:string){}\n\tfail: (errorMessage:string){}\n*/\n\nexport async function resetPasswordSendCode(email, accept, fail){\n\tvar callback = accept;\n\n\taxios.post(url+'user', {\n\t    action: 'sendVerificationCode',\n\t    email: email\n\t}).then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t}).catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\n\n/*\n\tDesc: Verify Code for the user\n\tinput: Email\n\taccept: (successMessage:string){}\n\tfail: (errorMessage:string){}\n*/\n\nexport async function resetPasswordVerifyCode(email,code, accept, fail){\n\tvar callback = accept;\n\n\taxios.post(url+'user', {\n\t    action: 'verifyCode',\n\t    email: email,\n\t    code: code\n\t}).then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t}).catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\n/*\n\tDesc: Send a code to the user\n\tinput: Email\n\taccept: (successMessage:string){}\n\tfail: (errorMessage:string){}\n*/\nexport async function resetPassword(email,code,password, cpassword, accept, fail){\n\tvar callback = accept;\n\n\taxios.post(url+'user', {\n\t    action: 'setPassword',\n\t    email: email,\n\t    code: code,\n\t    password: password,\n\t    confirmPassword: cpassword\n\t}).then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t}).catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\nexport async function resendVerificationCode(emailId){\n\treturn axios.post(url+'user',{\n\t\taction:'resendVerificationCode',\n\t\temail: emailId\n\t})\n\t.then((response) => {\n\t\treturn response\n\t})\n\t.catch((error) =>{\n\t\t\n\t});\n}\n\nexport async function setPassword(emailId, code, password, confirmPassword) {\n\n    return axios.post(url+'user', {\n    \t    action: \"setPassword\",\n    \t    email : emailId,\n    \t    code : code,\n    \t    password : password,\n    \t    confirmPassword : confirmPassword\n    \t})\n    \t.then((response) => {\n    \t\tif(!(response.status === 200))\n    \t\t\tthrow new Error(\"Failed to set password for users account\")\n    \t\telse {\n                    return response;\n                }\n    \t})\n    \t.catch((error) => {\n          return {status : 500}\n        });\n}\n\n\n/*\n\tDesc: Login and return a hash\n\tinput: Email\n\taccept: (successMessage:string){}\n\tfail: (errorMessage:string){}\n*/\nexport async function login(email, password, accept, fail){\n\tvar callback = accept;\n\n\taxios.post(url+'user', {\n\t    action: 'login',\n\t    email: email,\n\t    password: password,\n\t}).then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      \n      statusHandle(error, fail);\n    });\n}\n\nexport async function isAdmin(email, hash, accept, fail){\n\tvar callback = accept;\n\taxios.post(url+'user', {\n\t    action: 'isAdmin',\n\t    email: email,\n\t    hash: hash,\n\t}).then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      \n      statusHandle(error, fail);\n    });\n}\n\nexport async function history(uri, portNum, accept, fail){\n\tvar callback = accept;\n\n\taxios.post(url+'user', {\n\t    action: 'history',\n\t    portNumber: portNum,\n\t    uri: encodeURI(uri)\n\t}).then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\nexport async function globusEndpointIds(gep,  accept, fail){\n\tvar callback = accept;\n\taxios.post(url+'globus', {\n\t    action: 'endpointId',\n\n\t    globusEndpoint: gep,\n\t}).then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\nexport async function globusEndpointDetail(gep, accept, fail){\n\tvar callback = accept;\n\taxios.post(url+'globus', {\n\t    action: 'endpoint',\n\t    globusEndpoint: gep,\n\t}).then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\nexport async function globusEndpointActivate(gep,_username, _password, accept, fail){\n\tvar callback = accept;\n\taxios.post(url+'globus', {\n\t    action: 'endpointActivate',\n\t    globusEndpoint: gep,\n\t    username: _username,\n\t    password: _password\n\t}).then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\n\nexport async function deleteHistory(uri, accept, fail){\n\tvar callback = accept;\n\n\taxios.post(url+'user', {\n\t\taction: \"deleteHistory\",\n\t    uri: encodeURI(uri)\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\nexport async function deleteEndpointId(ged, accept, fail){\n\tvar callback = accept;\n\n\taxios.post(url+'globus', {\n\t\taction: \"deleteEndpointId\",\n\t    globusEndpoint: ged,\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\n/*\n\tDesc: List credentials for dropbox and googledrive\n*/\nexport async function savedCredList(accept, fail){\n\tvar callback = accept;\n\taxios.get(url+'cred?action=list')\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      \n      statusHandle(error, fail);\n    });\n}\n\n/*\n\tDesc: Extract all transfers for the user\n*/\nexport async function queue(isHistory,pageNo, pageSize, sortBy, order,accept, fail){\n\tvar callback = accept;\n\taxios.post(url+'q', {\n\t\tstatus: isHistory ? 'all' : 'userJob',\n        pageNo: pageNo,\n        pageSize: pageSize,\n        sortBy: sortBy,\n        sortOrder: order\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      fail(error);\n    });\n}\n\n// Service method that connects with ODS backend to submit an issue reported by the user and create a ticket.\nexport async function submitIssue(reqBody, success, fail){\n\tvar callback = success;\n\n\taxios.post(url+'ticket', reqBody).then((resp) =>{\n\t\tif(!(resp.status === 200))\n\t\t callback = fail;\n\t\tstatusHandle(resp, callback)\n\t})\n\t.catch((err) =>{\n\t\tfail(err)\n\t});\n}\n\nexport async function submit(src, srcEndpoint, dest, destEndpoint, options,accept, fail){\n\tvar callback = accept;\n\t// console.log(src)\n\tvar src0 = Object.assign({}, src);\n\tvar dest0 = Object.assign({}, dest);\n\tif(Object.keys( src0.credential ).length === 0){\n\t\tdelete src0[\"credential\"];\n\t}\n\tif(Object.keys( dest0.credential ).length === 0){\n\t\tdelete dest0[\"credential\"];\n\t}\n\n\taxios.post(url+'submit', {\n\t    src: {...src0, type: getType(src0), map: getMapFromEndpoint(srcEndpoint)},\n\t    dest: {...dest0, type: getType(dest0), map: getMapFromEndpoint(destEndpoint)},\n\t    options:options\n\t}).then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      \n      statusHandle(error, fail);\n    });\n}\n\nexport async function listFiles(uri, endpoint, id, accept, fail){\n\tvar body = {\n\t    uri: encodeURI(uri),\n\t    id: id,\n\t    portNumber: endpoint.portNumber,\n\t    type: getTypeFromUri(uri)\n\t  };\n\n\tbody = Object.keys(endpoint.credential).length > 0 ? {...body, credential: endpoint.credential} : body;\n\n\tvar callback = accept;\n\taxios.post(url+'ls', JSON.stringify(body))\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\nexport async function share(uri, endpoint, accept, fail){\n\tvar callback = accept;\n\n\taxios.post(url+'share', {\n\t    credential: endpoint.credential,\n\t    uri: encodeURI(uri),\n\t    type: getTypeFromUri(uri),\n\t    map: getMapFromEndpoint(endpoint),\n\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      \n      statusHandle(error, fail);\n    });\n}\n\nexport async function mkdir(uri,type, endpoint,  accept, fail){\n\tvar callback = accept;\n\tconst ids = getIdsFromEndpoint(endpoint);\n\tconst id = ids[ids.length - 1];\n\taxios.post(url+'mkdir', {\n\t    credential: endpoint.credential,\n\t    uri: encodeURI(uri),\n\t    id: id,\n\t    type: type,\n\t    map: getMapFromEndpoint(endpoint),\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\nexport async function deleteCall(uri, endpoint, id, accept, fail){\n\tvar callback = accept;\n\taxios.post(url+'delete', {\n\t    credential: endpoint.credential,\n\t    uri: encodeURI(uri),\n\t    id: id,\n\t    type: getTypeFromUri(uri),\n\t    map: getMapFromEndpoint(endpoint)\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      \n      statusHandle(error, fail);\n    });\n}\n\n// Returns the url for file. It is used to download the file and also to display in share url popup\nasync function getDownloadLink(uri, credential, _id){\n\treturn axios.post(url+'download', {\n\t\ttype: getTypeFromUri(uri),\n\t\tcredential: credential,\n\t\turi: encodeURI(uri),\n\t\tid: _id,\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tconsole.log(\"Error in download API call\");\n\t\telse{\n\t\t\treturn response.data\n\t\t}\n\t})\n\t.catch((error) => {\n\t\t\tconsole.log(\"Error encountered while generating download link\");\n\t});\n}\n\nexport async function getSharableLink(uri, credential, _id){\n\t\treturn getDownloadLink(uri, credential, _id).then((response) => {\n\t\t\treturn response\n\t\t})\n}\n\nexport async function download(uri, credential, _id){\n\treturn getDownloadLink(uri, credential, _id).then((response) => {\n\t\tif(response !== \"\"){\n\t\t\twindow.open(response)\n\t\t}\n\t\telse{\n\t\t\tconsole.log(\"Error encountered while generating download link\");\n\t\t}\n\t})\n}\n\nexport async function getDownload(uri, credential, _id, succeed){\n\n\tlet json_to_send = {\n\t\tcredential: credential,\n\t\ttype: getTypeFromUri(uri),\n\t\turi: encodeURI(uri),\n\t\tid: \"\",\n\t}\n\t\n\tconst strin = JSON.stringify(json_to_send);\n\tcookies.set(\"SFTPAUTH\", strin, { expires : 10});\n\n\n\twindow.location = url + \"download/file\";\n}\n\nexport async function upload(uri, credential, accept, fail){\n\tvar callback = accept;\n\n\taxios.post(url+'share', {\n\t    credential: credential,\n\t    uri: encodeURI(uri),\n\t    type: getTypeFromUri(uri)\n\t}).then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      \n      statusHandle(error, fail);\n    });\n}\n\n/*\n\tDesc: Retrieve all the available users\n*/\nexport async function getUsers(type, pageNo, pageSize, sortBy, order, accept, fail){\n\tvar callback = accept;\n\n\taxios.post(url+'user', {\n\t\t\taction: type,\n\t\t\tpageNo: pageNo,\n\t\t\tpageSize: pageSize,\n\t\t\tsortBy: sortBy,\n\t\t\tsortOrder: order\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      \n      statusHandle(error, fail);\n    });\n}\n\nexport async function getUser(email, accept, fail){\n    var callback = accept;\n\n    axios.post(url+'user',{\n        action: \"getUser\",\n        email: email,\n    })\n    .then((response) => {\n        if(!(response.status === 200))\n        callback = fail;\n        statusHandle(response, callback);\n    })\n    .catch((error) => {\n        statusHandle(error, fail);\n    })\n}\n\nexport async function updateSaveOAuth(email, saveOAuth, successCallback){\n\taxios.post(url + 'user', {\n\t\taction: \"updateSaveOAuth\",\n\t\temail: email,\n\t\tsaveOAuth: saveOAuth\n\t})\n\t.then((response) => {\n\t\tif(response.status === 200)\n\t\t\tsuccessCallback();\n\t})\n\t.catch((error) => {\n\t\t\tconsole.log(\"Error encountered while updating the user.\");\n\t});\n}\n\nexport async function updateAdminRightsApiCall(email, isAdmin){\n\treturn axios.put(url+'user', {\n\t\taction: \"updateAdminRights\",\n\t\temail: email,\n\t\tisAdmin: isAdmin\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\treturn false;\n\t\telse{\n\t\t\treturn true;\n\t\t}\n\t})\n\t.catch((error) => {\n\t\t\tconsole.log(\"Error encountered while updating the user.\");\n\t});\n}\n\n/*\n\tDesc: Change Password\n*/\nexport async function changePassword(oldPassword, newPassword,confirmPassword, accept, fail){\n\tvar callback = accept;\n\n\taxios.post(url+'user', {\n\t\taction: \"resetPassword\",\n\t    password: oldPassword, \n\t    newPassword: newPassword,\n\t    confirmPassword: confirmPassword\n\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      fail(error);\n    });\n}\n\nexport async function cancelJob(jobID, accept, fail){\n\tvar callback = accept;\n\tfetch(url+'cancel', {\n\t  method: 'POST',\n\t  headers: {\n\t    Accept: 'application/json',\n\t    'Content-Type': 'application/json',\n\t  },\n\t  body: JSON.stringify({\n\t    job_id: jobID\n\t  }),\n\t})\n\t.then((response) => {\n\t\tif(!response.ok) \n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      fail(error);\n    });\n}\n\nexport async function deleteCredentialFromServer(uri, accept, fail){\n\tvar callback = accept;\n\n\taxios.post(url+'user', {\n\t\taction: \"deleteCredential\",\n\t    uuid: uri\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      statusHandle(error, fail);\n    });\n}\n\n\nexport async function restartJob(jobID, accept, fail){\n\tvar callback = accept;\n\taxios.post(url+'restart',{\n\t\tjob_id: jobID\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      \n      statusHandle(error, fail);\n    });\n}\n\nexport async function deleteJob(jobID, accept, fail){\n\tvar callback = accept;\n\taxios.post(url+'deleteJob',{\n\t\tjob_id: jobID\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n\n      statusHandle(error, fail);\n    });\n}\n\nexport async function openDropboxOAuth(){\n\topenOAuth(\"/api/stork/oauth?type=dropbox\");\n}\n\nexport async function openGoogleDriveOAuth(){\n\topenOAuth(\"/api/stork/oauth?type=googledrive\");\n}\n\nexport async function openGridFtpOAuth(){\n\topenOAuth(\"/api/stork/oauth?type=gridftp\");\n}\n\nexport async function openOAuth(url){\n\twindow.location = url;\n}\n\n\nexport async function registerUser(requestBody) {\n\n\treturn axios.post(url+'user', {action: \"register\", ...requestBody})\n\t\t\t\t.then((response) => {\n\t\t\t\t\t\tif(response.data && response.data.status && response.data.status === 302) {\n\t\t\t\t\t\t\tconsole.log(\"User already exists\");\n\t\t\t\t\t\t\treturn {status : 302}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!(response.status === 200))\n\t\t\t\t\t\t\tthrow new Error(\"Failed to register user\")\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\treturn response\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t//statusHandle(error, fail);\n\t\t\t\t\t\tconsole.error(\"Error while registering user\");\n\t\t\t\t\t\treturn {status : 500}\n\t\t\t\t\t}\n\t\t\t\t);\n}\n\n\nexport async function verifyRegistraionCode(emailId, code) {\n    return axios.post(url+'user', {\n    \t    action: \"verifyCode\",\n    \t    email : emailId,\n    \t    code : code\n    \t})\n    \t.then((response) => {\n            return response;\n    \t\t//statusHandle(response, callback);\n    \t})\n    \t.catch((error) => {\n          //statusHandle(error, fail);\n          console.error(\"Error while verifying the registration code\")\n          return {status : 500}\n        });\n}\n\nexport async function globusListEndpoints( filter_fulltext, accept, fail) {\n    var callback = accept;\n    return axios.post(url+'globus', {\n\t    action : \"endpoint_list\",\n\t    filter_fulltext : filter_fulltext\n\t})\n\t.then((response) => {\n\t\tif(!(response.status === 200))\n\t\t\tcallback = fail;\n\t\tstatusHandle(response, callback);\n\t})\n\t.catch((error) => {\n      \n      statusHandle(error, fail);\n    });\n}\n\n","import React, { Component } from 'react';\nimport { Navbar, Nav, NavItem, NavDropdown } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport ContactSupportOutlined from '@material-ui/icons/ContactSupportOutlined';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { transferPageUrl, queuePageUrl, userPageUrl, userListPageUrl, historyPageUrl, registerPageUrl, accountPageUrl } from '../constants';\nimport { store } from '../App';\nimport { logoutAction, isAdminAction } from '../model/actions';\nimport { isAdmin } from '../APICalls/APICalls';\n\nclass NavbarComponent extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tlogin: store.getState().login,\n\t\t\temail: store.getState().email,\n\t\t\tadmin: store.getState().admin\n\t\t};\n\t\tif (this.state.login) {\n\t\t\tisAdmin(store.getState().email, store.getState().hash, (userIsAdmin) => {\n\t\t\t\tif (userIsAdmin) {\n\t\t\t\t\tstore.dispatch(isAdminAction())\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"not admin\")\n\t\t\t\t}\n\t\t\t}, (error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\t}\n\n\t\tthis.unsubscribe = store.subscribe(() => {\n\t\t\tthis.setState({ login: store.getState().login, email: store.getState().email, admin: store.getState().admin });\n\t\t});\n\t}\n\tcomponentWillUnmount() {\n\t\tthis.unsubscribe();\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<Navbar inverse collapseOnSelect fixedTop className=\"navbar_navbar\" id=\"navbar\">\n\n\t\t\t\t<Navbar.Header >\n\t\t\t\t\t<Navbar.Brand>\n\t\t\t\t\t\t<Link to=\"/\">OneDataShare</Link>\n\t\t\t\t\t</Navbar.Brand>\n\t\t\t\t\t<Navbar.Toggle />\n\t\t\t\t</Navbar.Header>\n\n\n\t\t\t\t<Navbar.Collapse>\n\t\t\t\t\t{(this.state.login) &&\n\t\t\t\t\t\t<Nav>\n\t\t\t\t\t\t\t<NavItem componentClass={Link} href={transferPageUrl} to={transferPageUrl}>Transfer</NavItem>\n\t\t\t\t\t\t\t<NavItem componentClass={Link} href={queuePageUrl} to={queuePageUrl}>Queue</NavItem>\n\n\t\t\t\t\t\t\t{this.state.admin &&\n\t\t\t\t\t\t\t\t<NavDropdown title=\"Admin\" id=\"Navbar Dropdown\">\n\t\t\t\t\t\t\t\t\t<NavItem componentClass={Link} to={userListPageUrl} href={userListPageUrl}>\n\t\t\t\t\t\t\t\t\t\tClients Information\n\t\t\t        \t</NavItem>\n\t\t\t\t\t\t\t\t\t<NavItem componentClass={Link} to={historyPageUrl} href={historyPageUrl}>History</NavItem>\n\t\t\t\t\t\t\t\t\t{/*<NavItem componentClass={Link} to={managementPageUrl} href={managementPageUrl}>Management</NavItem>\n\t\t\t        \t<NavItem componentClass={Link} to={dataPageUrl} href={dataPageUrl}>Data</NavItem>*/}\n\t\t\t\t\t\t\t\t</NavDropdown>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Nav>}\n\n\t\t\t\t\t<Nav pullRight>\n\t\t\t\t\t\t{this.state.login &&\n\t\t\t\t\t\t\t<NavItem componentClass={Link} to={userPageUrl} href={userPageUrl}>{this.state.email}</NavItem>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{!this.state.login &&\n\t\t\t\t\t\t\t<NavItem componentClass={Link} to={accountPageUrl} href={accountPageUrl}>Sign in</NavItem>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{!this.state.login &&\n\t\t\t\t\t\t\t<NavItem componentClass={Link} to={registerPageUrl} href={registerPageUrl}>Register</NavItem>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{this.state.login &&\n\t\t\t\t\t\t\t<NavItem onClick={() => { store.dispatch(logoutAction()) }}>\n\t\t\t\t\t\t\t\t<span>Log out</span>\n\t\t\t\t\t\t\t</NavItem>}\n\n\t\t\t\t\t\t<NavItem component={Link} href=\"/support\">\n\t\t\t\t\t\t\t<Tooltip title=\"Report an issue\" placement=\"top\">\n\t\t\t\t\t\t\t\t<ContactSupportOutlined />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</NavItem>\n\t\t\t\t\t</Nav>\n\t\t\t\t</Navbar.Collapse>\n\t\t\t</Navbar>\n\t\t);\n\t}\n}\n\n\n\nexport default NavbarComponent;\n","import ReactGA from \"react-ga\";\n\n/** \n * Initializes the google analytics library \n */ \nexport function initializeReactGA() {\n  if(process.env.REACT_APP_GA_KEY !== undefined){\n    ReactGA.initialize(process.env.REACT_APP_GA_KEY);\n  }\n}\n\n/** \n * Updates the user's current page view in Google analytics\n */ \nexport function updateGAPageView() {\n  if(process.env.REACT_APP_GA_KEY !== undefined){\n    ReactGA.pageview(window.location.pathname);\n  }\n}\n","import React, { Component } from 'react';\nimport {Glyphicon, Jumbotron, Row, Col} from 'react-bootstrap';\nimport Slider from \"react-slick\";\n\nimport fastImage from '../assets/fast.png';\nimport easyImage from '../assets/easy.png';\nimport eteImage from '../assets/endtoend.png';\nimport precImage from '../assets/precise.png';\nimport intopImage from '../assets/interoperation.png';\n\nimport nsfImage from '../assets/NSF_Logo.png';\nimport ubImage from '../assets/ub.png';\nimport {updateGAPageView} from \"../analytics/ga\";\n\n\nconst textStyle = {color:'white', fontSize: '1.2em', textAlign: 'left'};\nconst headerStyle = {...textStyle,fontWeight: 200, fontSize: '4em'};\nconst cardStyle = {margin: '8vw'};\nconst sideStyle = {...textStyle, fontSize: '1.5em'};\nconst rowStyle = {background: '#579', padding: '8vw', width: '100%', margin: 0};\n\nconst subHeaderStyle = {...textStyle, fontSize: '2em'}\nconst subTextStyle = {...textStyle, fontSize: '1.1em'}\n\nfunction CustomNextArrow(props) {\n  const { style, onClick } = props;\n  return (\n    <div\n      className=\"slick-next\"\n      style={{ ...style}}\n      onClick={onClick}\n    >\n    \t<Glyphicon glyph=\"chevron-right\" style={{fontSize:\"50px\", color: \"white\"}}/>\n    </div>\n  );\n}\n\nfunction CustomPrevArrow(props) {\n  const { style, onClick } = props;\n  return (\n    <div\n      className=\"slick-prev\"\n      style={{ ...style}}\n      onClick={onClick}\n    >\n    \t<Glyphicon glyph=\"chevron-left\" style={{fontSize:\"50px\", color: \"white\"}}/>\n    </div>\n  );\n}\n\n\nexport default class HomePageComponent extends Component {\n\tconstructor(){\n\t\tsuper();\n\t\tupdateGAPageView();\n\t}\n\n\tcomponentDidMount(){\n\t\tdocument.title = \"OneDataShare - Home\";\n\t}\n\n\trender(){\n\t\tvar settings = {\n\t\t\tdots: true,\n\t\t\tinfinite: true,\n\t\t\tspeed: 500,\n\t\t\tslidesToShow: 1,\n\t\t\tslidesToScroll: 1,\n\t\t\tappendDots: dots => <ul style={{bottom: \"8%\", zIndex: 1}}>{dots}</ul>,\n\t\t\tnextArrow: <CustomNextArrow/>,\n\t\t\tprevArrow: <CustomPrevArrow/>,\n\t\t\tautoplay: false,\n\t\t\tresponsive: [{breakpoint: 500, settings: {arrows: false}}]\n\t    };\n\t\treturn(\n\t\t<Col>\n\t\t\t<Slider {...settings} >\n\t\t\t\t<div>\n\t\t\t\t\t<Jumbotron className=\"homepage_section homepage_section1\">\n\t\t\t\t\t\t<Col style={cardStyle}>\n\t\t\t\t            <h1 style={headerStyle}>OneDataShare&nbsp;\n\t\t\t\t                <sup title=\"Beta\">&beta;</sup>\n\t\t\t\t            </h1>\n\t\t\t\t            <p style={sideStyle}>OneDataShare is a reliable and fast data movement service in the cloud.</p>\n\t\t\t\t            <h4 style={textStyle}>We aim to deliver:</h4>\n\t\t\t\t            <ul style={textStyle}>\n\t\t\t\t                <li>Robust multi-protocol data transfer as a service</li>\n\t\t\t\t                <li>Remote file browsing in your web browser</li>\n\t\t\t\t                <li>Advanced transfer optimization algorithms</li>\n\t\t\t\t            </ul>\n\t\t\t\t        </Col>\n\t\t\t\t\t</Jumbotron>\n        \t\t</div>\n\t        \t<div>\n\t\t    \t\t<Jumbotron className=\"homepage_section homepage_section2\">\n\t\t\t\t\t\t<Col style={cardStyle}>\n\t\t\t\t            <h1 style={headerStyle}>Decreased Uncertainty in Real-time Decision-Making Processes.</h1>\n\t\t\t\t            <p style={sideStyle}>OneDataShare’s data throughput and delivery time prediction service will \n\t\t\t                        eliminate possible long delays in completion of a transfer operation and \n\t\t\t                        increase utilization of end-system and network resources by giving an \n\t\t                        opportunity to provision these resources in advance with great accuracy.</p>\n\t\t\t            </Col>\n\t\t\t\t\t</Jumbotron>\n\t\t        </div>\n\t\t        <div>\n\t\t    \t\t<Jumbotron className=\"homepage_section homepage_section3\">\n\t\t\t\t\t\t<Col style={cardStyle}>\n\t\t\t\t            <h1 style={headerStyle}>Reduced Time to the Delivery of Data</h1>\n\t\t\t\t            <p style={sideStyle}>OneDataShare reduces the time to the delivery of data, \n\t\t\t                        and drastically increases the end-to-end performance of \n\t\t\t                        data-intensive applications relying on remote data sources.</p>\n\t\t\t\t            \n\t\t\t            </Col>\n\t\t\t\t\t</Jumbotron>\n\t\t        </div>\n\t\t    \t<div >\n\t\t\t\t\t<Jumbotron className=\"homepage_section homepage_section4\">\n\t\t\t\t\t\t<Col style={cardStyle}>\n\t\t\t            <h1 style={headerStyle}>Interoperation Across Heterogeneous Data Resources</h1>\n\t\t\t            <p style={sideStyle}>OneDataShare provides interoperation across heterogeneous data resources \n\t\t                        and on-the-fly translation between different data transfer protocols. \n\t\t                        Sharing data between traditionally non-compatible data sources becomes \n\t\t                        very easy and convenient with OneDataShare.</p>\n\t\t\t            \n\t\t\t            </Col>\n\t\t\t\t\t</Jumbotron>\n\t\t        </div>\n\t\t        <div>\n\t\t    \t\t<Jumbotron className=\"homepage_section homepage_section5\">\n\t\t\t\t\t\t<Col style={cardStyle}>\n\t\t\t            <h1 style={headerStyle}>Fast, Scalable, and Flexible Data Sharing Made Easy</h1>\n\t\t\t            <p style={sideStyle}>OneDataShare makes the data readily available to the users and to their applications in the fastest and the most efficient way possible.</p>\n\t\t\t            \n\t\t\t            </Col>\n\t\t\t\t\t</Jumbotron>\n\t\t        </div>\n\t\t        <div>\n\t        \t\t<Jumbotron className=\"homepage_section homepage_section6\">\n\t\t\t\t\t\t<Col style={cardStyle}>\n\t\t\t            <h1 style={headerStyle}>End-to-end Data Sharing Solution</h1>\n\t\t\t            <p style={sideStyle}>Anything that requires high-volume data transfer, \n\t                            from real-time weather conditions and natural disasters to \n\t                            sharing genomic maps and real-time consumer behavior analysis, \n\t                            will benefit from OneDataShare.</p>\n\t\t\t            \n\t\t      \t    \t</Col>\n\t\t\t\t\t</Jumbotron>\n\t        \t</div>\n\t\t\t</Slider>\n\n\t\t\t<Row style={rowStyle}>\n\t\t\t\t<img width={'300px'} src={fastImage} style={{float: 'left'}} alt=\"Fast, Scalable, and Flexible Data Sharing Made Easy\"></img>\n\t\t        <h3 style={subHeaderStyle}>Fast, Scalable, and Flexible Data Sharing Made Easy</h3>\n\t\t        <p style={subTextStyle}>OneDataShare harnesses the power of the cloud and implements state-of-the-art frameworks to optimize data transfer scheduling. It enhances the speed of data transfer via multiple protocols by enabling faster data transfer across the network. OneDataShare utilizes the available bandwidth to the fullest by using many optimization mechanisms, thereby speeding up data transfer and lowering cost.</p>\n\t\t    </Row>\n\n\t\t    <Row style={rowStyle}>\n\t\t\t\t<img width={'300px'} src={easyImage} style={{float: 'left'}} alt=\"Reduced Time to the Delivery of Data\"></img>\n\t\t        <h3 style={subHeaderStyle}>Reduced Time to the Delivery of Data</h3>\n\t\t        <p style={subTextStyle}>OneDataShare reduces the time to the delivery of data and drastically increases the end-to-end performance of data-intensive applications relying on remote data sources. It provides an end-to-end data transfer architecture which is reliable, fast and effective. The users are capable of reducing the burden of data transfer time through the use of OneDataShare.</p>\n\t\t    </Row>\n\n\t\t    <Row style={rowStyle}>\n\t\t\t\t<img width={'300px'} src={intopImage} style={{float: 'left'}} alt=\"Interoperation Across Heterogeneous Data Resources\"></img>\n\t\t        <h3 style={subHeaderStyle}>Interoperation Across Heterogeneous Data Resources</h3>\n\t\t        <p style={subTextStyle}>By using OneDatashare, users can transfer their data across multiple protocols and platforms without having to worry about protocol translation. OneDataShare takes care of the protocol translation across multiple users ends and it provides a user-friendly field to translate data across multiple instances and ensures effective compatibility and platform independence as data gets transferred from the newest to the oldest protocols and vice versa.</p>\n\t\t    </Row>\n\n\t\t    <Row style={rowStyle}>\n\t\t\t\t<img width={'300px'} src={precImage} style={{float: 'left'}} alt=\"Decreased Uncertainty in Real-time Decision-Making Processes\"></img>\n\t\t        <h3 style={subHeaderStyle}>Decreased Uncertainty in Real-time Decision-Making Processes.</h3>\n\t\t        <p style={subTextStyle}>Delays over transmission of large data sets are eliminated by using OneDataShare. The desirable data delivery throughput of OneDataShare will alleviate the issue of a long time of data transfer. Hence users will be able to experience faster data deposits across long distances which will, in turn, speed up their other processes regarding usage of the data. Also, it will provide the users with upfront information regarding their data transfers and arrivals, thereby enabling them to prepare in advance for data transfer and scheduling.</p>\n\t\t    </Row>\n\n\t\t    <Row style={rowStyle}>\n\t\t\t\t<img width={'300px'} src={eteImage} style={{float: 'left'}} alt=\"End-to-end Data Sharing Solution\"></img>\n\t\t        <h3 style={subHeaderStyle}>End-to-end Data Sharing Solution</h3>\n\t\t        <p style={subTextStyle}>OneDataShare is capable of transferring high-volume data of data like real-time weather predictions and conditions and natural disasters to sharing genomic maps and consumer behavior statistics for business intelligence, climate change data or geographic data from any Management Information System (MIS) from anywhere in the world.</p>\n\t\t    </Row>\n\n\t\t    <Row style={{...rowStyle, backgroundColor: 'white'}}>\n\t\t\t\t<img width={'150px'} src={nsfImage} style={{float: 'left'}} alt=\"NSF Logo\"></img>\n\t\t\t\t<img width={'150px'} src={ubImage} style={{float: 'left'}} alt=\"UB Logo\"></img>\n\n\t\t    </Row>\n\t\t</Col>\n\t\t\t);\n\t\t;\n\t}\n}","// @flow\nimport {getColumn} from \"./initialize_dnd.js\"\n\nexport function screenIsSmall(){\n    return window.innerWidth <= 760;\n}\n\n// a little function to help us with reordering the result\nexport const reorder = (list: any[], startIndex: number, endIndex: number): any[] => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n  return result;\n};\n\n\nconst withNewTasks = (column, tasks) => ({\n  ...column,\n  tasks,\n});\n\nconst reorderSingleDrag = ({\n  entities,\n  selectedTasks,\n  source,\n  destination,\n}) => {\n  // dont allow moving in the same list\n  if (source.droppableId === destination.droppableId) {\n\n    const column: Column = getColumn(source.droppableId);\n    const reordered = reorder(\n      column.tasks,\n      source.index,\n      destination.index,\n    );\n\n    const task = column.tasks[source.index];\n    const updated: Entities = {\n      ...entities,\n      [column.id]: withNewTasks(column, reordered),\n    };\n\n    const selected = selectedTasks[source.droppableId];\n\n    if(selected.length === 0){\n      selected.push(task);\n    }\n\n    return {\n      ...updated,\n      selectedTasks:selected,\n      fromTo: [column, column]\n    };\n  }\n\n  // moving to a new list\n  const home: Column = getColumn(source.droppableId);\n  const foreign: Column = getColumn(destination.droppableId);\n\n  // the id of the task to be moved\n  const task = home.tasks[source.index];\n\n  // remove from home column\n  const newHomeTasks = [...home.tasks];\n  //newHomeTaskIds.splice(source.index, 1);\n\n  // add to foreign column\n  const newForeignTasks = [...foreign.tasks];\n  /*const foundDup = newForeignTasks.find((value) => {return value.name == task.name;});\n  if(foundDup){\n    console.log(foundDup);\n  };*/\n  if(!newForeignTasks.find((value) => {return value.name === task.name;})){\n   // console.log(task);\n   // console.log(newForeignTasks);\n    newForeignTasks.splice(destination.index, 0, task);\n  }else{\n  }\n\n  const updated: Entities = {\n    ...entities,\n    [home.id]: withNewTasks(home, newHomeTasks),\n    [foreign.id]: withNewTasks(foreign, newForeignTasks),\n  };\n  const selected = selectedTasks[source.droppableId];\n  if(selected.length === 0){\n    selected.push(task);\n  }\n  //console.log(selected);\n  return {\n    ...updated,\n    selectedTasks:selected,\n    fromTo: [home, foreign]\n  };\n};\n\nexport const getHomeColumn = (entities, task) => {\n  const column = entities[Object.keys(entities).find((columnId) => {\n    return entities[columnId].tasks.includes(task);\n  })];\n  return column;\n};\n\n\nexport const multiSelectTo = (\n  columnOfNew,\n  selectedTasks,\n  newTask,\n) => {\n  // Nothing already selected\n  if (!selectedTasks.length) {\n    return [newTask];\n  }\n\n  //console.log(columnOfNew);\n\n  if(columnOfNew == null){\n    return selectedTasks;\n  }\n\n  const indexOfNew: number = columnOfNew.tasks.indexOf(newTask);\n  //console.log(indexOfNew);\n  const lastSelected: Id = selectedTasks[selectedTasks.length - 1];\n\n  var indexOfLast: number = columnOfNew.tasks.indexOf(lastSelected);\n  //console.log(indexOfNew);\n\n  // multi selecting in the same column\n  // need to select everything between the last index and the current index inclusive\n  // nothing to do here\n  if (indexOfNew === indexOfLast) {\n    //(indexOfNew, indexOfLast);\n    return [];\n  }\n\n  //console.log(selectedTaskIds); \n\n  const isSelectingForwards = indexOfNew > indexOfLast;\n  const start = isSelectingForwards ? indexOfLast : indexOfNew;\n  const end = isSelectingForwards ? indexOfNew : indexOfLast;\n\n  const inBetween = columnOfNew.tasks.slice(start, end + 1);\n\n  // everything inbetween needs to have it's selection toggled.\n  // with the exception of the start and end values which will always be selected\n  //console.log(inBetween)\n  const toAdd = inBetween.filter(\n    (task) => {\n      // if already selected: then no need to select it again\n      return !selectedTasks.includes(task);\n    },\n  );\n  //console.log(toAdd)\n\n  const sorted = isSelectingForwards ? toAdd : [...toAdd].reverse();\n  const combined = [...selectedTasks, ...sorted];\n\n  return combined;\n};\n\nexport const mutliDragAwareReorder = (args) => {\n  if (args.selectedTasks[\"left\"].length + args.selectedTasks[\"right\"].length > 1) {\n    return reorderMultiDrag(args);\n  }\n  \n  return reorderSingleDrag(args);\n};\n\nconst reorderMultiDrag = ({\n  entities,\n  selectedTasks,\n  source,\n  destination,\n}): Result => {\n  \n  \n  const start = getColumn(source.droppableId);\n  const dragged = start.tasks[source.index];\n\n  const orderedSelectedTasks = selectedTasks[source.droppableId];\n  orderedSelectedTasks.sort((a, b) => {\n      // moving the dragged item to the top of the list\n      if (a === dragged) {\n        return -1;\n      }\n      if (b === dragged) {\n        return 1;\n      }\n\n      // sorting by their natural indexes\n      const columnForA = getHomeColumn(entities, a);\n      const indexOfA = columnForA.tasks.indexOf(a);\n      const columnForB = getHomeColumn(entities, b);\n      //console.log(columnForB)\n      const indexOfB = columnForB.tasks.indexOf(b);\n\n      if (indexOfA !== indexOfB) {\n        return indexOfA - indexOfB;\n      }\n      // sorting by their order in the selectedTaskIds list\n      return -1;\n    },\n  );\n\n  selectedTasks[destination.droppableId] = [];\n  const insertAtIndex = destination.index;\n  //console.log(insertAtIndex);\n  \n  const startSave = JSON.parse(JSON.stringify(start));\n  // we need to remove all of the selected tasks from their columns\n  const withRemovedTasks = Object.keys(entities).reduce(\n    (previous, columnId) => {\n      // remove the id's of the items that are selected\n      const column = entities[columnId];\n      const remainingTasks = column.tasks.filter((task) => !Boolean(orderedSelectedTasks.find(tasksel => tasksel.name === task.name)));\n      previous[columnId].tasks = remainingTasks;\n      return previous;\n    },\n    entities,\n  );\n  \n\n  const finalCol = withRemovedTasks[destination.droppableId];\n  const withInserted = (() => {\n    const base: {} = {...finalCol};\n    base.tasks.splice(insertAtIndex, 0, ...orderedSelectedTasks);\n    return base;\n  })();\n\n  // insert all selected tasks into final column\n  const withAddedTasks = {\n    ...withRemovedTasks,\n    [startSave.id] : startSave,\n    [finalCol.id]: withNewTasks(finalCol, withInserted.tasks),\n  };\n\n  const updated = {\n    ...entities,\n    ...withAddedTasks,\n  };\n  const fromto = (source.droppableId === destination.droppableId)? [withInserted, withInserted] : [startSave, withInserted];\n  return {\n    ...updated,\n    selectedTasks:  orderedSelectedTasks,\n    fromTo: fromto\n  };\n};\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\n\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport FileIcon from \"@material-ui/icons/Note\";\nimport InFolderIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport { Draggable } from 'react-beautiful-dnd';\nimport styled from \"styled-components\";\nimport {getSelectionCount} from \"./initialize_dnd\";\nimport { screenIsSmall } from \"./utils.js\";\n\n/**\n\tComponent for file and directory\n\tExample \n\t[File.   x]\n\t[Folder xxx x]\n\tand you can click to enter\n*/\n\nimport type { DraggableProvided, DraggableStateSnapshot } from 'react-beautiful-dnd';\n\nconst FileDiv = styled.div`\n  outline: none;\n  user-select: none;\n  background-color: ${props => getBackgroundColor(props.isSelected)};\n  color: ${ props => getTextColor(props.isSelected)},\n  display: flex;\n  flex-direction: column; \n  padding: 5px;\n  ${props =>\n    props.isDragging\n      ? `box-shadow: 2px 2px 1px ${\"#333\"};`\n      : ''} ${props =>\n    props.isGhosting\n      ? 'opacity: 0.2;'\n      : ''}\n`;\n\n\nconst getBackgroundColor = (isSelected, isGhosting): string => {\n\tif(isGhosting){\n\t\treturn \"#888\";\n\t}\n\tif (isSelected) {\n\t    return \"#d9edf7\";\n\t}\n\treturn \"#ffffff\";\n};\n\nconst getTextColor = (isSelected, isGhosting): string => {\n\tif(isGhosting){\n\t\treturn \"#888\";\n\t}\n\tif (isSelected) {\n\t    return \"#31708f\";\n\t}\n\n\treturn \"#333333\";\n};\n\n// const getExtraStyle = (isDragging, isGhosting): string => {\n// \tif(isDragging){\n// \t\treturn {boxShadow: \"3px 3px 1px #333\"};\n// \t}\n// \tif(isGhosting){\n// \t\treturn {opacity: 0.2};\n// \t}\n\n// \treturn {};\n// };\n\nconst keyCodes = {\n\tenter: 13,\n\tescape: 27,\n\tarrowDown: 40,\n\tarrowUp: 38,\n\ttab: 9,\n};\n\nconst SelectionCount = styled('div')`\n  left: -${15}px;\n  top: -${15}px;\n  color: ${\"#fff\"};\n  background: ${\"#337ab7\"};\n  border-radius: 50%;\n  height: ${30}px;\n  width: ${30}px;\n  line-height: ${30}px;\n  position: absolute;\n  text-align: center;\n  font-size: 1.8rem;\n`;\n\nconst primaryButton = 0;\n\nexport default class FileNode extends Component {\n\n\tshouldComponentUpdate(nextProps, nextState) { \n    \tif (nextProps.isSelected === this.props.isSelected && \n    \t\tnextProps.isGhosting === this.props.isGhosting && \n    \t\tnextProps.file === this.props.file) return false;\n\n    \treturn true;\n  \t}\n\tonKeyDown = (\n\t    event: KeyboardEvent,\n\t    provided: DraggableProvided,\n\t    snapshot: DraggableStateSnapshot,\n\t) => {\n\t    if (provided.dragHandleProps) {\n\t      provided.dragHandleProps.onKeyDown(event);\n\t    }\n\n\t    if (event.defaultPrevented) {\n\t      return;\n\t    }\n\n\t    if (snapshot.isDragging) {\n\t      return;\n\t    }\n\n\t    if (event.keyCode !== keyCodes.enter) {\n\t      return;\n\t    }\n\t    // we are using the event for selection\n\t    event.preventDefault();\n\n\t    const wasMetaKeyUsed: boolean = event.metaKey || event.ctrlKey;\n\t    const wasShiftKeyUsed: boolean = event.shiftKey;\n\n\t    this.performAction(wasMetaKeyUsed, wasShiftKeyUsed);\n\t};\n\n\tonClick = (event: MouseEvent) => {\n\t    if (event.defaultPrevented) {\n\t      return;\n\t    }\n\t    if (event.button !== primaryButton) {\n\t      return;\n\t    }\n\t    // marking the event as used\n\t    event.preventDefault();\n\n\t    const wasMetaKeyUsed: boolean = event.metaKey || event.ctrlKey;\n\t    const wasShiftKeyUsed: boolean = event.shiftKey;\n\t    this.performAction(wasMetaKeyUsed, wasShiftKeyUsed);\n\t  };\n\tonTouchStart = (event) => {\n\n\t\tthis.setState({dragging: false});\n\t}\n\n\tonTouchMove = (event) => {\n\n\t\tthis.setState({dragging: true});\n\t}\n\n\tonTouchEnd = (event: TouchEvent) => {\n\t    if (event.defaultPrevented || this.state.dragging) {\n\t      return;\n\t    }\n\n\t    // marking the event as used\n\t    // we would also need to add some extra logic to prevent the click\n\t    // if this element was an anchor\n\t    event.preventDefault();\n\n\t    this.props.toggleSelectionInGroup(this.props.file);\n\t    return false;\n\t};\n\n\tperformAction = (wasMetaKeyUsed: boolean, wasShiftKeyUsed: boolean) => {\n\t\tconst {\n\t\t  toggleSelection,\n\t\t  toggleSelectionInGroup,\n\t\t  multiSelectTo,\n\t\t} = this.props;\n\n\t\tif (wasMetaKeyUsed) {\n\t\t  toggleSelectionInGroup(this.props.file);\n\t\t  return;\n\t\t}\n\n\t\tif (wasShiftKeyUsed) {\n\t\t  multiSelectTo(this.props.file);\n\t\t  return;\n\t\t}\n\t\ttoggleSelection(this.props.file);\n\t};\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.humanFileSize = this.humanFileSize.bind(this);\n\t\tthis.state = {\n\t\t\tisDragging: false,\n\t\t}\n\n\t}\n\n\thumanFileSize(bytes) {\n\t    var thresh = 1024;\n\t    if(Math.abs(bytes) < thresh) {\n\t        return bytes + ' B';\n\t    }\n\t    var units = ['kB','MB','GB','TB','PB','EB','ZB','YB']\n\t    var u = -1;\n\t    do {\n\t        bytes /= thresh;\n\t        ++u;\n\t    } while(Math.abs(bytes) >= thresh && u < units.length - 1);\n\t    return bytes.toFixed(1)+' '+units[u];\n\t}\n\n\trender(){\n\t\tconst {index, onDoubleClick, isSelected, isGhosting, endpoint} = this.props;\n\t\tconst {name, dir, perm, time, size} = this.props.file;\n\t\tconst hasAttr = (time !== 0 || perm || size !== 0);\n\t\tvar options = { year: 'numeric', month: 'numeric', day: 'numeric',hour: 'numeric', minute: 'numeric', second: 'numeric'};\n\t\tconst date = new Date(time * 1000);\n\t\t\n\t\treturn (\n\t\t\t<Draggable draggableId={ endpoint.side + \" \" +JSON.stringify(this.props.file) } index = {index}>\n\t\t\t{(provided : DraggableProvided, snapshot : DraggableStateSnapshot) => {\n\t\t\t\tconst selectionCount = getSelectionCount(endpoint);\n\t\t\t\tconst shouldShowSelection: boolean =\n\t            snapshot.isDragging && selectionCount > 1;\n\t\t\t\treturn (\n\t\t\t\t\t<FileDiv\n\t\t\t\t\t\tonDoubleClick={() => {\n\t\t\t\t\t\t\tif(dir){onDoubleClick(this.props.file.name, this.props.file.id)}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t{...provided.draggableProps}\n\t\t\t\t\t\t{...provided.dragHandleProps}\n\t\t\t\t\t\tref={provided.innerRef}\n\n\t\t\t\t\t\tonClick={this.onClick}\n\t\t                onTouchEnd={(e)=>{this.onTouchEnd(e)}}\n\t\t                onTouchStart={(e)=>{this.onTouchStart(e)}}\n\n\t\t                onTouchMove={(e)=>{this.onTouchMove(e)}}\n\t\t                onKeyDown={(event: KeyboardEvent) =>\n\t\t                  this.onKeyDown(event, provided, snapshot)\n\t\t                }\n\t\t                isSelected={isSelected}\n\t\t                isGhosting={shouldShowSelection && isGhosting}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t<div style={{display: \"flex\", flexGrow: 1, flexDirection: \"row\", justifyContent: \"flex-start\"}}>\n\t\t\t\t\t\t\t\t{ dir && <FolderIcon/>}\n\t\t\t\t\t\t\t\t{!dir && <FileIcon />  }\n\t\t\t\t\t\t\t\t<p style={{marginLeft: \"10px\", flexGrow: 1, textAlign: \"left\"}} > {name} </p>\n\t\t\t\t\t\t\t\t{(dir && screenIsSmall()) && <Button style={{width: \"40px\", float: \"right\"}} onTouchStart={() => {\n\t\t\t\t\t\t\t\t\tonDoubleClick(this.props.file.name);\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<InFolderIcon/>\n\t\t\t\t\t\t\t\t</Button>} \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{shouldShowSelection &&\n\t\t\t\t\t\t\t\t<SelectionCount>{selectionCount}</SelectionCount>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{hasAttr && \n\t\t\t\t\t\t\t\t<div style={{display: \"flex\", flexGrow: 1, flexDirection: \"row\", justifyContent: \"space-between\"}}>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{time !== 0 && <p style={{fontSize: \"10px\", color: \"#444\"}}>{new Intl.DateTimeFormat('en-US', options).format(date)} </p>}\n\t\t\t\t\t\t\t\t\t{perm && <p > {perm} </p>}\n\t\t\t\t\t\t\t\t\t{size !== 0 && <p style={{fontSize: \"10px\", color: \"#444\"}}> {this.humanFileSize(size)} </p>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t</FileDiv>\n\t\t\t)}}\n\t\t</Draggable>);\n\t}\n}\n","import React, { Component } from 'react';\n\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport FileIcon from \"@material-ui/icons/Note\";\nimport { Draggable } from 'react-beautiful-dnd';\nimport styled from \"styled-components\";\nimport {getSelectionCount} from \"../initialize_dnd\";\n\n/**\n\tComponent for file and directory\n\tExample \n\t[File.   x]\n\t[Folder xxx x]\n\tand you can click to enter\n*/\n\nimport { DraggableProvided, DraggableStateSnapshot } from 'react-beautiful-dnd';\n\nconst FileDiv = styled.tr`\n  outline: none;\n  user-select: none;\n  background-color: ${props => getBackgroundColor(props.isSelected)};\n  color: ${ props => getTextColor(props.isSelected)},\n  display: inline;\n  white-space: nowrap;\n  ${props =>\n    props.isDragging\n      ? `box-shadow: 2px 2px 1px ${\"#333\"};`\n      : ''} ${props =>\n    props.isGhosting\n      ? 'opacity: 0.2;'\n      : ''}\n`;\n\n\nconst getBackgroundColor = (isSelected, isGhosting): string => {\n\tif(isGhosting){\n\t\treturn \"#888\";\n\t}\n\tif (isSelected) {\n\t    return \"#d9edf7\";\n\t}\n\treturn \"#ffffff\";\n};\n\nconst getTextColor = (isSelected, isGhosting): string => {\n\tif(isGhosting){\n\t\treturn \"#888\";\n\t}\n\tif (isSelected) {\n\t    return \"#31708f\";\n\t}\n\n\treturn \"#333333\";\n};\n\n// const getExtraStyle = (isDragging, isGhosting): string => {\n// \tif(isDragging){\n// \t\treturn {boxShadow: \"3px 3px 1px #333\"};\n// \t}\n// \tif(isGhosting){\n// \t\treturn {opacity: 0.2};\n// \t}\n\n// \treturn {};\n// };\n\nconst keyCodes = {\n\tenter: 13,\n\tescape: 27,\n\tarrowDown: 40,\n\tarrowUp: 38,\n\ttab: 9,\n};\n\nconst SelectionCount = styled('div')`\n  left: -${15}px;\n  top: -${15}px;\n  color: ${\"#fff\"};\n  background: ${\"#337ab7\"};\n  border-radius: 50%;\n  height: ${30}px;\n  width: ${30}px;\n  line-height: ${30}px;\n  position: absolute;\n  text-align: center;\n  font-size: 1.8rem;\n`;\n\nconst primaryButton = 0;\n\nexport default class FileNodeCompact extends Component {\n\n\n\tarraysEqual(a, b) {\n\t  if (a === b) return true;\n\t  if (a == null || b == null) return false;\n\t  if (a.length !== b.length) return false;\n\n\t  // If you don't care about the order of the elements inside\n\t  // the array, you should sort both arrays here.\n\t  // Please note that calling sort on an array will modify that array.\n\t  // you might want to clone your array first.\n\n\t  for (var i = 0; i < a.length; ++i) {\n\t    if (a[i] !== b[i]) return false;\n\t  }\n\t  return true;\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) { \n\n    \tif (this.arraysEqual(nextProps.columns, this.props.columns) &&\n    \t\tnextProps.posit0 === this.props.posit0 &&\n    \t\tnextProps.posit1 === this.props.posit1 &&\n    \t\tnextProps.posit2 === this.props.posit2 &&\n    \t\tnextProps.posit3 === this.props.posit3 &&\n    \t\tnextProps.isSelected === this.props.isSelected && \n    \t\tnextProps.isGhosting === this.props.isGhosting && \n    \t\tnextProps.file === this.props.file) return false;\n    \treturn true;\n  \t}\n  \t\n\n\tonKeyDown = (\n\t    event: KeyboardEvent,\n\t    provided: DraggableProvided,\n\t    snapshot: DraggableStateSnapshot,\n\t) => {\n\t    if (provided.dragHandleProps) {\n\t      provided.dragHandleProps.onKeyDown(event);\n\t    }\n\n\t    if (event.defaultPrevented) {\n\t      return;\n\t    }\n\n\t    if (snapshot.isDragging) {\n\t      return;\n\t    }\n\n\t    if (event.keyCode !== keyCodes.enter) {\n\t      return;\n\t    }\n\t    // we are using the event for selection\n\t    event.preventDefault();\n\n\t    const wasMetaKeyUsed: boolean = event.metaKey || event.ctrlKey;\n\t    const wasShiftKeyUsed: boolean = event.shiftKey;\n\n\t    this.performAction(wasMetaKeyUsed, wasShiftKeyUsed);\n\t};\n\n\tonClick = (event: MouseEvent) => {\n\t    if (event.defaultPrevented) {\n\t      return;\n\t    }\n\t    if (event.button !== primaryButton) {\n\t      return;\n\t    }\n\t    // marking the event as used\n\t    event.preventDefault();\n\n\t    const wasMetaKeyUsed: boolean = event.metaKey || event.ctrlKey;\n\t    const wasShiftKeyUsed: boolean = event.shiftKey;\n\t    this.performAction(wasMetaKeyUsed, wasShiftKeyUsed);\n\t};\n\n\n\n\tonTouchStart = (event) => {\n\t\tthis.setState({dragging: false});\n\t}\n\n\tonTouchMove = (event) => {\n\t\tthis.setState({dragging: true});\n\t}\n\n\tonTouchEnd = (event: TouchEvent) => {\n\t    if (event.defaultPrevented || this.state.dragging) {\n\t      return;\n\t    }\n\n\t    // marking the event as used\n\t    // we would also need to add some extra logic to prevent the click\n\t    // if this element was an anchor\n\t    event.preventDefault();\n\n\t    this.props.toggleSelectionInGroup(this.props.file);\n\t    return false;\n\t};\n\n\tperformAction = (wasMetaKeyUsed: boolean, wasShiftKeyUsed: boolean) => {\n\t\tconst {\n\t\t  toggleSelection,\n\t\t  toggleSelectionInGroup,\n\t\t  multiSelectTo,\n\t\t} = this.props;\n\n\t\tif (wasMetaKeyUsed) {\n\t\t  toggleSelectionInGroup(this.props.file);\n\t\t  return;\n\t\t}\n\n\t\tif (wasShiftKeyUsed) {\n\t\t  multiSelectTo(this.props.file);\n\t\t  return;\n\t\t}\n\t\ttoggleSelection(this.props.file);\n\t};\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.humanFileSize = this.humanFileSize.bind(this);\n\t\tthis.state = {\n\t\t\tisDragging: false,\n\t\t}\n\t\tthis.arraysEqual = this.arraysEqual.bind();\n\n\t}\n\n\thumanFileSize(bytes) {\n\t    var thresh = 1024;\n\t    if(Math.abs(bytes) < thresh) {\n\t        return bytes + ' B';\n\t    }\n\t    var units = ['kB','MB','GB','TB','PB','EB','ZB','YB']\n\t    var u = -1;\n\t    do {\n\t        bytes /= thresh;\n\t        ++u;\n\t    } while(Math.abs(bytes) >= thresh && u < units.length - 1);\n\t    return bytes.toFixed(1)+' '+units[u];\n\t}\n\n\trender(){\n\t\tconst {index, onDoubleClick, isSelected, isGhosting, endpoint, posit0,posit1,posit2,posit3, columns} = this.props;\n\t\tconst {name, dir, perm, time, size } = this.props.file;\n\t\tvar options = { year: 'numeric', month: 'numeric', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric'};\n\t\tconst date = new Date(time * 1000);\n\t\tconst pstyle =  {textOverflow:\"ellipsis\", whiteSpace: \"nowrap\", overflow: \"hidden\", marginLeft: \"10px\",textAlign: \"left\", display: \"inline-block\"};\n\t\treturn (\n\t\t\t<Draggable draggableId={ endpoint.side + \" \" +JSON.stringify(this.props.file)} index = {index}>\n\t\t\t{(provided : DraggableProvided, snapshot : DraggableStateSnapshot) => {\n\t\t\t\tconst selectionCount = getSelectionCount(endpoint);\n\t\t\t\tconst shouldShowSelection: boolean = snapshot.isDragging && selectionCount > 1;\n\t\t\t\treturn (\n\t\t\t\t\t<FileDiv\n\t\t\t\t\t\tonDoubleClick={() => {\n\t\t\t\t\t\t\tif(dir){onDoubleClick(this.props.file.name, this.props.file.id)}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t{...provided.draggableProps}\n\t\t\t\t\t\t{...provided.dragHandleProps}\n\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\twidth={\"100px\"}\n\t\t\t\t\t\tonClick={this.onClick}\n\t\t                onTouchEnd={(e)=>{this.onTouchEnd(e)}}\n\t\t                onTouchStart={(e)=>{this.onTouchStart(e)}}\n\t\t                onTouchMove={(e)=>{this.onTouchMove(e)}}\n\t\t                onKeyDown={(event: KeyboardEvent) =>\n\t\t                  this.onKeyDown(event, provided, snapshot)\n\t\t                }\n\t\t                isSelected={isSelected}\n\t\t                isGhosting={shouldShowSelection && isGhosting}\n\t\t            >\n\t\t\t\t\t\t\t{shouldShowSelection &&\n\t\t\t\t\t\t\t\t<SelectionCount>{selectionCount}</SelectionCount>\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t{columns[0] && <td style={{ float: \"left\", textOverflow:\"ellipsis\", whiteSpace: \"nowrap\", overflow: \"hidden\"}}>\n\t\t\t\t\t\t\t\t{dir && <FolderIcon style={{width: 40}}/>}\n\t\t\t\t\t\t\t\t{!dir && <FileIcon style={{width: 40}}/>}\n\t\t\t\t\t\t\t\t<p style={{...pstyle, width: posit0-40, minWidth: \"50\"}} > {name} </p>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</td>}\n\t\t\t\t\t\t\t{columns[1] && <td style={{borderLeft: \"1px solid lightgray\", whiteSpace: \"nowrap\", overflow: \"hidden\"}}>\n\n\t\t\t\t\t\t\t\t<p style={{...pstyle, width: posit1}}>\n\t\t\t\t\t\t\t\t\t{time === 0? \"Not Available\" : new Intl.DateTimeFormat('en-US', options).format(date)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</td>}\n\n\t\t\t\t\t\t\t{columns[2] && <td style={{borderLeft: \"1px solid lightgray\", textOverflow:\"ellipsis\", whiteSpace: \"nowrap\", overflow: \"hidden\"}}>\n\t\t\t\t\t\t\t\t<p style={{...pstyle, width: posit2}}> {perm? perm: \"N/A\"} </p>\n\t\t\t\t\t\t\t</td>}\n\t\t\t\t\t\t\t{columns[3] && <td style={{borderLeft: \"1px solid lightgray\", textOverflow:\"ellipsis\", whiteSpace: \"nowrap\", overflow: \"hidden\"}}>\n\t\t\t\t\t\t\t\t<p style={{...pstyle, width: posit3}}> {size===0 ? \"N/A\" : this.humanFileSize(size)} </p>\n\t\t\t\t\t\t\t</td>}\n\t\t\t\t\t</FileDiv>\n\t\t\t)}}\n\t\t</Draggable>);\n\t}\n}\n","import React, { Component } from 'react';\nimport FileNodeCompact from \"./FileNodeCompact.js\";\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\n\nexport default class CompactFileNodeWrapper extends Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\theaderCompactStylePos : [100, 150, 70, 70],\n\t\t\tcompactStylePos : [100, 150, 70, 70],\n\t\t\tcolumns: [true, true, true, true],\n\t\t\torderBy: -1,\n\t\t\tcolumnsOrder: [\"Desc\", \"Desc\", \"Desc\", \"Desc\"],\n\t\t\tleftPosition: 0,\n\t\t\tshowBar: null\n\t\t}\n\t\tthis.generateResizer = this.generateResizer.bind(this);\n\t\tthis.contextMenu = this.contextMenu.bind(this);\n\t\tthis.handleClose = this.handleClose.bind(this);\n\t\tthis.CompactTable = React.createRef();\n\t}\n\n\thandleRequestSort = (property) => {\n\t    const orderBy = property;\n\t    let order = 'desc';\n\n\t    if (this.state.orderBy === property && this.state.order === 'desc') {\n\t      order = 'asc';\n\t    }\n\n\t\tthis.setState({ order:order, orderBy:orderBy });\n\t\tthis.queueFunc()\n\t};\t\n\n\tgenerateResizer = (targetNum) => {\n\t\treturn (<div style={{top: 0, right: 0, width: \"3px\", position: \"absolute\", cursor: \"col-resize\", backgroundColor: \"#00000000\", userSelect :'none',height: \"100%\"}}\n   \t\t\tonMouseDown={(e) => {\n   \t\t\t\tthis.pageX = e.pageX;\n   \t\t\t\tthis.target = targetNum;\n   \t\t\t\tlet rect = document.getElementById(\"browser\"+this.props.endpoint.side).getBoundingClientRect();\n   \t\t\t\tthis.setState({showBar: targetNum+1, leftPosition: e.clientX - rect.left});\n   \t\t\t}}\n   \t\t></div>);\n\t}\n\n\tcomponentDidMount(){\n\t\tlet headerStyleDelta = this.state.headerCompactStylePos;\n\t\tlet headersTotal = headerStyleDelta.reduce((a, x) => a+x, 0)\n\t\tlet multiplier = this.CompactTable.current.offsetWidth/headersTotal\n\t\tlet headerMultiplied = headerStyleDelta.map((v) => v*multiplier);\n\t\t\n\t\theaderStyleDelta = headerMultiplied.map((v)=> v < 70? 70 : v);\n\t\t\n\t\tthis.setState({headerCompactStylePos: headerStyleDelta, compactStylePos: headerStyleDelta});\n\t    window.addEventListener(\"mousemove\", this.onMouseMove);\n\t    window.addEventListener(\"mouseup\", this.onMouseUp);\n\t}\n\n\tcomponentWillUnmount() {\n \t\twindow.removeEventListener(\"mousemove\", this.onMouseMove);\n\t    window.removeEventListener(\"mouseup\", this.onMouseUp);\n\t}\n\n\tonMouseMove = (e) => {\n\t\tlet rect = document.getElementById(\"browser\"+this.props.endpoint.side).getBoundingClientRect();\n\t\tif(this.target !== undefined){\n\t\t\tlet temp = this.state.headerCompactStylePos;\n\t\t\ttemp[this.target] += (e.pageX - this.pageX);\n\t\t\tif(temp[this.target] < 70){\n\t\t\t\ttemp[this.target] = 70;\n\t\t\t}\n\t\t\tthis.pageX = e.pageX;\n\t\t\tlet accumlate = e.clientX - rect.left;\n\t\t\tthis.setState({headerCompactStylePos: temp, leftPosition: accumlate});\n\t\t}\n\t}\n\n\thandleClose = (e) => {\n\t\te.preventDefault();\n    \tthis.setState({ anchorEl: null });\n  \t};\n\n\tcontextMenu(e){\n\t    e.preventDefault();\n\t    this.setState({ anchorEl: e.currentTarget });\n\t    this.offset = e.pageX - this.refs.CompactHeader.getBoundingClientRect().left;\n\t    return false;\n\t}\n\n\tonMouseUp = (e) => {\n\t\tthis.setState({compactStylePos: this.state.headerCompactStylePos.slice(), showBar: null});\n\t\tthis.pageX = undefined;\n\t\tthis.target = undefined;\n\t}\n\n\tflippingChange = (change) => {\n\t\tif(change === \"Asc\"){\n\t\t\treturn \"Desc\";\n\t\t}else{\n\t\t\treturn \"Asc\";\n\t\t}\n\t}\n\n\thandleRequestSort = (id) => () => {\n\t\tlet { orderBy, columnsOrder } = this.state;\n\n\t\tif(orderBy !== id){\n\t\t\torderBy = id;\n\t\t}else{\n\t\t\tcolumnsOrder[orderBy] = this.flippingChange(columnsOrder[orderBy]);\n\t\t}\n\t\tthis.props.sortBy(this.props.sortFunctions[orderBy][columnsOrder[orderBy]]);\n\n\t\tthis.setState({\n\t\t\torderBy: orderBy, \n\t\t\tcolumnsOrder: columnsOrder\n\t\t});\n\t}\n\n\trender(){\n\t\tlet { displayList, list, selectedTasks, endpoint, draggingTask, toggleSelection, toggleSelectionInGroup, multiSelectTo, onClick, onDoubleClick}  = this.props;\n\t\tlet { compactStylePos, headerCompactStylePos, anchorEl,columns, leftPosition, showBar, orderBy, columnsOrder } = this.state;\n\n\t\tconst columnNames = [\"File Name\", \"Date\", \"Permission\", \"Size\"];\n\n\t\tlet showingColumn = [0,1,2,3].filter((i) => columns[i]);\n\n\t\tconst pstyle = {textOverflow:\"ellipsis\", whiteSpace: \"nowrap\", overflow: \"hidden\", marginLeft: \"10px\",textAlign: \"left\", display: \"inline-block\"};\n\n\t\tlet columnToggle = (num) => () => {\n\t\t\tlet newColumns = columns.slice();\n\t\t\tnewColumns[num] = !newColumns[num];\n\t\t\tthis.setState({columns:newColumns});\n\t\t}\n\n\t\tlet headers = showingColumn.map( (colId) => \n\t\t   <th style={{borderLeft: \"1px solid darkgray\", borderBottom: \"1px solid gray\", height: \"10px\", textOverflow:\"ellipsis\", whiteSpace:\"nowrap\", overflow: \"visible\", position: \"relative\"}}>\n\t\t   \t\t\n\t\t   \t\t<TableSortLabel\n\t\t   \t\t\tstyle={{...pstyle, width: headerCompactStylePos[colId]}}\n\t\t\t\t\tactive={orderBy === colId}\n\t\t\t\t\tdirection={columnsOrder[colId]}\n\t\t\t\t\tonClick={this.handleRequestSort(colId)}>\n\t\t\t\t\t{columnNames[colId]}\n\t\t\t\t</TableSortLabel>\n\t\t   \t\t\n\t\t   \t\t\n\t\t   \t\t{this.generateResizer(colId)}\n\t\t   </th>\n\t\t);\n\t\treturn (\n\t\t<div ref={this.CompactTable}>\n\t\t\t<table id={\"tableHeader\"+this.props.endpoint.side}>\n\t\t\t\t<thead style={{boxShadow: \"0px 0px 5px #aaaaaa\", overflow: \"visible\"}} onContextMenu={this.contextMenu} ref=\"CompactHeader\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t{showBar &&\n\t\t\t\t\t\t\t<div style={{borderLeft:\"1px solid black\", height: \"270px\", position: \"absolute\", left: leftPosition+17+\"px\"}}></div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{headers}\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t</table>\n\n\t\t\t<Menu\n\t            id=\"simple-menu\"\n\t            anchorEl={anchorEl}\n\t            open={Boolean(anchorEl)}\n\t            onClose={this.handleClose}\n\t            style={{width: \"200px\", left: this.offset+\"px\", top: \"50px\"}}\n\t            onContextMenu={this.handleClose}\n\t        >\n\t            <MenuItem onClick={columnToggle(1)}>\n\t            \t{columns[1] && <CheckIcon/>}\n\t            \tDate\n\t            </MenuItem>\n\t            <MenuItem onClick={columnToggle(2)}>\n\t            \t{columns[2] && <CheckIcon/>}\n\t            \tPermission\n\t            </MenuItem>\n\t            <MenuItem onClick={columnToggle(3)}>\n\t            \t{columns[3] && <CheckIcon/>}\n\t            \tFile Size\n\t            </MenuItem>\n\t        </Menu>\n\n\t\t\t<table>\n\t\t\t\t<tbody>\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayList.map((fileId, index) => {\n\t\t\t\t\t\tconst file = list[fileId];\n\t\t\t\t\t\tconst isSelected: boolean = Boolean(\n\t\t                  selectedTasks.indexOf(file)!==-1,\n\t\t                );\n\t\t                const isGhosting: boolean = isSelected &&\n\t\t                    Boolean(draggingTask) &&\n\t\t                    draggingTask.name !== file.name;\n\n\t\t\t\t\t\t    return(<FileNodeCompact \n\t\t\t\t\t\t\t\tposit0={compactStylePos[0]}\n\t\t\t\t\t\t\t\tposit1={compactStylePos[1]}\n\t\t\t\t\t\t\t\tposit2={compactStylePos[2]}\n\t\t\t\t\t\t\t\tposit3={compactStylePos[3]}\n\t\t\t\t\t\t\t\tkey={fileId}\n\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\tfile={file}\n\t\t\t\t\t\t\t\tcolumns={columns.slice()}\n\t\t\t\t\t\t\t\tselectionCount={selectedTasks.length}\n\t\t\t\t\t\t\t\tonClick={onClick}\n\t\t\t\t\t\t\t\tonDoubleClick={onDoubleClick}\n\t\t\t\t\t\t\t\tside={endpoint.side}\n\t\t\t\t\t\t\t\tisSelected={isSelected}\n\t\t\t\t\t\t\t\tendpoint={endpoint}\n\t\t\t                    isGhosting={isGhosting}\n\t\t\t                    toggleSelection={toggleSelection}\n\t\t\t                    toggleSelectionInGroup={toggleSelectionInGroup}\n\t\t\t                    multiSelectTo={multiSelectTo} />\n\t\t\t                );\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>);\n\t}\n}","import React, { Component } from 'react';\nimport FineUploaderTraditional from 'fine-uploader-wrappers';\nimport {makeFileNameFromPath, getMapFromEndpoint} from \"./initialize_dnd\";\n\nimport FileInput from 'react-fine-uploader/file-input';\nimport UploadButton from \"@material-ui/icons/CloudUpload\";\nimport {eventEmitter} from \"../../App\";\nexport default class UploaderWrapper extends Component {\n\n\tshouldComponentUpdate(nextProps, nextState) { \n\n    \tif (nextProps.directoryPath === this.props.directoryPath && \n\t\t\tnextProps.endpoint === this.props.endpoint\n    \t) return false;\n\n    \treturn true;\n  \t}\nrender(){\n\tlet {endpoint, directoryPath, lastestId} = this.props;\n\n\tconst buttonStyle = {flexGrow: 1, padding: \"5px\"};\n\tconst iconStyle = {fontSize: \"15px\", width: \"100%\"};\n\tconst uploader = new FineUploaderTraditional({\n\t\t\tdebug: true,\n\t\t\toptions: {\n\t\t\t\tchunking: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\tpartSize: 500000,\n\t\t\t\t\tconcurrent: {\n\t\t\t\t\t\tenabled: false\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\trequest: {\n\t\t\t\t\tendpoint: '/api/stork/upload',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tdirectoryPath: encodeURI(makeFileNameFromPath(endpoint.uri,directoryPath,'')),\n\t\t\t\t\t\tcredential: JSON.stringify(endpoint.credential),\n\t\t\t\t\t\tid: lastestId,\n\t\t\t\t\t\tmap: JSON.stringify(getMapFromEndpoint(endpoint))\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tretry: {\n\t\t\t\t\tenableAuto: true\n\t\t\t\t},\n\t\t\t\tcallbacks :{\n\t\t\t\t\tonError: function(id, name, errorReason, xhr){\n\t\t\t\t\t\tconsole.log('error occurred - ' + errorReason);\n\t\t\t\t\t},\n\t\t\t\t\tonStatusChange: function(id, old_status, new_status){\n\t\t\t\t\t\tif(new_status === \"submitted\"){\n\t\t\t\t\t\t\teventEmitter.emit(\"messageOccured\", \"Upload Task has been submitted\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(new_status === \"upload successful\"){\n\t\t\t\t\t\t\teventEmitter.emit(\"messageOccured\", \"Uploading succeed!\");\n\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\t// \"qqchunksize\": 1000000\n\t\t\t}\n\t\t})\n\n\treturn <FileInput uploader={uploader} style={buttonStyle}>\n                    <UploadButton style={iconStyle}/>\n\t\t</FileInput>\n\t}\n}\n\n  \t\t\t","\nimport { multiSelectTo as multiSelect } from './utils';\nimport FileNode from \"./FileNode.js\";\nimport CompactFileNodeWrapper from './CompactFileNode/CompactFileNodeWrapper.js';\n\nimport {Droppable } from 'react-beautiful-dnd';\n\nimport NewFolderIcon from \"@material-ui/icons/CreateNewFolder\";\nimport DeleteIcon from \"@material-ui/icons/DeleteForever\";\nimport DownloadButton from \"@material-ui/icons/CloudDownload\";\nimport LinkButton from \"@material-ui/icons/Link\";\nimport LogoutButton from \"@material-ui/icons/ExitToApp\";\nimport RefreshButton from \"@material-ui/icons/Refresh\";\nimport {listFiles} from \"../../APICalls/APICalls\";\nimport Button from '@material-ui/core/Button';\n\nimport {InputGroup, FormControl} from \"react-bootstrap\";\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport UploaderWrapper from \"./UploaderWrapper.js\";\n\nimport React, { Component } from 'react';\n\nimport {mkdir, deleteCall, download, getDownload, getSharableLink} from \"../../APICalls/APICalls\";\n\nimport { Breadcrumb, ButtonGroup, Button as BootStrapButton, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport {getFilesFromMemory, getIdsFromEndpoint, getPathFromMemory, \n\t\temptyFileNodesData, getEntities, setSelectedTasksForSide,  getSelectedTasksFromSide, \n\t\tunselectAll, makeFileNameFromPath, draggingTask, setFilesWithPathListAndId, } from \"./initialize_dnd\";\n\nimport {eventEmitter} from \"../../App\";\n\nimport {getType} from '../../constants.js';\nimport {DROPBOX_TYPE, GOOGLEDRIVE_TYPE, SFTP_TYPE, HTTP_TYPE, SCP_TYPE} from \"../../constants\";\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nexport default class EndpointBrowseComponent extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\troute: \"\",\n\t\t\tdirectoryPath : getPathFromMemory(props.endpoint),\n\t\t\tids: getIdsFromEndpoint(props.endpoint),\n\t\t\topenShare: false,\n\t\t\tshareUrl: \"\",\n\t\t\topenAFolder: false,\n\t\t\taddFolderName: \"\",\n\t\t\tsearchText: \"\",\n\t\t\tignoreCase : false,\n\t\t\tregex : false\n\t\t};\n\n\t\tthis.getFilesFromBackend = this.getFilesFromBackend.bind(this);\n\t\tthis.fileNodeDoubleClicked = this.fileNodeDoubleClicked.bind(this);\n\t\tthis.getFilesFromBackendWithPath = this.getFilesFromBackendWithPath.bind(this);\n\t\tthis.breadcrumbClicked = this.breadcrumbClicked.bind(this);\n\t\tthis.toggleSelection = this.toggleSelection.bind(this);\n\t\tthis.toggleSelectionInGroup = this.toggleSelectionInGroup.bind(this);\n\t\tthis.multiSelectTo = this.multiSelectTo.bind(this);\n\t\tthis.onWindowTouchEnd = this.onWindowTouchEnd.bind(this);\n\t\tthis.onWindowKeyDown = this.onWindowKeyDown.bind(this);\n\t\tthis.onWindowClick = this.onWindowClick.bind(this);\n\t\tthis.fileChangeHandler = this.fileChangeHandler.bind(this);\n\t\tthis._handleAddFolderTextFieldChange = this._handleAddFolderTextFieldChange.bind(this);\n\t\t\n\t\tthis.filenameAscendingOrderSort = this.filenameAscendingOrderSort.bind(this);\n\t\tthis.sizeAscendingOrderSort = this.sizeAscendingOrderSort.bind(this);\n\t\tthis.dateAscendingOrderSort = this.dateAscendingOrderSort.bind(this);\n\t\tthis.permissionAscendingOrderSort = this.permissionAscendingOrderSort.bind(this);\n\t\tthis.filenameDescendingOrderSort = this.filenameDescendingOrderSort.bind(this);\n\t\tthis.sizeDescendingOrderSort = this.sizeDescendingOrderSort.bind(this);\n\t\tthis.dateDescendingOrderSort = this.dateDescendingOrderSort.bind(this);\n\t\tthis.permissionDescendingOrderSort = this.permissionDescendingOrderSort.bind(this);\n\t\t\n\t\tthis.sortBy = this.sortBy.bind(this);\n\t\t\n\t\tif(this.state.directoryPath.length === 0)\n\t\t\tthis.getFilesFromBackend(props.endpoint);\n\t}\n\n\tcomponentDidMount() {\n\t    window.addEventListener('click', this.onWindowClick);\n\t    window.addEventListener('keydown', this.onWindowKeyDown);\n\t    window.addEventListener('touchend', this.onWindowTouchEnd);\n\t    eventEmitter.on(\"fileChange\", this.fileChangeHandler); \n\t}\n\n\tfileChangeHandler(){\n\t    this.forceUpdate();\n\t}\n\n\tcomponentWillUnmount() {\n\t    window.removeEventListener('click', this.onWindowClick);\n\t    window.removeEventListener('keydown', this.onWindowKeyDown);\n\t\twindow.removeEventListener('touchend', this.onWindowTouchEnd);\n\t\tthis.unselectAll();\n\t}\n\t\n\n  \ttoggleSelection = (task) => {\n  \t\tconst {endpoint} = this.props;\n\t    const selectedTaskIds = getSelectedTasksFromSide(endpoint);\n\t    const wasSelected: boolean = selectedTaskIds.includes(task);\n\t    const newTasks = (() => {\n\t      // Task was not previously selected\n\t      // now will be the only selected item\n\t      if (!wasSelected) {\n\t        return [task];\n\t      }\n\t      // Task was part of a selected group\n\t      // will now become the only selected item\n\t      if (selectedTaskIds.length > 1) {\n\t        return [task];\n\t      }\n\t      // task was previously selected but not in a group\n\t      // we will now clear the selection\n\t      return [];\n\t    })();\n\t    setSelectedTasksForSide(newTasks, endpoint);\n  \t};\n\n  \ttoggleSelectionInGroup = (task) => {\n  \t\tconst {endpoint} = this.props;\n\t    const selectedTasks = getSelectedTasksFromSide(endpoint);\n\t    const index: number = selectedTasks.indexOf(task);\n\t    // if not selected - add it to the selected items\n\t    if (index === -1) {\n\t      setSelectedTasksForSide([...selectedTasks, task], endpoint);\n\t      return;\n\t    }\n\t    // it was previously selected and now needs to be removed from the group\n\t    const shallow = [...selectedTasks];\n\t    shallow.splice(index, 1);\n\n\t    setSelectedTasksForSide(shallow, endpoint);\n\t};\n\t// This behaviour matches the MacOSX finder selection\n\tmultiSelectTo = (newTask) => {\n\t\tconst {endpoint} = this.props;\n\t    const updated = multiSelect(\n\t      getEntities()[endpoint.side],\n\t      getSelectedTasksFromSide(endpoint),\n\t      newTask\n\t \t);\n\t    if (updated == null) {\n\t      return;\n\t    }\n\t    setSelectedTasksForSide(updated, endpoint);\n\t};\n\n\tunselectAll = () => {\n\t\tunselectAll();\n\t};\n\n\tonWindowKeyDown = (event) => {\n\t    if (event.defaultPrevented) {\n\t      return;\n\t    }\n\n\t    if (event.key === 'Escape') {\n\t      this.unselectAll();\n\t    }\n\t};\n\n\tonWindowClick = (event) => {\n\t    if (event.defaultPrevented) {\n\t      return;\n\t    }\n\t    //this.unselectAll();\n\t};\n\n\tonWindowTouchEnd = (event) => {\n\t    if (event.defaultPrevented) {\n\t      return;\n\t    }\n\t};\n\t\n\tfileNodeDoubleClicked(filename, id){\n\t\tthis.props.setLoading(true);\n\t\tthis.getFilesFromBackendWithPath(this.props.endpoint, [...this.state.directoryPath, filename], [...this.state.ids, id]);\n\t\tthis.unselectAll();\n\t}\n\n\tbreadcrumbClicked(index){\n\t\tthis.props.setLoading(true);\n\t\tthis.state.directoryPath.length = index;\n\t\tthis.state.ids.length = index+1;\n\t\tthis.getFilesFromBackendWithPath(this.props.endpoint, this.state.directoryPath, this.state.ids);\n\t}\n\n\tgetFilesFromBackend(endpoint){\n\t\tthis.getFilesFromBackendWithPath(endpoint, [], [null]);\n\t}\n\n\tfilenameAscendingOrderSort = (files) => {\n\t\treturn files.sort((a, b) => { \n\t\t\tif(a.dir && !b.dir){\n\t\t\t\treturn -1;\n\t\t\t}else if(!a.dir && b.dir){\n\t\t\t\treturn 1;\n\t\t\t}else{\n\t\t\t\treturn a.name.localeCompare(b.name);\n\t\t\t}\n\t\t});\n\t}\n\n\tfilenameDescendingOrderSort = (files) => {\n\t\treturn files.sort((a, b) => { \n\t\t\tif(a.dir && !b.dir){\n\t\t\t\treturn -1;\n\t\t\t}else if(!a.dir && b.dir){\n\t\t\t\treturn 1;\n\t\t\t}else{\n\t\t\t\treturn b.name.localeCompare(a.name);\n\t\t\t}\n\t\t});\n\t}\n\n\tdateAscendingOrderSort(files){\n\t\treturn files.sort((a, b) => { \n\t\t\treturn a.time - b.time;\n\t\t});\n\t}\n\n\tdateDescendingOrderSort(files){\n\t\treturn files.sort((a, b) => { \n\t\t\treturn b.time - a.time;\n\t\t});\n\t}\n\n\tsizeAscendingOrderSort (files){\n\t\treturn files.sort((a, b) => { \n\t\t\treturn a.size - b.size;\n\t\t});\n\t}\n\n\tsizeDescendingOrderSort(files){\n\t\treturn files.sort((a, b) => { \n\t\t\treturn b.size - a.size;\n\t\t});\n\t}\n\n\tpermissionAscendingOrderSort = (files) => {\n\t\treturn files.sort((a, b) => { \n\t\t\tif(a.perm && b.perm)\n\t\t\t\treturn a.perm.localeCompare(b.perm);\n\t\t\treturn 0;\n\t\t});\n\t}\n\n\tpermissionDescendingOrderSort = (files) => {\n\t\treturn files.sort((a, b) => { \n\t\t\tif(a.perm && b.perm)\n\t\t\t\treturn b.perm.localeCompare(a.perm);\n\t\t\treturn 0;\n\t\t});\n\t}\n\n\tsortBy = (sortingFunc) => {\n\t\tconst {endpoint} = this.props;\n\t\tconst {directoryPath, ids} = this.state;\n\t\tlet files = getFilesFromMemory(endpoint);\n\t\tlet sortedfiles = sortingFunc(files);\n\t\tsetFilesWithPathListAndId(sortedfiles, directoryPath, ids, endpoint);\n\t\tthis.setState({directoryPath: directoryPath, ids: ids});\n\t}\n\n\tgetFilesFromBackendWithPath(endpoint, path, id){\n\t\tvar uri = endpoint.uri;\n\t\tconst {setLoading} = this.props;\n\t\tsetLoading(true);\n\t\turi = makeFileNameFromPath(uri, path, \"\");\n\n\t\tlistFiles(uri, endpoint, id[id.length-1], (data) =>{\n\t\t\tlet sortedfiles = this.filenameAscendingOrderSort(data.files);\n\t\t\tsetFilesWithPathListAndId(sortedfiles, path, id, endpoint);\n\t\t\tthis.setState({directoryPath: path, ids: id});\n\t\t\tsetLoading(false);\n\t\t}, (error) =>{\n\t\t\tthis._handleError(error);\n\t\t\tsetLoading(false);\n\t\t});\n\t};\n\n\thandleClickOpen = (url) => {\n\t\tthis.setState({ openShare: true, shareUrl: url });\n\t};\n\n\thandleClickOpenAddFolder = () => {\n\t\tthis.setState({ openAFolder: true });\n\t};\n\n\thandleClose = () => {\n\t\tthis.setState({ openShare: false, openAFolder: false });\n\t};\n\n\thandleCloseWithFolderAdded = () =>{\n\t\tconst {endpoint, setLoading} = this.props;\n\t\tconst {directoryPath, addFolderName, ids} = this.state;\n\t\tthis.setState({ openShare: false, openAFolder: false });\n\t\tlet dirName = makeFileNameFromPath(endpoint.uri,directoryPath, addFolderName);\n\t\tconst dirType = getType(endpoint);\n\t\tif(getType(endpoint) === GOOGLEDRIVE_TYPE){\n\t\t\tdirName = addFolderName;\n\t\t}\n\t\t//make api call\n\t\tmkdir(dirName,dirType, endpoint, (response) => {\n\t\t\tsetLoading(true);\n\t\t\tthis.getFilesFromBackendWithPath(endpoint, directoryPath, ids);\n\t\t}, (error) => {\n\t\t\tthis._handleError(error);\n\t\t})\n\t}\n\n\t_handleError = (error) =>{\n\t\teventEmitter.emit(\"errorOccured\", error);\n\t}\n\n\t_handleConfirmation = (query) => {\n\t\treturn window.confirm(query);\n\t}\n\n\t_handleAddFolderTextFieldChange = (e) => {\n        this.setState({\n            addFolderName: e.target.value\n        });\n    }\n\n    handleCloseWithFileDeleted = (files) => {\n    \tconst {endpoint, setLoading} = this.props;\n    \tconst {directoryPath, ids} = this.state;\n    \tconst len = files.length;\n    \tvar i = 0;\n    \tif(this._handleConfirmation(\"Are you sure you want to delete\" + files.reduce((a, v) => a+\"\\n\"+v.name, \"\"))){\n    \t\tsetLoading(true);\n    \t\tfiles.map((file) => {\n    \t\t\tconst fileName = makeFileNameFromPath(endpoint.uri, directoryPath, file.name);\n    \t\t\t\n\t\t\t\tconsole.log(\"delete before success\", directoryPath, ids)\n    \t\t\tdeleteCall( fileName, endpoint,  file.id, (response) => {\n    \t\t\t\tconsole.log(\"delete after success\", directoryPath, ids)\n    \t\t\t\ti++;\n    \t\t\t\tif(i === len){\n    \t\t\t\t\tthis.getFilesFromBackendWithPath(endpoint, directoryPath, ids);\n    \t\t\t\t}\n    \t\t\t}, (error) => {\n    \t\t\t\tthis._handleError(error);\n    \t\t\t});\n    \t\t});\n    \t}\n    }\n\n\t\n\n\trender(){\n\t\tconst {endpoint, back, setLoading, getLoading, displayStyle} = this.props;\n\t\tconst {directoryPath, searchText} = this.state;\n\t\t\n\n\t\tconst list = getFilesFromMemory(endpoint) || [];\n\t\tlet displayList = Object.keys(list);\n\n\n\t\tif(searchText.length > 0){\n\t\t\tif(this.state.regex){\n\t\t\t\tvar flags = this.state.ignoreCase? \"i\" : \"\";\n\t\t\t\ttry{\n\t\t\t\t\tvar regex = new RegExp(searchText, flags);\n\t\t\t\t\tdisplayList = Object.keys(list).filter(key => regex.test(list[key].name));\n\t\t\t\t} catch {\n\t\t\t\t\tconsole.log(\"Invalid regex\")\n\t\t\t\t}\t\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(this.state.ignoreCase){\n\t\t\t\t\tvar keyword = searchText.toLowerCase()\n\t\t\t\t\tdisplayList = Object.keys(list).filter(key => list[key].name.toLowerCase().includes(keyword));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tdisplayList = Object.keys(list).filter(key => list[key].name.includes(searchText));\n\t\t\t}\n\t\t} \n\t\t\n\n\t\tconst iconStyle = {fontSize: \"15px\", width: \"100%\"};\n\t\tconst buttonStyle = {flexGrow: 1, padding: \"5px\"};\n\t\tconst buttonGroupStyle = {display: \"flex\", flexDirection: \"row\", flexGrow: 2};\n\n\t\tconst selectedTasks = getSelectedTasksFromSide(endpoint);\n\t\tconst loading = getLoading();\n\t\tconst tooltip = (name) => (\n\t\t  <Tooltip id=\"tooltip\">\n\t\t  \t{name}\n\t\t  </Tooltip>\n\t\t);\n\n\n\t\treturn (\n\t\t<div style={{display: \"flex\", flexDirection: \"column\",  minHeight: \"100%\", maxHeight: \"400px\", }}>\n\t        <Dialog\n\t          open={this.state.openShare}\n\t          onClose={this.handleClose}\n\t\t\t\t\t\taria-labelledby=\"form-dialog-title\"\n\t        >\n\t          <DialogTitle id=\"form-dialog-title\">Share</DialogTitle>\n\t          <DialogContent style={{width:\"100%\"}}>\n\t            <DialogContentText>\n\t              Share this URL to allow others access to the selected file:\n\t            </DialogContentText>\n\t            <div style={{width:\"96%\", float:\"left\"}}><TextField\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\tvalue={this.state.shareUrl}\n\t\t\t\t\t\t\t\tfullWidth\n\t            ></TextField></div>\n\t\t\t\t\t\t\t<CopyToClipboard text = {this.state.shareUrl} style={{float:\"right\", width:\"3%\"}}>\n\t\t\t\t\t\t\t<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t<path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"/>\n\t\t\t\t\t\t\t</svg>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</CopyToClipboard>\n\t          </DialogContent>\n\t          <DialogActions>\n\t            <Button onClick={this.handleClose} color=\"primary\">\n\t              Close\n\t            </Button>\n\t          </DialogActions>\n\t        </Dialog>\n\n\t        <Dialog\n\t          open={this.state.openAFolder}\n\t          onClose={this.handleClose}\n\t          aria-labelledby=\"form-dialog-title\"\n\t        >\n\t          <DialogTitle id=\"form-dialog-title\">Add folder</DialogTitle>\n\t          <DialogContent>\n\t            <TextField\n\t              autoFocus\n\t              id=\"name\"\n\t              label=\"name\"\n\t              onChange={this._handleAddFolderTextFieldChange}\n\t              fullWidth\n\t            />\n\t          </DialogContent>\n\t          <DialogActions>\n\t            <Button onClick={this.handleCloseWithFolderAdded} color=\"primary\">\n\t              Add\n\t            </Button>\n\t          </DialogActions>\n\t        </Dialog>\n\t\t\t<div style={{display: \"flex\",alighSelf: \"stretch\", height: \"60px\", backgroundColor: \"#d9edf7\", width: \"100%\", overflowX: \"scroll\", overflowY: \"hidden\"}}>\n\t\t\t\t<Breadcrumb style={{  float: \"left\", backgroundColor: \"#d9edf7\", whiteSpace:\"nowrap\"}}>\n\t\t\t\t  <Breadcrumb.Item key={endpoint.uri} style={{display: \"inline-block\"}}><Button style={{padding: \"0px\", margin: \"0px\"}} onClick={() => this.breadcrumbClicked(0)}>{endpoint.uri}</Button></Breadcrumb.Item>\n\t\t\t\t  {directoryPath.map((item, index) => <Breadcrumb.Item key={item+index} style={{display: \"inline-block\"}}><Button style={{padding: \"0px\", margin: \"0px\"}} onClick={() => this.breadcrumbClicked(index+1)}>{item}</Button></Breadcrumb.Item>)}\n\t\t\t\t</Breadcrumb>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div style={{alignSelf: \"stretch\", display: \"flex\", flexDirection: \"row\", alignItems: \"center\", height: \"40px\", padding: \"10px\", backgroundColor: \"#d9edf7\"}}>\n\t\t\t\t<ButtonGroup style={buttonGroupStyle}>\n\t\t\t\t\t<OverlayTrigger placement=\"top\" overlay={tooltip(\"Download\")}>\n\t\t\t\t\t\t<BootStrapButton disabled={getSelectedTasksFromSide(endpoint).length !== 1 || getSelectedTasksFromSide(endpoint)[0].dir} \n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tconst downloadUrl = makeFileNameFromPath(endpoint.uri,directoryPath, getSelectedTasksFromSide(endpoint)[0].name);\n\t\t\t\t\t\t\t\tconst taskList = getSelectedTasksFromSide(endpoint);\n\t\t\t\t\t\t\t\tif(getType(endpoint) === SFTP_TYPE || getType(endpoint) === SCP_TYPE){\n\t\t\t\t\t\t\t\t\tgetDownload(downloadUrl, endpoint.credential, taskList);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if(getType(endpoint) === HTTP_TYPE){\n\t\t\t\t\t\t\t\t\twindow.open(downloadUrl);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tdownload(downloadUrl, endpoint.credential, taskList[0].id)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={buttonStyle}><DownloadButton style={iconStyle}/></BootStrapButton>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\n\t\t\t\t\t<OverlayTrigger placement=\"top\" overlay={tooltip(\"Upload\")}>\n\t\t\t\t\t\t<BootStrapButton>\n\t\t\t\t\t\t\t<UploaderWrapper endpoint={endpoint} directoryPath={directoryPath} lastestId={this.state.ids[this.state.ids.length-1]}/>\n\n\t\t\t\t\t\t</BootStrapButton>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\n\t\t\t\t\t<OverlayTrigger placement=\"top\"  overlay={tooltip(\"Share\")}>\n\t\t\t\t\t\t<BootStrapButton disabled = {getSelectedTasksFromSide(endpoint).length !== 1 || getSelectedTasksFromSide(endpoint)[0].dir\n\t\t\t\t\t\t|| !(getType(endpoint) === GOOGLEDRIVE_TYPE || getType(endpoint) === DROPBOX_TYPE)} style={buttonStyle} onClick={() => {\n\t\t\t\t\t\t\tconst downloadUrl = makeFileNameFromPath(endpoint.uri,directoryPath, getSelectedTasksFromSide(endpoint)[0].name);\n\t\t\t\t\t\t\tconst taskList = getSelectedTasksFromSide(endpoint);\n\t\t\t\t\t\t\tgetSharableLink(downloadUrl, endpoint.credential, taskList[0].id)\n\t\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\t\tif(response !== \"\"){\n\t\t\t\t\t\t\t\t\tthis.handleClickOpen(response);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\teventEmitter.emit(\"errorOccured\", \"Error encountered while generating link\");\n\t\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\t})\n\t\t\t\t  \t\t}}>\n\t\t\t\t  \t\t\t<LinkButton style={iconStyle}/>\n\t\t\t\t  \t\t</BootStrapButton>\n\t\t\t\t\t</OverlayTrigger>\n\n\t\t\t\t\t<OverlayTrigger placement=\"top\" overlay={tooltip(\"New Folder\")}>\n\t\t\t\t\t\t<BootStrapButton style={buttonStyle} onClick={() => {\n\t\t\t\t\t\t\tthis.handleClickOpenAddFolder()\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<NewFolderIcon style={iconStyle}/>\n\t\t\t\t\t\t</BootStrapButton>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\n\t\t\t\t\t<OverlayTrigger placement=\"top\" overlay={tooltip(\"Delete\")}>\n\t\t\t\t\t\t<BootStrapButton disabled={getSelectedTasksFromSide(endpoint).length < 1} onClick={() => {\n\t\t\t\t\t\t\tthis.handleCloseWithFileDeleted(getSelectedTasksFromSide(endpoint));\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={buttonStyle}><DeleteIcon style={iconStyle}/></BootStrapButton>\n\t\t\t\t\t</OverlayTrigger>\n\n\n\t\t\t\t\t<OverlayTrigger placement=\"top\" overlay={tooltip(\"Refresh\")}>\n\t\t\t\t  \t\t<BootStrapButton style={buttonStyle}  onClick={() => {\n\t\t\t\t  \t\t\tsetLoading(true);\n\t\t\t\t  \t\t\tthis.getFilesFromBackendWithPath(endpoint, directoryPath, this.state.ids);\n\t\t\t\t  \t\t}}>\n\t\t\t\t  \t\t\t<RefreshButton style={iconStyle}/>\n\t\t\t\t  \t\t</BootStrapButton>\n\t\t\t\t\t</OverlayTrigger>\n\n\t\t\t\t\t<OverlayTrigger placement=\"top\" overlay={tooltip(\"Log out\")}>\n\t\t\t\t  \t\t<BootStrapButton bsStyle=\"primary\" style={buttonStyle} onClick={() =>\n\t\t\t\t  \t\t{\n\t\t\t\t  \t\t\temptyFileNodesData(endpoint);\n\t\t\t\t  \t\t\tthis.unselectAll();\n\t\t\t\t  \t\t\tback();\n\t\t\t\t  \t\t}}\n\t\t\t\t  \t\t\t><LogoutButton style={iconStyle}/></BootStrapButton>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t</ButtonGroup>\n\t\t\t</div>\n\n\t\t\t<div style={{alignSelf: \"stretch\", display: \"flex\", flexDirection: \"row\", alignItems: \"center\", height: \"40px\", padding: \"10px\", backgroundColor: \"#d9edf7\"}}>\n\t\t\t\t<InputGroup style={{padding: \"4px\",marginLeft: 4, flex: 1, background: \"#d9edf7\", borderRadius: \"5px\"}}>\n\t\t\t\t\t<FormControl placeholder=\"Search\"\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\tthis.setState({searchText: event.target.value})\n\t\t\t\t\t\t}}/>\n\t\t\t\t\t<InputGroup.Button>\t\n\t\t\t\t\t<OverlayTrigger placement=\"top\" overlay={tooltip(\"Ignore Case\")}>\n\t\t\t\t\t\t<Button id=\"ignoreCase\" style={{color: this.state.ignoreCase ? \"white\" : \"black\", backgroundColor: this.state.ignoreCase ? \"#337AB6\" : \"white\" ,\n\t\t\t\t\t\t border: \"1px solid #ccc\", textTransform: \"capitalize\", fontFamily : \"monospace\", fontSize : \"10px\", minWidth : \"17px\"}} \n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.setState({ignoreCase : !this.state.ignoreCase})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}>Aa</Button>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t<OverlayTrigger placement=\"top\" overlay={tooltip(\"Regular Expression\")}>\n\t\t\t\t\t\t<Button id=\"regex\" style={{color: this.state.regex ? \"white\" : \"black\", backgroundColor: this.state.regex ? \"#337AB6\" : \"white\" ,\n\t\t\t\t\t\t border: \"1px solid #ccc\", fontSize : \"10px\", minWidth : \"17px\"}}\n\t\t\t\t\t\t onClick={() => {\n\t\t\t\t\t\t\tthis.setState({regex : !this.state.regex})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}><b>*.</b></Button>\n\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t</InputGroup.Button>\n\t\t\t\t</InputGroup>\n\t\t\t</div>\n\n\t\t\t\n\t\t\t<Droppable droppableId={endpoint.side} > \n\t\t\t\t{(provided: DroppableProvided, snapshot: DroppableStateSnapshot) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\t{...provided.droppableProps}\n\t\t\t\t\t\tstyle={{  overflowY: 'scroll', width: \"100%\", marginTop: \"0px\", height: \"320px\"}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{!loading && Object.keys(list).length === 0 &&\n\t\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t\tThis directory is EMPTY\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{loading && Object.keys(list).length === 0 &&\n\t\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t\tLOADING\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{!loading && displayList.length === 0 && Object.keys(list).length > 0 &&\n\t\t\t\t\t\t\t<h2>\n\t\t\t\t\t\t\t\tNo Search Result\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{displayStyle === \"compact\" && !loading && displayList.length !== 0 &&\n\t\t\t\t\t\t\t<CompactFileNodeWrapper \n\t\t\t\t\t\t\t\tsortFunctions = {[{\"Asc\": this.filenameAscendingOrderSort, \"Desc\" : this.filenameDescendingOrderSort}, \n\t\t\t\t\t\t\t\t\t\t\t\t  {\"Asc\": this.dateAscendingOrderSort, \"Desc\":this.dateDescendingOrderSort},\n\t\t\t\t\t\t\t\t\t\t\t\t  {\"Asc\": this.permissionAscendingOrderSort, \"Desc\":this.permissionDescendingOrderSort},\n\t\t\t\t\t\t\t\t\t\t\t\t  {\"Asc\": this.sizeAscendingOrderSort, \"Desc\":this.sizeDescendingOrderSort}]}\n\t\t\t\t\t\t\t\tsortBy = {this.sortBy}\n\t\t\t\t\t\t\t\tlist={list} \n\t\t\t\t\t\t\t\tdisplayList={displayList} \n\t\t\t\t\t\t\t\tselectedTasks={selectedTasks} \n\t\t\t\t\t\t\t\tendpoint={endpoint} \n\t\t\t\t\t\t\t\tdraggingTask={draggingTask}\n\t\t\t\t\t\t\t\ttoggleSelection={this.toggleSelection}\n\t\t\t\t\t\t\t\tonClick={this.fileNodeClicked}\n\t\t\t\t\t\t\t\tonDoubleClick={this.fileNodeDoubleClicked}\n\t\t\t\t\t\t\t\ttoggleSelectionInGroup={this.toggleSelectionInGroup}\n\t\t\t\t\t            multiSelectTo={this.multiSelectTo}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t{displayStyle === \"comfort\" && displayList.map((fileId, index) => {\n\t\t\t\t\t\t\tconst file = list[fileId];\n\t\t\t\t\t\t\tconst isSelected: boolean = Boolean(\n\t\t\t                  selectedTasks.indexOf(file)!==-1,\n\t\t\t                );\n\t\t\t                const isGhosting: boolean =\n\t\t\t                  isSelected &&\n\t\t\t                  Boolean(draggingTask) &&\n\t\t\t                  draggingTask.name !== file.name;\n\n\t\t\t\t\t\t\t  return(\n\t\t\t\t\t\t\t\t<FileNode\n\t\t\t\t\t\t\t\t\tkey={fileId}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tfile={file}\n\t\t\t\t\t\t\t\t\tselectionCount={selectedTasks.length}\n\t\t\t\t\t\t\t\t\tonClick={this.fileNodeClicked}\n\t\t\t\t\t\t\t\t\tonDoubleClick={this.fileNodeDoubleClicked}\n\t\t\t\t\t\t\t\t\tside={endpoint.side}\n\t\t\t\t\t\t\t\t\tisSelected={isSelected}\n\t\t\t\t\t\t\t\t\tendpoint={endpoint}\n\t\t\t\t                    isGhosting={isGhosting}\n\t\t\t\t                    toggleSelection={this.toggleSelection}\n\t\t\t\t                    toggleSelectionInGroup={this.toggleSelectionInGroup}\n\t\t\t\t                    multiSelectTo={this.multiSelectTo}\n\t\t\t\t\t\t\t/>);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{provided.placeHolder}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Droppable>\n\t\t</div>);\n\t}\n}\n\n\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport {globusListEndpoints, globusEndpointIds} from '../../APICalls/APICalls';\nimport {eventEmitter} from \"../../App\";\n\nconst styles = {\n  root: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: 10,\n    paddingRight: 10,\n  },\n  input: {\n    marginLeft: 8,\n    flex: 1,\n    width: \"90%\"\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    width: 1,\n    height: 28,\n    margin: 4,\n  },\n};\n\nexport default class GlobusEndpointListingComponent extends Component {\n\tstatic propTypes = {\n\t\tclose: PropTypes.func,\n\t\tendpointAdded: PropTypes.func\n\t}\n\tconstructor(props){\n\t    super(props);\n\t    this.state={\n\t    \tsearch_text: \"\",\n\t    \tdata:[],\n\t    \tloading: false,\n\t    }\n\n\t}\n\n\tgetEndpointListAsData(){\n\t\tconst { search_text } = this.state;\n\t\tthis.setState({loading: true});\n\t\tif(search_text !== \"\"){\n\t\t\tglobusListEndpoints(\n\t\t\t\tsearch_text,\n\t\t\t\t(resp) => {\n\t\t\t\t\tthis.setState({data: resp[\"DATA\"]});\n\t\t\t\t\tthis.setState({loading: false});\n\t\t\t\t}, (error) => {\n\t\t\t\t\teventEmitter.emit(\"errorOccured\", error);\n\t\t\t\t\tthis.setState({loading: false});\n\t\t\t\t}\n\t\t\t)\n\t\t}else{\n\t\t\teventEmitter.emit(\"errorOccured\", \"Search Text should not be empty.\");\n\t\t}\n\t}\n\n\trender(){\n\t\tconst { search_text, loading, data } = this.state;\n\t\tconst greatDiscoveryList = data.map((v) =>\n    \t\t<ListItem button key={v.canonical_name} style={{background: \"white\", height: 40}} onClick={() => {\n    \t\t\tglobusEndpointIds(v, (resp) => {\n    \t\t\t\tthis.props.endpointAdded(v);\n    \t\t\t}, (error) => {\n    \t\t\t\teventEmitter.emit(\"errorOccured\", \"Error Saving Your endpoint.\");\n    \t\t\t});\n\t\t\t}}>\n\t          <ListItemText primary={v.name} secondary={v.canonical_name} />\n\t\t\t</ListItem>\n\t\t);\n\n\t\treturn (\n\t\t<div style={{width: 300, height: 400, backgroundColor: \"white\", borderWidth: '1px', borderColor: '#005bbb', borderRadius: 2,borderStyle: 'solid', overflow: \"hidden\"}}>\n\t\t\t{loading && <LinearProgress/>}\n\t\t\t<Paper style={styles.root} elevation={0}>\n\t\t      <InputBase style={styles.input} placeholder=\"Search for Endpoints\" value={search_text} onChange={(event) => {\n\t\t      \tthis.setState({search_text: event.target.value})\n\t\t      }}/>\n\t\t      <IconButton style={styles.iconButton} aria-label=\"Search\" onClick={(e) => {\n\t\t      \tthis.getEndpointListAsData();\n\t\t      }}>\n\t\t        <SearchIcon/>\n\t\t      </IconButton>\n\t\t    </Paper>\n\t\t    {(data.length === 0) && <h3 style={{margin: \"100px\"}}> No Result </h3>}\n\t\t    <List component=\"nav\" style={{overflow: 'auto', height: \"100%\"}}>\n\t\t    \t{data.length > 0 &&\n\t\t\t    \tgreatDiscoveryList\n\t\t\t    }\n\t\t    </List>\n\t\t</div>);\n\t}\n} ","import React, { Component } from 'react';\nimport PropTypes from \"prop-types\";\nimport {openDropboxOAuth, openGoogleDriveOAuth, history, savedCredList, \n\t\tlistFiles, deleteCredentialFromServer, deleteHistory, globusEndpointIds, deleteEndpointId, \n\t\tglobusEndpointActivate, globusEndpointDetail} from \"../../APICalls/APICalls\";\nimport {DROPBOX_TYPE, GOOGLEDRIVE_TYPE, FTP_TYPE, SFTP_TYPE, GRIDFTP_TYPE, HTTP_TYPE, SCP_TYPE} from \"../../constants\";\nimport {store} from \"../../App\";\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Button from \"@material-ui/core/Button\";\nimport TextField from '@material-ui/core/TextField';\nimport {cookies} from \"../../model/reducers.js\";\n\nimport Divider from '@material-ui/core/Divider';\nimport DataIcon from '@material-ui/icons/Laptop';\nimport BackIcon from '@material-ui/icons/KeyboardArrowLeft'\nimport AddIcon from '@material-ui/icons/AddToQueue';\nimport Modal from '@material-ui/core/Modal';\n\nimport {getCred} from \"./initialize_dnd.js\";\n\nimport {eventEmitter} from \"../../App\";\n\nimport GlobusEndpointListingComponent from \"./GlobusEndpointListingComponent\";\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport {getType, getName, getDefaultPortFromUri, getTypeFromUri} from '../../constants.js';\nexport default class EndpointAuthenticateComponent extends Component {\n\tstatic propTypes = {\n\t\tloginSuccess : PropTypes.func,\n\t\tendpoint : PropTypes.object,\n\t\thistory: PropTypes.array,\n        credentials: PropTypes.object,\n\t\ttype: PropTypes.string,\n\t\tback: PropTypes.func,\n\t\tsetLoading : PropTypes.func\n\t}\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\thistoryList: props.history,\n\t\t\tendpoint: props.endpoint,\n\t\t\tcredList: props.credentials || {},\n\t\t\tendpointIdsList: {},\n\t\t\tsettingAuth: false,\n\t\t\tsettingAuthType: \"\", \n\t\t\turl: \"\",\n\t\t\tneedPassword: false,\n\t\t\tusername: \"\",\n\t\t\tpassword: \"\",\n\t\t\tendpointSelected: {},\n\t\t\tselectingEndpoint: false,\n\t\t\tportNum: -1,\n\t\t\tportNumField: true\n\t\t};\n\n\t\tlet loginType = getType(props.endpoint);\n\t\tif(loginType === GRIDFTP_TYPE){\n\t\t\tthis.endpointIdsListUpdateFromBackend();\n\t\t}else if(loginType === FTP_TYPE || loginType === SFTP_TYPE){\n\t\t    this.historyListUpdateFromBackend();\n\t\t}\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis._handleError = this._handleError.bind(this);\n\t\tthis.getEndpointListComponentFromList = this.getEndpointListComponentFromList.bind(this);\n\t}\n\n\tcredentialListUpdateFromBackend = () => {\n\t\tthis.props.setLoading(true);\n\n\t\tsavedCredList((data) =>{\n\t\t\tthis.setState({credList: data});\n\t\t\tthis.props.setLoading(false);\n\t\t}, (error) =>{\n\t\t\tthis._handleError(error);\n\t\t\tthis.props.setLoading(false);\n\t\t});\n\t}\n\n\tdeleteCredentialFromLocal(cred, type){\n\t\tthis.props.setLoading(true);\n\n\t\tlet parsedCredsArr = JSON.parse(cookies.get(type));\n\t\tlet filteredCredsArr = parsedCredsArr.filter((curObj)=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn curObj.name !== cred.name;\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\tif(filteredCredsArr.length === 0){\n\t\t\tcookies.remove(type);\n\t\t}\n\t\telse{\n\t\t\tcookies.set(type, JSON.stringify(filteredCredsArr));\n\t\t}\n\n\t\tthis.setState({credList: filteredCredsArr});\n\n\t\tthis.props.setLoading(false);\n\t}\n\n\tendpointIdsListUpdateFromBackend = () => {\n\t\tthis.props.setLoading(true);\n\t\tglobusEndpointIds({},(data) =>{\n\t\t\tthis.setState({endpointIdsList: data});\n\t\t\tthis.props.setLoading(false);\n\t\t}, (error) =>{\n\t\t\tthis._handleError(error);\n\t\t\tthis.props.setLoading(false);\n\t\t});\n\t}\n\n\thistoryListUpdateFromBackend = () => {\n\t\tthis.props.setLoading(true);\n\t\thistory(\"\",-1, (data) =>{\n\t\t\tthis.setState({historyList: data.filter((v) => { return v.indexOf(this.props.endpoint.uri) === 0 })});\n\t\t\tthis.props.setLoading(false);\n\t\t}, (error) => {\n\t\t\tthis._handleError(\"Unable to retrieve data from backend. Try log out or wait for few minutes.\");\n\t\t\tthis.props.setLoading(false);\n\t\t});\n\t}\n\n\t_handleError = (msg) => {\n    \teventEmitter.emit(\"errorOccured\", msg);\n\t}\n\n\thandleChange = name => event => {\n      this.setState({\n        [name]: event.target.value,\n      });\n\t};\n\t\n\thandleUrlChange = name => event => {\n\t\tlet url = event.target.value;\n\n\t\t// Count the number of colons (2nd colon means the URL contains the portnumber)\n\t\tlet colonCount = 0;\n\t\tfor(let i=0; i < url.length; colonCount+=+(':'===url[i++]));\n\n\t\tthis.setState({\n\t\t\t\"portNumField\": colonCount>=2 ? false : true,\n\t\t\t[name] : event.target.value\n\t\t})\n\t\t\n\t}\n\n\tendpointCheckin=(url, portNum, credential, callback) => {\n\t\tthis.props.setLoading(true);\n\t\t\n\t\t// Adding Port number to the URL to ensure that the backend remembers the endpoint URL\n\t\t\n\t\tlet colonCount = 0;\n\t\tfor(let i=0; i < url.length; colonCount+=+(':'===url[i++]));\n\t\t// If the Url already doesn't contain the portnumber append it else no change\n\t\tif(colonCount===1)\n\t\t\turl = url + \":\" + portNum;\n\n\t\tlet endpointSet = {\n\t\t\turi: url,\n\t\t\tlogin: true,\n\t\t\tside: this.props.endpoint.side,\n\t\t\tcredential: credential,\n\t\t\tportNumber: portNum\n\t\t}\n\n\t\t// scp protocol is set into a sftp automatically\n\t\tif(getTypeFromUri(endpointSet.uri)){\n\t\t\tif(endpointSet.uri.startsWith(\"scp://\")){\n\t\t\t\tendpointSet.uri = \"sftp://\" + endpointSet.uri.substring(6);\n\t\t\t\turl = endpointSet.uri;\n\t\t\t}\n\t\t}else{\n\t\t\tthis._handleError(\"Protocol is not understood\");\n\t\t}\n\t\t\n\t\tlistFiles(url, endpointSet, null, (response) => {\n\t\t\thistory(url, portNum, (suc) => {\n\t\t\t\tconsole.log(suc)\n\t\t\t}, (error) => {\n\t\t\t\tthis._handleError(error);\n\t\t\t})\n\t\t\tthis.props.loginSuccess(endpointSet);\n\t\t}, (error) => {\n\t\t\tthis.props.setLoading(false);\n\t\t\tcallback(error);\n\t\t})\n\t}\n\n\tgetEndpointListComponentFromList(endpointIdsList){\n\t\treturn Object.keys(endpointIdsList)\n\t\t\t.map((v) =>\n\t\t\t<ListItem button key={v} onClick={() => {\n\t\t\t\tglobusEndpointDetail(endpointIdsList[v], (resp) => {\n\t\t\t\t\tthis.endpointModalLogin(resp);\n\t\t\t\t}, (error) => {\n\t\t\t\t\tthis._handleError(\"Unable to get detail of this endpoint\");\n\t\t\t\t})\n\t\t\t}}>\n\t\t\t  <ListItemIcon>\n\t\t        <DataIcon/>\n\t\t      </ListItemIcon>\n\t          <ListItemText primary={endpointIdsList[v].name} secondary={endpointIdsList[v].canonical_name}/>\n\t          <ListItemSecondaryAction>\n\t            <IconButton aria-label=\"Delete\" onClick={() => {\n\t            \tdeleteEndpointId(endpointIdsList[v], (accept) => {\n\t            \t\tthis.endpointIdsListUpdateFromBackend();\n\t            \t}, (error) => {\n\t            \t\tthis._handleError(\"Delete Credential Failed\");\n\t            \t});\n\t            }}>\n\t              <DeleteIcon />\n\t            </IconButton>\n\t          </ListItemSecondaryAction>\n\t        </ListItem>\n\t\t);\n\t}\n\n\tgetCredentialListComponentFromList(credList, type){\n\t\tconst {endpoint} = this.state;\n\t\tconst {loginSuccess} = this.props;\n\t\t\n\t\t\n\t\tif(store.getState().saveOAuthTokens){\n\t\t\t// If the user has opted to store tokens on ODS server\n\t\t\t// Note - Backend returns stored credentials as a nested JSON object\n\t\t\treturn Object.keys(credList).filter(id => {\n\t\t\t\treturn (credList[id].name.toLowerCase().indexOf(type.toLowerCase()) !== -1 \n\t\t\t\t\t\t\t&& !getCred().includes(id))})\n\t\t\t\t.map((v) =>\n\t\t\t\t<ListItem button key={v} \n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tconst endpointSet = {\n\t\t\t\t\t\t\turi: endpoint.uri,\n\t\t\t\t\t\t\tlogin: true,\n\t\t\t\t\t\t\tcredential: {uuid: v, name: credList[v].name, tokenSaved: true},\n\t\t\t\t\t\t\tside: endpoint.side\n\t\t\t\t\t\t}\n\t\t\t\t\t\tloginSuccess(endpointSet);\n\t\t\t\t\t}}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<DataIcon/>\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText primary={credList[v].name} />\n\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t<IconButton aria-label=\"Delete\" onClick={() => {\n\t\t\t\t\t\t\tdeleteCredentialFromServer(v, (accept) => {\n\t\t\t\t\t\t\t\tthis.credentialListUpdateFromBackend();\n\t\t\t\t\t\t\t}, (error) => {\n\t\t\t\t\t\t\t\tthis._handleError(\"Delete Credential Failed\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t</ListItem>\n\t\t\t);\n\t\t}\n\t\telse{\n\t\t\t// If the user has opted not to store tokens on ODS server\n\t\t\t// Note - Local storage returns credentials as array of objects\n\t\t\treturn credList.map((cred) =>\n\t\t\t<ListItem button \n\t\t\t\tonClick={() => {\n\t\t\t\t\tconst endpointSet = {\n\t\t\t\t\t\turi: endpoint.uri,\n\t\t\t\t\t\tlogin: true,\n\t\t\t\t\t\tcredential: {name: cred.name, tokenSaved: false, token: cred.token},\n\t\t\t\t\t\tside: endpoint.side\n\t\t\t\t\t}\n\t\t\t\t\tloginSuccess(endpointSet);\n\t\t\t\t}}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<DataIcon/>\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary={cred.name} />\n\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t<IconButton aria-label=\"Delete\" onClick={() =>\n\t\t\t\t\t\tthis.deleteCredentialFromLocal(cred, type)}>\n\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t</ListItem>\n\t\t\t);\n\t\t}\n\t\t\n\t}\n\n\tgetHistoryListComponentFromList(historyList){\n\t\treturn historyList.map((uri) =>\n\t\t\t<ListItem button key={uri} onClick={() => {\n\t\t\t\tconst url = new URL(uri);\n\t\t\t\tlet portValue = url.port;\n\t\t\t\tif(url.port.length === 0){\n\t\t\t\t\tportValue = getDefaultPortFromUri(uri);\n\t\t\t\t}\n\t\t\t\tthis.endpointCheckin(uri, portValue, {}, (error) => {\n\t\t\t\t\tthis._handleError(\"Please enter your credential.\");\n\t\t\t\t\tthis.setState({url: uri, authFunction : this.regularSignIn, settingAuth: true, needPassword: true, portNum: portValue});\n\t\t\t\t})\n\t\t\t}}>\n\t\t\t  <ListItemIcon>\n\t\t        <DataIcon/>\n\t\t      </ListItemIcon>\n\t          <ListItemText primary={uri}/>\n\t          <ListItemSecondaryAction>\n\t            <IconButton aria-label=\"Delete\" onClick={() => {\n\t            \tdeleteHistory(uri, (accept) => {\n\t            \t\tthis.historyListUpdateFromBackend();\n\t            \t}, (error) => {\n\t            \t\tthis._handleError(\"Delete History Failed\");\n\t            \t});\n\t            }}>\n\t              <DeleteIcon />\n\t            </IconButton>\n\t          </ListItemSecondaryAction>\n\t        </ListItem>\n\t\t);\n\t}\n\n\tregularSignIn = () => {\n\t\tconst { needPassword} = this.state;\n\t\t\n\t\tif(!needPassword){\n    \t\tthis.endpointCheckin(this.state.url, this.state.portNum, {}, () => {\n    \t\t\tthis.setState({needPassword: true});\n    \t\t});\n    \t}else{\n    \t\tthis.endpointCheckin(this.state.url, this.state.portNum,{type: \"userinfo\", username: this.state.username, password: this.state.password}, (msg) => {\n    \t\t\tthis._handleError(\"Authentication Failed\");\n    \t\t});\n    \t}\n\t}\n\n\tglobusSignIn = () => {\n\t\tconst { needPassword } = this.state;\n\t\t\n\t\tif(!needPassword){\n    \t\tthis.endpointCheckin(this.state.url, this.state.portNum, {}, () => {\n    \t\t\tthis.setState({needPassword: true});\n    \t\t});\n    \t}else{\n    \t\tthis.endpointCheckin(this.state.url, this.state.portNum,{type: \"userinfo\", username: this.state.username, password: this.state.password}, (msg) => {\n    \t\t\tthis._handleError(\"Authentication Failed\");\n    \t\t});\n    \t}\n\t}\n\n    globusActivateSignin = () => {\n    \tconst {endpointSelected} = this.state;\n    \tthis.props.setLoading(true);\n\t\tglobusEndpointActivate(endpointSelected, this.state.username,  this.state.password, (msg) => {\n\t\t\tthis.props.setLoading(false);\n\t\t\tendpointSelected.activated = true;\n\t\t\tthis.endpointModalLogin(endpointSelected);\n\t\t}, (error) => {\n\t\t\tthis.props.setLoading(false);\n\t\t\tthis._handleError(\"Authentication Failed\");\n\t\t});\n\t}\n\n\tendpointModalAdd = (endpoint) => {\n\t\tthis.props.setLoading(true);\n\t\tglobusEndpointIds({},(data) =>{\n\t\t\tthis.setState({endpointIdsList: data});\n\t\t\tthis.endpointModalLogin(endpoint);\n\t\t\tthis.props.setLoading(false);\n\t\t}, (error) =>{\n\t\t\tthis._handleError(error);\n\t\t\tthis.props.setLoading(false);\n\t\t});\n\t\t\n\t};\n\n\tendpointModalLogin = (endpoint) => {\n\t\tif(endpoint.activated === \"false\"){\n\t\t\teventEmitter.emit(\"messageOccured\", \"Please activate your globus endpoint using credential.\");\n\t\t\tthis.setState({settingAuth: true, authFunction : this.globusActivateSignin, needPassword: true, endpointSelected: endpoint, selectingEndpoint: false});\n\t\t}else{\n\t\t\t\n\t\t\tthis.setState({selectingEndpoint: false});\n\t\t\tthis.endpointCheckin(\"gsiftp:///\", this.state.portNum, {type: \"globus\", globusEndpoint: endpoint}, (msg) => {\n\t\t\t\t\n    \t\t\tthis._handleError(\"Authentication Failed\");\n    \t\t});\n\t\t}\n\t}\n\t\n\trender(){\n\t\tconst { historyList, endpoint, credList, settingAuth, authFunction, needPassword, endpointIdsList, selectingEndpoint } = this.state;\n\t\tconst { back } = this.props;\n\t\t\n\t\tconst type = getName(endpoint);\n\t\tconst loginType = getType(endpoint);\n\n\t\tconst endpointsList = this.getEndpointListComponentFromList(endpointIdsList);\n\t\tconst endpointModalClose = () => {this.setState({selectingEndpoint: false})};\n\n\t\treturn(\n\t\t<div > \n\t\t\t{!settingAuth && <List component=\"nav\" style={{overflow: 'auto'}}>\n\t\t        <ListItem button onClick={() =>{\n\t\t        \tback()\n\t\t        }}>\n\t\t          <ListItemIcon>\n\t\t          \t<BackIcon/>\n\t\t          </ListItemIcon>\n\t\t          <ListItemText primary=\"Back\" />\n\t\t        </ListItem>\n\t\t        <ListItem button onClick={() => {\n\t\t        \tif(loginType === DROPBOX_TYPE){\n\t\t        \t\topenDropboxOAuth();\n\t\t        \t}else if(loginType === GOOGLEDRIVE_TYPE){\n\t\t        \t\topenGoogleDriveOAuth();\n\t\t        \t}else if(loginType === FTP_TYPE){\n\t\t        \t\tlet loginUri = \"ftp://\";\n\t\t        \t\tthis.setState({settingAuth: true, authFunction : this.regularSignIn, \n\t\t        \t\t\tneedPassword: false, url: loginUri, portNum: getDefaultPortFromUri(loginUri)});\n\t\t        \t}else if(loginType === SFTP_TYPE){\n\t\t        \t\tlet loginUri = \"sftp://\";\n\t\t        \t\tthis.setState({settingAuth: true, authFunction : this.regularSignIn, \n\t\t        \t\t\tneedPassword: true, url: loginUri, portNum: getDefaultPortFromUri(loginUri)});\n\t\t        \t}else if(loginType === HTTP_TYPE){\n\t\t        \t\tlet loginUri = \"http://\";\n\t\t        \t\tthis.setState({settingAuth: true, authFunction : this.regularSignIn, \n\t\t        \t\t\tneedPassword: false, url: loginUri, portNum: getDefaultPortFromUri(loginUri)});\n\t\t        \t}else if(loginType === SCP_TYPE){\n\t\t        \t\tlet loginUri = \"scp://\";\n\t\t        \t\tthis.setState({settingAuth: true, authFunction : this.regularSignIn, \n\t\t        \t\t\tneedPassword: false, url: loginUri, portNum: getDefaultPortFromUri(loginUri)});\n\t\t        \t}else if(loginType === GRIDFTP_TYPE){\n\t\t        \t\tthis.setState({selectingEndpoint: true, authFunction : this.globusSignIn});\n\t\t        \t}\n\t\t        }}>\n\t\t          <ListItemIcon>\n\t\t          \t<AddIcon/>\n\t\t          </ListItemIcon>\n\t\t          <ListItemText primary={\"Add New \" + type} />\n\t\t        </ListItem>\n\t\t        <Divider />\n\t\t        {(loginType === DROPBOX_TYPE || loginType === GOOGLEDRIVE_TYPE) && this.getCredentialListComponentFromList(credList, type)}\n\t\t        {loginType === GRIDFTP_TYPE && endpointsList}\n\t\t        {loginType !== DROPBOX_TYPE && loginType !== GOOGLEDRIVE_TYPE && loginType !== GRIDFTP_TYPE && \n\t\t        \tthis.getHistoryListComponentFromList(historyList)}\n\t\t    </List>}\n\t    \t<Modal\n\t    \t  aria-labelledby=\"simple-modal-title\"\n\t          aria-describedby=\"To Select globus endpoints\"\n\t          open={selectingEndpoint}\n\t          onClose={endpointModalClose}\n\t          style={{display: \"flex\", alignItems: \"center\", justifyContent: \"center\", alignSelf: \"center\"}}\n\t    \t>\n\t\t    \t<GlobusEndpointListingComponent close={endpointModalClose} endpointAdded={this.endpointModalAdd}/>\n        \t</Modal>\n\t\t    {settingAuth &&\n\n\t\t    \t<div style={{flexGrow: 1, flexDirection: \"column\",}}>\n\t\t    \t<Button style={{width: \"100%\", textAlign: \"left\"}} onClick={() => {\n\t\t    \t\tthis.setState({settingAuth: false})}\n\t\t    \t}> <BackIcon/>Back</Button>\n\t\t    \t<Divider />\n\t\t    \t{loginType !== GRIDFTP_TYPE && \n\t\t    \t\t<div>\n\t\t\t    \t<TextField\n\t\t\t    \t  style={{width: \"60%\"}}\n\t\t\t          id=\"outlined-name\"\n\t\t\t          label=\"Url\"\n\t\t\t          value={this.state.url}\n\t\t\t          onChange={this.handleUrlChange('url')}\n\t\t\t          margin=\"normal\"\n\t\t\t          variant=\"outlined\"\n\t\t\t        />\n\t\t\t        <TextField\n\t\t\t    \t  style={{width: \"20%\", background: this.state.portNumField? \"white\" : \"#D3D3D3\"}}\n\t\t\t\t\t  id=\"outlined-pnum\"\n\t\t\t\t\t  disabled = {!this.state.portNumField}\n\t\t\t          label=\"Port Number\"\n\t\t\t          value={this.state.portNumField? this.state.portNum : \"-\"} \n\t\t\t          onChange={this.handleChange('portNum')}\n\t\t\t          margin=\"normal\"\n\t\t\t          variant=\"outlined\"\n\t\t\t        />\n\t\t\t        </div>\n\t\t    \t}\n\n\n\t\t        \n\t\t        {needPassword &&\n\t\t        \t<div>\n\t\t\t        <TextField\n\t\t\t    \t  style={{width: \"80%\"}}\n\t\t\t          id=\"outlined-name\"\n\t\t\t          label=\"Username\"\n\t\t\t          value={this.state.username}\n\t\t\t          onChange={this.handleChange('username')}\n\t\t\t          margin=\"normal\"\n\t\t\t          variant=\"outlined\"\n\t\t\t        />\n\t\t\t        <TextField\n\t\t\t    \t  style={{width: \"80%\"}}\n\t\t\t          id=\"outlined-name\"\n\t\t\t          label=\"Password\"\n\t\t\t          type=\"password\"\n\t\t\t          value={this.state.password}\n\t\t\t          onChange={this.handleChange('password')}\n\t\t\t          margin=\"normal\"\n\t\t\t          variant=\"outlined\"\n\t\t\t        />\n\t\t\t        </div>\n\t\t    \t}\n\t\t    \t<Button style={{width: \"100%\", textAlign: \"left\"}} onClick={authFunction}>Next</Button>\n\t\t    \t</div>\n\t\t    }\n      \t</div>);\n\t}\n}","/*\tWindow in the Transfer Component */\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport {openDropboxOAuth, openGoogleDriveOAuth, openGridFtpOAuth, savedCredList} from \"../../APICalls/APICalls\";\nimport {store} from \"../../App\";\nimport PropTypes from \"prop-types\";\nimport {cookies} from \"../../model/reducers.js\";\n\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport { loadCSS } from 'fg-loadcss';\nimport Icon from '@material-ui/core/Icon';\n\nimport EndpointBrowseComponent from \"./EndpointBrowseComponent\";\nimport EndpointAuthenticateComponent from \"./EndpointAuthenticateComponent\";\nimport {DROPBOX_TYPE, GOOGLEDRIVE_TYPE, FTP_TYPE, SFTP_TYPE, GRIDFTP_TYPE, HTTP_TYPE, SCP_TYPE, GRIDFTP_NAME, DROPBOX_NAME, GOOGLEDRIVE_NAME, getType} from \"../../constants\";\n\nimport {eventEmitter} from \"../../App\";\n\nconst pickModule = 0;\nconst inModule = 1;\n\nexport default class BrowseModuleComponent extends Component {\n\n\tstatic propTypes = {\n\t\tendpoint : PropTypes.object,\n\t\thistory : PropTypes.array,\n\t\tmode : PropTypes.number,\n\t\tupdate : PropTypes.func,\n\t\ttype: PropTypes.string,\n\t\tdisplay: PropTypes.string \n\t}\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tconst checkIfOneSideIsLoggedInAsGrid = (currentState) => {\n\t\t\treturn (getType(currentState.endpoint1) === GRIDFTP_TYPE || getType(currentState.endpoint2) === GRIDFTP_TYPE) && (currentState.endpoint1.login || currentState.endpoint1.login);\n\t\t}\n\t\tconst checkIfGridftpIsOpen = (currentState) => {\n\t\t\treturn (getType(currentState.endpoint1) === GRIDFTP_TYPE \n\t\t\t\t|| getType(currentState.endpoint2) === GRIDFTP_TYPE) \n\t\t\t\t|| !(currentState.endpoint1.login || currentState.endpoint1.login);\n\t\t}\n\n\n\t\tlet constructState = store.getState();\n\n\t\tthis.state={\n\t\t\thistory: props.history.filter((v) => { return v.indexOf(props.endpoint.uri) === 0 }),\n\t\t\tcreds: {},\n\t\t\tendpoint: props.endpoint, \n\t\t\tmode: props.mode,\n\t\t\tloading: false,\n\t\t\toneSideIsLoggedInAsGridftp: checkIfOneSideIsLoggedInAsGrid(constructState),\n\t\t\tgridftpIsOpen: checkIfGridftpIsOpen(constructState)\n\t\t};\n\n\t\tthis.unsubcribe = store.subscribe(() => {\n\t\t\tlet currentState = store.getState();\n\t\t\t// Check if either side is logged in as GRID_FTP\n\t\t\tlet oneSideIsLoggedInAsGrid = checkIfOneSideIsLoggedInAsGrid(currentState);\n\t\t\tlet gridftpIsOpen = checkIfGridftpIsOpen(currentState);\n\t\t\tif(oneSideIsLoggedInAsGrid !== this.state.oneSideIsLoggedInAsGridftp || gridftpIsOpen !== this.state.gridftpIsOpen){\n\t\t\t\tthis.setState({oneSideIsLoggedInAsGridftp: oneSideIsLoggedInAsGrid, gridftpIsOpen: gridftpIsOpen});\n\t\t\t}\n    \t});\n\n\t\tthis.setLoading = this.setLoading.bind(this);\n\t\tthis.getLoading = this.getLoading.bind(this);\n\n\t\tthis.credentialTypeExistsThenDo = this.credentialTypeExistsThenDo.bind(this);\n\t\tthis._handleError = this._handleError.bind(this);\n\t}\n\n\tsetLoading(bool){\n\t\tthis.setState({loading: bool});\n\t};\n\n\tgetLoading(){\n\t\treturn this.state.loading;\n\t};\n\n\t_handleError = (msg) =>{\n    \teventEmitter.emit(\"errorOccured\", msg);\n\t}\n\n\tcomponentDidMount(){\n\t\tloadCSS(\n\t      'https://use.fontawesome.com/releases/v5.1.0/css/all.css',\n\t      document.querySelector('#font-awesome-css'),\n\t    );\n\t}\n\n\tcredentialTypeExistsThenDo = (containsType, succeed, failed) => {\n\t\tthis.setLoading(true);\n\n\t\tif(store.getState().saveOAuthTokens){\n\t\t\t// If the user has opted to store tokens on ODS server,\n\t\t\t// query backed for saved credentials\n\t\t\tconsole.log(\"Checking backend for \" + containsType + \" credentials\");\n\n\t\t\tsavedCredList((data) => {\n\t\t\t\tif(Object.keys(data).some(id => {\n\t\t\t\t\treturn data[id].name.toLowerCase().indexOf(containsType.toLowerCase()) !== -1 \n\t\t\t\t})){\n\t\t\t\t\tsucceed(data);\n\t\t\t\t}else{\n\t\t\t\t\tfailed();\n\t\t\t\t}\n\t\t\t\tthis.setLoading(false);\n\t\t\t}, (error) =>{\n\t\t\t\tthis._handleError(\"Could not get credential from our server. Maybe check your internet connection.\");\n\t\t\t\tfailed();\n\t\t\t\tthis.setLoading(false);\n\t\t\t});\n\t\t}\n\t\telse{\n\t\t\t// If the user has opted not to store tokens on ODS server,\n\t\t\t// query cookies for saved credentials\n\t\t\tconsole.log(\"Checking cookies for \" + containsType + \" credentials\");\n\t\t\t\n\t\t\tlet creds = cookies.get(containsType) || 0;\n\t\t\tif(creds !== 0){\n\t\t\t\tcreds= JSON.parse(creds);\n\t\t\t\tsucceed(creds);\n\t\t\t\tthis.setLoading(false);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfailed();\n\t\t\t\tthis.setLoading(false);\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {endpoint, mode, history, type, loading, creds, oneSideIsLoggedInAsGridftp, gridftpIsOpen} = this.state;\n\t\tconst {update} = this.props;\n\n\t\tconst loginPrep = (uri) => (data) => {\n\t\t\tthis.setState({mode: inModule, history: this.props.history.filter(\n\t\t\t\t(v) => { return v.indexOf(uri) === 0 }),\n\t\t\t\tendpoint: {...endpoint, uri: uri},\n\t\t\t\tcreds: data\n\t\t\t});\n\t\t\tthis.props.update({mode: inModule, endpoint: {...endpoint, uri: uri}});\n\t\t}\n\n\t\tconst backHome = () => {\n\t\t\tthis.setState({mode: pickModule, endpoint: {...endpoint, uri: \"\", login: false, credential: {}}});\n\t\t\tthis.props.update({mode: pickModule, endpoint: {...endpoint, uri: \"\", login: false, credential: {}}});\n\t\t}\n\n\t\tconst iconStyle = {marginRight: \"10px\", fontSize: \"16px\", width: \"20px\"};\n\t\tconst buttonStyle = {flexGrow: 1, justifyContent: \"flex-start\", width: \"100%\", fontSize: \"12px\", paddingLeft: \"30%\"};\n\t\t\n\t  return (\n\t    // saved credential\n\t    // login manually\n\t    <div id={\"browser\"+endpoint.side} style={{borderWidth: '1px', borderColor: '#005bbb',borderStyle: 'solid',borderRadius: '10px', width: 'auto', height: 'auto', overflow: \"hidden\"}}>\n\t      \t{(!endpoint.login && mode === pickModule) &&\n\t      \t<div style={{height: \"100%\", display: \"flex\", flexDirection: \"column\", }}>\n\t      \t\t<Button style={buttonStyle} disabled={oneSideIsLoggedInAsGridftp} onClick={() => {\n\t\t      \t\tthis.credentialTypeExistsThenDo(DROPBOX_NAME, loginPrep(DROPBOX_TYPE), openDropboxOAuth);\n\t\t      \t}}>\n\t\t      \t\t<Icon className={'fab fa-dropbox'} style={iconStyle}/>\n\t\t      \t\tDropBox\n\t\t      \t</Button>\n\t      \t\t<Button style={buttonStyle} disabled={oneSideIsLoggedInAsGridftp} onClick={() => {\n\t\t      \t\tloginPrep(FTP_TYPE)()\n\t\t      \t}}>\n\t\t      \t\t<Icon className={'far fa-folder-open'} style={iconStyle}/>\n\t\t      \t\tFTP\n\t      \t\t</Button>\n\t\t      \t<Button style={buttonStyle} disabled={oneSideIsLoggedInAsGridftp} onClick={() => {\n\t\t      \t\tthis.credentialTypeExistsThenDo(GOOGLEDRIVE_NAME, loginPrep(GOOGLEDRIVE_TYPE), openGoogleDriveOAuth);\n\t\t      \t}}>\n\t\t\t      \t<Icon className={'fab fa-google-drive'} style={iconStyle}/>\n\t\t\t      \tGoogle Drive\n\t\t      \t</Button>\n\t      \t\t<Button style={buttonStyle} disabled={!gridftpIsOpen} onClick={() =>{\n\t      \t\t\tthis.credentialTypeExistsThenDo(GRIDFTP_NAME, loginPrep(GRIDFTP_TYPE), openGridFtpOAuth);\n\t      \t\t}}>\n\t      \t\t\t<Icon className={'fas fa-server'} style={iconStyle}/>\n\t      \t\tGrid FTP\n\t\t      \t</Button>\n\t\t\t\t  <Button style={buttonStyle} disabled={oneSideIsLoggedInAsGridftp} onClick={() =>{\n\t      \t\t\tloginPrep(HTTP_TYPE)()\n\t      \t\t}}>\n\t\t      \t\t<Icon className={'fas fa-globe'} style={iconStyle}/>\n\t\t      \t\tHTTP/HTTPS\n\t      \t\t</Button>\n\t\t      \t<Button style={buttonStyle} disabled={oneSideIsLoggedInAsGridftp} onClick={() =>{\n\t\t      \t\tloginPrep(SFTP_TYPE)()\n\t\t      \t}}>\n\t\t      \t\t<Icon className={'fas fa-folder-open'} style={iconStyle}/>\n\t\t      \t\tSFTP\n\t\t      \t</Button>\t      \t\t\n\t      \t\t<Button style={buttonStyle} disabled={oneSideIsLoggedInAsGridftp} onClick={() =>{\n\t      \t\t\tloginPrep(SCP_TYPE)()\n\t      \t\t}}>\n\t      \t\t\t<Icon className={'fas fa-terminal'} style={iconStyle}/>\n\t      \t\t\tSSH\n\t      \t\t</Button>\n\t\t    </div>}\n\n\t\t    {(!endpoint.login && mode === inModule) &&\n\t      \t<div>\n\t      \t\t{loading && <LinearProgress/>}\n\t\t      \t<EndpointAuthenticateComponent endpoint={endpoint} \n\t\t      \t\thistory={history} type={type}\n\t\t      \t\tcredentials={creds}\n\t\t\t      \tloginSuccess={(object) =>{\n\t\t\t      \t\tthis.setState({endpoint: object});\n\t\t\t      \t\tupdate({endpoint: object})\n\t\t\t      \t}}\n\t\t\t      \tsetLoading = {this.setLoading}\n\t\t\t      \tback={backHome}\n\t\t      \t/>\n\t\t    </div>}\n\t\t    {endpoint.login &&\n\t      \t<div>\n\t      \t\t{loading && <LinearProgress/>}\n\t\t      \t<EndpointBrowseComponent \n\t\t      \t\tendpoint={endpoint} \n\t\t      \t\tsetLoading = {this.setLoading}\n\t\t      \t\tgetLoading = {this.getLoading} \n\t\t      \t\tback={backHome}\n\t\t      \t\tdisplayStyle={this.props.displayStyle}\n\t\t      \t/>\n\t\t    </div>}\n\t      </div>\n\t    );\n  \t}\n}","import React, { Component } from 'react';\nimport { eventEmitter} from \"../App\";\nexport default class ErrorMessagesConsole extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\terrorMessages: [{msg: \"Thank you for using onedatashare, currently we do not support transfer between gridftp and other modules, Gridftp can only transfer to gridftp.\", color: \"black\"},]\n\t\t}\n\t\tthis.onErrorOccured = this.onErrorOccured.bind(this);\n\t\tthis.onMessageOccurred = this.onMessageOccurred.bind(this);\n\t\tthis.onWarningOccurred = this.onWarningOccurred.bind(this);\n\t}\n\tcomponentDidMount(){\n    \teventEmitter.on(\"errorOccured\", this.onErrorOccured); \n    \teventEmitter.on(\"messageOccured\", this.onMessageOccurred); \n\n    \teventEmitter.on(\"warningOccured\", this.onWarningOccurred); \n  \t}\n\n\tonErrorOccured(message){\n\t\tlet messagesWithin = this.state.errorMessages;\n\t\tmessagesWithin.push({msg: message, color: \"red\"});\n\t\tthis.setState({errorMessages: messagesWithin});\n\t}\n\n\tonMessageOccurred(message){\n\t\tlet messagesWithin = this.state.errorMessages;\n\t\tmessagesWithin.push({msg: message, color: \"black\"});\n\t\tthis.setState({errorMessages: messagesWithin});\n\t}\n\n\tonWarningOccurred(message){\n\t\tlet messagesWithin = this.state.errorMessages;\n\t\tmessagesWithin.push({msg: message, color: \"orange\"});\n\t\tthis.setState({errorMessages: messagesWithin});\n\t}\n\n\tscrollToBottom = () => {\n\t  this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\n\t}\n\tcomponentDidUpdate() {\n\t  this.scrollToBottom();\n\t}\n\trender(){\n\t\tconst {errorMessages} = this.state;\n\t\treturn(\n\t\t\t<div style={{textAlign: \"left\", borderWidth: 1, height: \"150px\", \n\t\t\t\t\toverflow: \"scroll\", wordWrap: \"break-word\", borderStyle: \"solid\",\n\t\t\t\t\tborderColor: \"black\", padding: \"5px\", borderRadius: \"10px\"\n\t\t\t\t}}\n\t\t\t\t\n\t\t\t>\n\t\t\t\t{errorMessages.map(msg => <p style={{color: msg.color}}>{msg.msg}</p>)}\n\t\t\t\t<p ref={(msgsList) => { this.messagesEnd = msgsList; }}> ></p>\n\t\t\t</div>\n\t\t\t);\n\t\t;\n\t}\n}","import React, { Component } from 'react';\nimport { Panel, Col, Row, Glyphicon} from 'react-bootstrap';\n\nimport {store} from '../../App';\nimport BrowseModuleComponent from './BrowseModuleComponent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nimport FormControl from '@material-ui/core/FormControl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\n\nimport {submit} from \"../../APICalls/APICalls\";\nimport {endpointUpdate} from \"../../model/actions\";\n\nimport { DragDropContext} from 'react-beautiful-dnd';\nimport {mutliDragAwareReorder, screenIsSmall } from \"./utils.js\";\nimport {getSelectedTasks, unselectAll, setDraggingTask, getEntities, setBeforeTransferReorder, makeFileNameFromPath, getEndpointFromColumn, getSelectedTasksFromSide, getCurrentFolderId} from \"./initialize_dnd.js\";\n\nimport {eventEmitter} from \"../../App.js\";\nimport Slider from '@material-ui/lab/Slider';\n\nimport Switch from '@material-ui/core/Switch';\n\nimport ErrorMessagesConsole from '../ErrorMessagesConsole';\nimport queryString from 'query-string';\nimport { updateGAPageView } from '../../analytics/ga';\n\nexport default class TransferComponent extends Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = {\n      endpoint1: store.getState().endpoint1,\n      endpoint2: store.getState().endpoint2,\n      mode1: 0,\n      mode2: 0,\n      history: [],\n      width: window.innerWidth, \n      height: window.innerHeight,\n      settings:{\n        optimizer: \"None\",\n        overwrite: \"true\",\n        verify: \"true\",\n        encrypt: \"true\",\n        compress: \"true\",\n        retry: 5\n      },\n      compact: true\n    }\n\n    this.unsubcribe = store.subscribe(() => {\n        this.setState({\n          endpoint1: store.getState().endpoint1,\n          endpoint2: store.getState().endpoint2,\n        });\n    });\n\n    this.printError = this.printError.bind(this);\n    this.updateDimensions = this.updateDimensions.bind(this);\n    this._returnBrowseComponent1 = this._returnBrowseComponent1.bind(this);\n    this._returnBrowseComponent2 = this._returnBrowseComponent2.bind(this);\n    this.updateBrowseOne = this.updateBrowseOne.bind(this);\n    this.updateBrowseTwo = this.updateBrowseTwo.bind(this);\n    this.sendFile = this.sendFile.bind(this);\n    this.onSendToRight = this.onSendToRight.bind(this);\n    this.onSendToLeft = this.onSendToLeft.bind(this);\n\n    this.printError();\n\n    updateGAPageView();\n\n  }\n\n  printError(){\n    const error = queryString.parse(this.props.location.search);\n    console.log(\"error is\", error);\n    if(error && error[\"error\"])\n      setTimeout(() => {\n        eventEmitter.emit(\"errorOccured\", error[\"error\"]);\n      }, 500);\n  }\n\n  componentDidMount(){\n    document.title = \"OneDataShare - Transfer\";\n    window.addEventListener(\"resize\", this.updateDimensions);\n    this.setState({width: window.innerWidth, height: window.innerHeight});\n  }\n\n  sendFile = (processed) => {\n    if(processed.selectedTasks.length === 0){\n      eventEmitter.emit(\"errorOccured\", \"You did not select any files!\");\n      return 0;\n    }\n    const endpointSrc = getEndpointFromColumn(processed.fromTo[0])\n    const endpointDest = getEndpointFromColumn(processed.fromTo[1])\n    const options = this.state.settings;\n    const srcUrls = [] \n    const fileIds = [] \n    const destUrls = []\n    console.log(processed.selectedTasks);\n    processed.selectedTasks.map((task) => {\n      srcUrls.push(makeFileNameFromPath(endpointSrc.uri, processed.fromTo[0].path, task.name))\n      fileIds.push(task.id);\n      destUrls.push(makeFileNameFromPath(endpointDest.uri, processed.fromTo[1].path, task.name))\n    });\n\n\n    var optionParsed = {}\n    Object.keys(options).map((v)=>{\n      var value = options[v];\n      if(value === \"true\" || value === \"false\"){\n        value = JSON.parse(value)\n      }\n      optionParsed[v] = value\n    })\n\n\n    const src = {\n      credential:endpointSrc.credential,\n    }\n\n    const dest = {\n      credential:endpointDest.credential,\n      id: getCurrentFolderId(endpointDest),\n    }\n\n    for(let i=0; i < srcUrls.length; i++){\n      src[\"id\"] = fileIds[i];\n      src[\"uri\"] = srcUrls[i];\n      dest[\"uri\"] = destUrls[i];\n  \n      submit(src, endpointSrc, dest,endpointDest, optionParsed, (response)=>{\n        eventEmitter.emit(\"messageOccured\", \"Transfer Scheduled!\")\n        setBeforeTransferReorder(processed);\n      }, (error)=>{\n        eventEmitter.emit(\"errorOccured\", error);\n      })  \n    }\n \n  };\n\n  updateDimensions() {\n    const width = this.state.width;\n    \n    // if screen size exceed certain treshhold\n    if((width > 760 && screenIsSmall()) || (width <= 760 && !screenIsSmall())){\n      this.setState({width: window.innerWidth, height: window.innerHeight});\n    }\n  }\n\n\n\n  _returnBrowseComponent1(){\n     const {mode1, endpoint1,history, compact} = this.state;\n    return <BrowseModuleComponent \n      id=\"browserleft\"\n      mode={mode1} \n      endpoint={endpoint1} \n      history={history} \n      displayStyle={compact ? \"compact\" : \"comfort\"}\n      update={this.updateBrowseOne}/>\n  }\n\n  _returnBrowseComponent2(){\n     const {mode2, endpoint2, history, compact} = this.state;\n   \n    return <BrowseModuleComponent \n      id=\"browserright\"\n      mode={mode2}\n      endpoint={endpoint2} \n      history={history} \n      displayStyle={compact ? \"compact\" : \"comfort\"}\n      update={this.updateBrowseTwo}\n    />\n  }\n\n  updateBrowseOne(object){\n      if(object.mode === undefined){\n        object.mode = 0\n      }\n      this.setState({endpoint1: object.endpoint || this.state.endpoint1, mode1: object.mode});\n      if(object.endpoint)\n        store.dispatch(endpointUpdate(object.endpoint.side, {...this.state.endpoint1, ...object.endpoint}));\n  }\n\n  updateBrowseTwo(object){\n      if(object.mode === undefined){\n        object.mode = 0\n      }\n      this.setState({endpoint2: object.endpoint || this.state.endpoint2, mode2: object.mode});\n      if(object.endpoint)\n        store.dispatch(endpointUpdate(object.endpoint.side, {...this.state.endpoint2, ...object.endpoint}));\n  }\n\n  onDragStart = (start) => {\n    var task = JSON.parse(start.draggableId.slice(start.draggableId.indexOf(\" \")));\n    var selectedSide = start.source.droppableId;\n    const selected = getSelectedTasks()[selectedSide].find(\n      (listTask) => listTask.name === task.name,\n    );\n\n    // if dragging an item that is not selected - unselect all items\n    if (!selected) {\n      unselectAll();\n    }\n    setDraggingTask(task);\n  };\n\n  onDragEnd = (result) => {\n    const destination = result.destination;\n    const source = result.source;\n    // nothing to do\n\n    if (!destination || result.reason === 'CANCEL') {\n      setDraggingTask(null);\n      return;\n    }\n    console.log(getSelectedTasks(), result.source, result.destination)\n    const processed = mutliDragAwareReorder({\n      entities: getEntities(),\n      selectedTasks: getSelectedTasks(),\n      source,\n      destination,\n    });\n\n    if(processed.fromTo[0] === processed.fromTo[1]){\n      setBeforeTransferReorder(processed);\n    }else{  \n      this.sendFile(processed);\n    }\n    \n    setDraggingTask(null)\n  };\n\n  \n  onSendToRight(){\n\n    /*\n    const processed: ReorderResult = mutliDragAwareReorder({\n      entities: getEntities(),\n      selectedTasks: getSelectedTasks(),\n\n      {droppableId: \"left\"},\n      {droppableId: \"right\"},\n    });\n\n    if(processed.fromTo[0] == processed.fromTo[1]){\n      setBeforeTransferReorder(processed);\n    }else{  \n      this.sendFile(processed);\n    }*/\n    \n    const entity = getEntities();\n    const processed = {\n      fromTo: [entity.left, entity.right],\n      selectedTasks: getSelectedTasksFromSide({side: \"left\"})\n    }\n    this.sendFile(processed);\n  }\n  onSendToLeft(){\n    const entity = getEntities();\n    const processed = {\n      fromTo: [entity.right, entity.left],\n      selectedTasks: getSelectedTasksFromSide({side: \"right\"})\n    }\n    \n    console.log(processed);\n    this.sendFile(processed);\n  }\n\n  getSettingComponent(isSmall){\n    const handleChange = (name) => event => {\n      var value = event.target.value;\n      this.setState({settings:{ ...this.state.settings, [name]: value }});\n    };\n    const handleChangeRetry = (event, value) => {\n      this.setState({settings:{ ...this.state.settings, retry: value }});\n    }\n    const formlabelstyle = {fontSize: \"15px\"}\n    const formStyle = {marginLeft: \"5%\", marginRight: \"5%\"}\n    return <Panel bsStyle=\"primary\">\n              <Panel.Heading>Transfer Setting</Panel.Heading>\n              <Panel.Body key={isSmall} style={{overflow: \"hidden\"}}>\n                <FormControl component=\"fieldset\" style={formStyle}>\n                  <FormLabel component=\"legend\" style={formlabelstyle}>Optimization</FormLabel>\n                  <RadioGroup\n                    aria-label=\"Optimization\"\n                    value={this.state.settings.optimizer}\n                    onChange={handleChange(\"optimizer\")}\n                  >\n                    <FormControlLabel value=\"None\" control={<Radio />} label=\"None\" />\n                    <FormControlLabel value=\"2nd Order\" control={<Radio />} label=\"2nd Order\" />\n                    <FormControlLabel value=\"PCP\" control={<Radio />} label=\"PCP\" />\n                  </RadioGroup>\n                </FormControl>\n\n                <FormControl component=\"fieldset\" style={formStyle}>\n                  <FormLabel component=\"legend\" style={formlabelstyle}>Overwrite</FormLabel>\n                  <RadioGroup\n                    aria-label=\"Overwrite\"\n                    value={this.state.settings.overwrite}\n                    onChange={handleChange(\"overwrite\")}\n                  >\n                    <FormControlLabel value=\"true\" control={<Radio />} label=\"True\" />\n                    <FormControlLabel value=\"false\" control={<Radio />} label=\"False\"/>\n                  </RadioGroup>\n                </FormControl>\n                <FormControl component=\"fieldset\" style={formStyle}>\n                  <FormLabel component=\"legend\" style={formlabelstyle}>Integrity</FormLabel>\n                  <RadioGroup\n                    aria-label=\"Integrity\"\n                    value={this.state.settings.verify}\n                    onChange={handleChange(\"verify\")}\n                  >\n                    <FormControlLabel value=\"true\" control={<Radio />} label=\"True\" />\n                    <FormControlLabel value=\"false\" control={<Radio />} label=\"False\"/>\n                  </RadioGroup>\n                </FormControl>\n\n                <FormControl component=\"fieldset\" style={formStyle}>\n                  <FormLabel component=\"legend\" style={formlabelstyle}>Encrypt</FormLabel>\n                  <RadioGroup\n                    aria-label=\"Encrypt\"\n                    value={this.state.settings.encrypt}\n                    onChange={handleChange(\"encrypt\")}\n                  >\n                    <FormControlLabel value=\"true\" control={<Radio />} label=\"True\" />\n                    <FormControlLabel value=\"false\" control={<Radio />} label=\"False\"/>\n                  </RadioGroup>\n                </FormControl>\n\n                <FormControl component=\"fieldset\" style={formStyle}>\n                  <FormLabel component=\"legend\" style={formlabelstyle}>Compress</FormLabel>\n                  <RadioGroup\n                    aria-label=\"Compress\"\n                    value={this.state.settings.compress}\n                    onChange={handleChange(\"compress\")}\n                  >\n                    <FormControlLabel value=\"true\" control={<Radio />} label=\"True\" />\n                    <FormControlLabel value=\"false\" control={<Radio />} label=\"False\"/>\n                  </RadioGroup>\n                </FormControl>\n\n                <FormControl component=\"fieldset\">\n                  <FormLabel component=\"legend\" style={formlabelstyle}>Retry Counts</FormLabel>\n                  <Slider\n\n                    value={this.state.settings.retry}\n                    min={0}\n                    max={10}\n                    step={1}\n                    onChange={handleChangeRetry}\n                  />\n                  <FormLabel style={{marginTop: \"20px\", fontSize: \"20px\"}}>{this.state.settings.retry} Times</FormLabel>\n                </FormControl>\n              </Panel.Body>\n              \n            </Panel>\n  }\n  render() {\n\n    const isSmall = screenIsSmall();\n    const panelStyle = { height: \"auto\", margin: isSmall? \"10px\": \"0px\"};\n    let handleChange = name => event => {\n      this.setState({ [name]: event.target.checked });\n    };\n\n    return (\n      <div style={{display: \"flex\", flexDirection: 'row', justifyContent: 'center', paddingTop: '20px'}}>\n        <Col xs={11} style={{ display: \"flex\",justifyContent: 'center', flexDirection: 'column'}}>\n          \n          {!isSmall && \n          <Panel bsStyle=\"primary\">\n          <FormControlLabel\n            style={{width: \"200px\", right: \"10px\", color: \"white\", position: \"absolute\"}}\n            control={\n              <Switch\n                color=\"default\"\n                style={{colorPrimary: \"white\", colorSecondary:\"white\"}}\n                checked={this.state.compact}\n                onChange={handleChange('compact')}\n                value=\"compact\"\n              />\n            }\n            label={<Typography style={{color: \"white\", fontSize: \"12px\"}}>Compact</Typography>}\n          />\n          <Panel.Heading>\n            <p>\n              Browse and Transfer Files\n            </p>\n            \n\n            </Panel.Heading>\n            <Panel.Body key={isSmall} style={{overflow: \"hidden\"}}>\n                <Row style={{flexDirection: 'column'}}>\n                  <DragDropContext \n                    onDragStart={this.onDragStart}\n                    onDragEnd={this.onDragEnd}\n                  >\n                  <Col xs={6} style={panelStyle}  >\n                    {this._returnBrowseComponent1()}\n                  </Col>\n                  <Col xs={6} style={panelStyle} >\n                    {this._returnBrowseComponent2()}  \n                  </Col>\n                  </DragDropContext>\n                </Row>\n                <Row style={{display: 'block', }}>\n                    <Button style={{padding: '15px', marginRight: '10px'}} onClick={this.onSendToLeft}> <Glyphicon glyph=\"arrow-left\" />    Send</Button>\n                    <Button style={{padding: '15px', marginLeft: '10px'}} onClick={this.onSendToRight}> Send<Glyphicon glyph=\"arrow-right\" /></Button>\n                </Row>\n            \n\n              <ErrorMessagesConsole/>\n            </Panel.Body>\n          </Panel>\n\n          \n        }\n        {/* !isSmall && this.getSettingComponent(isSmall) */}\n        {isSmall &&\n        <Panel bsStyle=\"primary\">\n        <FormControlLabel\n                      style={{width: \"200px\", float: \"right\", color: \"white\"}}\n                      control={\n                        <Switch\n                          color=\"default\"\n                          style={{colorPrimary: \"white\", colorSecondary:\"white\"}}\n                          checked={this.state.compact}\n                          onChange={handleChange('compact')}\n                          value=\"compact\"\n                        />\n                      }\n                      label={<Typography style={{fontSize: \"12px\"}}>Compact</Typography>}\n                    />\n        <Panel.Heading>\n          <p>\n            Browse and Transfer Files\n\n\n          </p>\n\n\n        </Panel.Heading>\n\n\n        <Panel.Body key={isSmall} style={{overflow: \"hidden\"}}>\n            <Row style={{flexDirection: 'column'}}>\n              <DragDropContext\n                  onDragStart={this.onDragStart}\n                  onDragEnd={this.onDragEnd}\n              >\n                <Col style={panelStyle}>\n                  {this._returnBrowseComponent1()}\n                </Col>\n                <Row style={{display: 'flex', flexDirection: 'row', justifyContent: 'center' }}>\n                  <Button style={{padding: '15px', marginRight: '10px'}} onClick={this.onSendToLeft}> <Glyphicon glyph=\"arrow-up\" /> Send</Button>\n                  <Button style={{padding: '15px', marginLeft: '10px'}} onClick={this.onSendToRight}> Send<Glyphicon glyph=\"arrow-down\" /></Button>\n                </Row>\n                <Row style={panelStyle}>\n                  {this._returnBrowseComponent2()}  \n                </Row>\n                \n                 {/*  <Row> {this.getSettingComponent(isSmall)} </Row> */}\n              </DragDropContext>\n              \n            </Row>\n            <div> </div>\n            <ErrorMessagesConsole/>\n            </Panel.Body>\n            </Panel>\n          }\n\n        </Col>\n      </div>\n        \n    );\n  }\n}\n\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\n\nconst actionsStyles = theme => ({\n  root: {\n    flexShrink: 0,\n    color: theme.palette.text.secondary,\n    marginLeft: theme.spacing.unit * 2.5\n  },\n  tablePaginationActions: {\n    color: 'red',\n  }\n});\n\nclass TablePaginationActions extends React.Component {\n  handleFirstPageButtonClick = event => {\n    this.props.onChangePage(event, 0);\n  };\n\n  handleBackButtonClick = event => {\n    this.props.onChangePage(event, this.props.page - 1);\n  };\n\n  handleNextButtonClick = event => {\n    this.props.onChangePage(event, this.props.page + 1);\n  };\n\n  handleLastPageButtonClick = event => {\n    this.props.onChangePage(\n      event,\n      Math.max(0, Math.ceil(this.props.count / this.props.rowsPerPage) - 1),\n    );\n  };\n\n  render() {\n    const { classes, count, page, rowsPerPage, theme } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <IconButton\n          onClick={this.handleFirstPageButtonClick}\n          disabled={page === 0}\n          aria-label=\"First Page\"\n        >\n          {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n        </IconButton>\n        <IconButton\n          onClick={this.handleBackButtonClick}\n          disabled={page === 0}\n          aria-label=\"Previous Page\"\n        >\n          {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n        </IconButton>\n        <IconButton\n          onClick={this.handleNextButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"Next Page\"\n        >\n          {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n        </IconButton>\n        <IconButton\n          onClick={this.handleLastPageButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"Last Page\"\n        >\n          {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n        </IconButton>\n      </div>\n    );\n  }\n}\nTablePaginationActions.propTypes = {\n  classes: PropTypes.object.isRequired,\n  count: PropTypes.number.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nexport default withStyles(actionsStyles, {\n  withTheme: true\n})(TablePaginationActions); ","import React, { Component } from 'react';\r\nimport { queue } from '../../APICalls/APICalls';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport Button from '@material-ui/core/Button';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { ProgressBar, Grid, Row, Col } from 'react-bootstrap';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport Info from '@material-ui/icons/Info';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport TablePagination from '@material-ui/core/TablePagination'\r\nimport TableFooter from '@material-ui/core/TableFooter'\r\nimport TablePaginationActions from '../TablePaginationActions'\r\nimport { updateGAPageView } from \"../../analytics/ga\";\r\n\r\nimport { withStyles } from '@material-ui/core';\r\n\r\nconst styles = theme => ({\r\n\t\troot:{\r\n\t\t\twidth:'fit-content'\r\n\t\t},\r\n\t\ttoolbar:{\r\n\t\t\tpaddingLeft:'300px'\r\n\t\t},\r\n\ttablePaginationCaption: {\r\n\t\t\tfontSize: '15px'\r\n\t\t},\r\n\ttablePaginationSelect: {\r\n\t\t\tfontSize: '15px',\r\n\t\t\tlineHeight:'20px'\r\n\t\t}\r\n\t})\r\n\r\nclass QueueComponent extends Component {\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state = {response:[],\r\n\t\t\t\t\t\tresponsesToDisplay:[],\r\n\t\t\t\t\t  selectedTab: 0,\r\n\t\t\t\t\t\tpage: 0,\r\n\t\t\t\t\t\trowsPerPage: 10,\r\n\t\t\t\t\t\trowsPerPageOptions : [10, 20, 50, 100],\r\n\t\t\t\t\t\torder : 'desc',\r\n\t\t\t\t\t\torderBy : 'job_id'};\r\n\r\n\t\tthis.queueFunc = this.queueFunc.bind(this)\r\n\t\tthis.queueFunc();\r\n\t\tthis.interval = setInterval(this.queueFunc, 2000);    //making a queue request every 2 seconds\r\n\r\n\t\tthis.toggleTabs = this.toggleTabs.bind(this);\r\n\t\tupdateGAPageView();\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tdocument.title = \"OneDataShare - History\";\r\n\t}\r\n\r\n\tcomponentWillUnmount(){\r\n\t\tclearInterval(this.interval);\r\n\t}\r\n\r\n\tqueueFunc = () => {\r\n\t\tlet isHistory = true;\r\n\r\n\t\tqueue(isHistory, this.state.page, this.state.rowsPerPage, this.state.orderBy, this.state.order,(resp) => {\r\n\t\t//success\r\n\t\tlet responsesToDisplay = [];\r\n\t\tif(this.state.page === 0){\r\n\t\t\tresponsesToDisplay = resp.jobs.slice(0, this.state.rowsPerPage);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tresponsesToDisplay = resp.jobs.slice(this.state.rowsPerPage, 2 * this.state.rowsPerPage);\r\n\t\t}\r\n\r\n\t\tthis.setState({response:resp.jobs, responsesToDisplay: responsesToDisplay, totalCount: resp.totalCount});\r\n\r\n\t}, (resp) => {\r\n\t\t//failed\r\n\t\tconsole.log('Error in queue request to API layer');\r\n\t})};\r\n\r\n\tgetStatus(status, total, done){\r\n\t\tconst style = {marginTop: '5%', fontWeight: 'bold'};\r\n\t\tif(status === 'complete'){\r\n\t\t\treturn(<ProgressBar now={100} label={'Complete'} style={style} />);\r\n\t\t}\r\n\t\telse if(status === 'failed'){\r\n\t\t\treturn(<ProgressBar bsStyle=\"danger\" now={100} style={style} label={'Failed'} />);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tvar percentCompleted = ((done/total) * 100).toFixed();\r\n\t\t\treturn(<ProgressBar bsStyle=\"danger\" now={percentCompleted} style={style} label={'Processing ' + percentCompleted + '%'} />);\r\n\t\t}\r\n\t}\r\n\r\n\tgetFormattedDate(d){\r\n\t\treturn (1 + d.getMonth() + '/' + d.getDate() + '/' + d.getFullYear() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds());\r\n\t}\r\n\r\n\trenderSpeed(speedInBps){\r\n\t\tlet displaySpeed = \"\";\r\n\t\tif(speedInBps > 1000000000){\r\n\t\t\tdisplaySpeed = (speedInBps/1000000000).toFixed(2) + \" GB/s\";\r\n\t\t}\r\n\t\telse if(speedInBps > 1000000){\r\n\t\t\tdisplaySpeed = (speedInBps/1000000).toFixed(2) + \" MB/s\";\r\n\t\t}\r\n\t\telse if(speedInBps > 1000){\r\n\t\t\tdisplaySpeed = (speedInBps/1000).toFixed(2) + \" KB/s\";\r\n\t\t}\r\n\t\telse{\r\n\t\t\tdisplaySpeed = speedInBps + \" B/s\";\r\n\t\t}\r\n\r\n\t\treturn displaySpeed;\r\n\t}\r\n\r\n\tinfoButtonOnClick(jobID){\r\n\t\tvar row = document.getElementById(\"info_\" + jobID);\r\n        \t\tif(this.selectedJobInfo === jobID && row.style.display !== \"none\"){\r\n        \t\t\trow.style.display = \"none\";\r\n        \t\t}\r\n        \t\telse{\r\n        \t\t\tvar row2close = document.getElementById(\"info_\" + this.selectedJobInfo);\r\n        \t\t\tif(row2close)\r\n        \t\t\t\trow2close.style.display = \"none\";\r\n        \t\t\trow.style.display = \"table-row\";\r\n        \t\t\tthis.selectedJobInfo = jobID;\r\n        \t\t}\r\n\t}\r\n\r\n\t// deleteButtonOnClick(jobID, owner){\r\n\t// \tdeleteJob(jobID, owner, (resp) => {\r\n\t// \t\t//success\r\n\t// \t\tthis.queueFunc();\r\n\t// \t}, (resp) => {\r\n\t// \t\t//failed\r\n\t// \t\tconsole.log('Error in delete job request to API layer');\r\n\t// \t});\r\n\t// }\r\n\r\n\tcloseAllInfoRows(){\r\n\t\tfor(var i=0 ; i < this.infoRowsIds.length; i++){\r\n\t\t\tvar infoRow = document.getElementById(this.infoRowsIds[i]);\r\n\t\t\tif(infoRow.style.display !== 'none')\r\n\t\t\t\tinfoRow.style.display = 'none';\r\n\t\t}\r\n\t\tthis.setState({selectedTab: 0});\r\n\t}\r\n\r\n\tcancelButtonClick(jobID){\r\n\r\n\t}\r\n\r\n\ttoggleTabs(){\r\n\t\tif(this.state.selectedTab === 0)\r\n\t\t\tthis.setState({selectedTab: 1});\r\n\t\telse\r\n\t\t\tthis.setState({selectedTab: 0});\r\n\t}\r\n\r\n\trenderActions(jobID, status, owner){\r\n\t\tthis.infoRowsIds = this.infoRowsIds || [];\r\n\t\tthis.infoRowsIds.push(\"info_\" + jobID);\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<Tooltip TransitionComponent={Zoom} placement=\"top\" title=\"Detailed Information\">\r\n\t\t\t\t\t<Button onClick={() => {this.infoButtonOnClick(jobID)}} variant=\"contained\" size=\"small\" color=\"primary\"\r\n\t\t\t\t\t\tstyle={{backgroundColor: 'rgb(224, 224, 224)', color: '#333333', fontFamily: 'FontAwesome', fontSize: '1.5rem', height: '30%',\r\n\t\t\t\t\t\tfontWeight: 'bold', width: '20%', textTransform: 'none',\r\n\t\t\t\t\t\tminWidth: '0px', minHeigth: '0px'}}>\r\n\t\t\t\t\t\t<Info />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t{status === 'processing' &&\r\n\t\t\t\t<Tooltip TransitionComponent={Zoom} title=\"Cancel\">\r\n\t\t\t\t\t\t<Button onClick={() => {this.cancelButtonOnClick(jobID)}}  variant=\"contained\" size=\"small\" color=\"primary\"\r\n\t\t\t\t\t\t\tstyle={{backgroundColor: 'rgb(224, 224, 224)', color: '#333333', fontSize: '1.5rem', fontWeight: 'bold', width: '20%', height: '20%',\r\n\t\t\t\t\t\t\ttextTransform: 'none', minWidth: '0px', minHeigth: '0px'}}>\r\n\t\t\t\t\t\t\t<Cancel />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t}\r\n\t\t\t\t{/* {\r\n\t\t\t\t\t<Tooltip TransitionComponent={Zoom} title=\"Delete\">\r\n\t\t\t\t\t\t<Button onClick={() => {this.deleteButtonOnClick(jobID, owner)}} disabled={deleted} variant=\"contained\" size=\"small\" color=\"primary\"\r\n\t\t\t\t\t\t\tstyle={{backgroundColor: 'rgb(224, 224, 224)', color: '#333333', fontSize: '1.5rem', fontWeight: 'bold', width: '20%', height: '20%',\r\n\t\t\t\t\t\t\ttextTransform: 'none', minWidth: '0px', minHeigth: '0px'}}>\r\n\t\t\t\t\t\t\t<DeleteOutline />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t} */}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tdecodeURIComponent(url) {\r\n\t    return decodeURIComponent(url);\r\n\t}\r\n\r\n\r\n\trenderTabContent(resp){\r\n\t\tif(this.state.selectedTab === 0){\r\n\t\t\treturn(\r\n\t\t\t\t<Grid style={{ paddingTop : '0.5%', paddingBottom: '0.5%', width:'fit-content'}}>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>User</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{resp.owner}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Job ID</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{resp.job_id}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Source</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{resp.src.uri}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Destination</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{resp.dest.uri}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Instant Speed</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{this.renderSpeed(resp.bytes.inst)}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Average Speed</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{this.renderSpeed(resp.bytes.avg)}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Scheduled Time</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{this.getFormattedDate(new Date(resp.times.scheduled))}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Started Time</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{this.getFormattedDate(new Date(resp.times.started))}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Completed Time</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{this.getFormattedDate(new Date(resp.times.completed))}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Time Duration</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{((resp.times.completed - resp.times.started)/1000).toFixed(2)} sec</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Attempts</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{resp.attempts}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Status</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{resp.status}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse if (this.state.selectedTab === 1){\r\n\t\t\treturn(\r\n            \t\t\t\t<pre>{JSON.stringify(resp, null, \"\\t\")}</pre>\r\n            );\r\n\t\t}\r\n\t}\r\n\thandleChangePage = (event, page) => {\r\n\t\tconsole.log(\"The page is:\" + page)\r\n\t\tlet nextRecords\r\n\t\tif(page > this.state.page){\r\n\t\t\t// Moving to next page\r\n\t\t\tnextRecords = this.state.response.slice(this.state.rowsPerPage, 2 * this.state.rowsPerPage)\r\n\t\t}\r\n\t\telse{\r\n\t\t\t// Moving to previous page\r\n\t\t\tnextRecords = this.state.response.slice(0, this.state.rowsPerPage)\r\n\t\t}\r\n\t\tthis.state.page=page\r\n\t\t\r\n\t\tthis.setState({ page, response: this.state.response, responsesToDisplay: nextRecords});\r\n        var x = document.getElementsByClassName(\"rohit\");\r\n\r\n                for (var i = 0; i < x.length; i++) {\r\n                  x[i].style.display = \"none\";\r\n                }\r\n\t\tthis.queueFunc()\r\n\t};\r\n\r\n\thandleChangeRowsPerPage = event => {\t\t\r\n\t\tthis.setState({ page: 0, rowsPerPage: parseInt(event.target.value) });\r\n\t\tthis.queueFunc()\r\n\t};\r\n\r\n\thandleRequestSort = (property) => {\r\n    const orderBy = property;\r\n    let order = 'desc';\r\n\r\n    if (this.state.orderBy === property && this.state.order === 'desc') {\r\n      order = 'asc';\r\n    }\r\n\t\tthis.setState({ order:order, orderBy:orderBy });\r\n\t\tthis.queueFunc()\r\n  };\r\n\r\n\r\n\trender(){\r\n\t\tconst {totalCount, responsesToDisplay} = this.state;\r\n\t\tconst tbcellStyle= {textAlign: 'center'}\r\n\t\tconst {rowsPerPage, rowsPerPageOptions, page, order, orderBy} = this.state;\r\n\t\tconst {classes} = this.props;\r\n\t\tconst sortableColumns = {\r\n\t\t\tjobId: 'job_id',\r\n\t\t\tstatus: 'status',\r\n\t\t\tavgSpeed : \"bytes.avg\",\r\n\t\t\tsource : \"src.uri\",\r\n\t\t\tuserName: \"owner\"\r\n\t\t}\r\n\t\tvar tableRows = [];\r\n\t\tresponsesToDisplay.map(resp => {\r\n\t      \t tableRows.push(\r\n\t      \t \t<TableRow style={{alignSelf: \"stretch\"}}>\r\n\t\t            <TableCell component=\"th\" scope=\"row\" style={{...tbcellStyle, width: '7.5%',  fontSize: '1rem'}} numeric>\r\n\t\t              {resp.owner}\r\n\t\t            </TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '40%',  fontSize: '1rem'}}>\r\n\t\t            \t{resp.job_id}\r\n\t\t            </TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '40%',  fontSize: '1rem'}}>\r\n                        {this.getStatus(resp.status, resp.bytes.total, resp.bytes.done)}\r\n                    </TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '35%', maxWidth: '20vw', overflow:\"hidden\", fontSize: '1rem', margin: \"0px\", maxHeight: \"10px\"}}>\r\n\t\t            \t{this.renderSpeed(resp.bytes.avg)}\r\n\t\t            </TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '10%',  fontSize: '1rem'}}>\r\n\t\t            \t{this.decodeURIComponent(resp.src.uri)} <b>-></b> {this.decodeURIComponent(resp.dest.uri)}\r\n\t\t            </TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '10%',  fontSize: '1rem'}}>\r\n\t\t\t\t\t\t\t\t\t{this.renderActions(resp.job_id, resp.status,resp.owner)}\r\n                </TableCell>\r\n\t          \t</TableRow>\r\n\t        );\r\n\t      \ttableRows.push(\r\n\t      \t \t<TableRow id={\"info_\" + resp.job_id} class=\"rohit\" style={{ display: 'none'}}>\r\n\t            \t<TableCell colSpan={6} style={{...tbcellStyle, width: '10%',  fontSize: '1rem', backgroundColor: '#e8e8e8', margin: '2%' }}>\r\n\t            \t\t<div id=\"infoBox\" style={{ marginBottom : '0.5%' }}>\r\n\t\t            \t\t<AppBar position=\"static\" style={{ boxShadow: 'unset' }}>\r\n\t\t\t\t\t\t\t\t<Tabs value={this.state.selectedTab} onChange={this.toggleTabs} style={{ backgroundColor: '#e8e8e8' }}>\r\n\t\t\t\t\t\t\t\t\t<Tab style={{ backgroundColor: '#428bca', margin: '0.5%', borderRadius: '4px' }} label=\"Formatted\" />\r\n\t\t\t            \t\t\t<Tab style={{ backgroundColor: '#428bca', margin: '0.5%', borderRadius: '4px' }} label=\"JSON\" />\r\n\t\t          \t\t\t\t</Tabs>\r\n\t\t        \t\t\t</AppBar>\r\n\t\t        \t\t\t<div style={{ backgroundColor: 'white', borderRadius: '4px', textAlign: 'left', marginTop: '0.3%'}}>\r\n\t\t        \t\t\t\t{this.renderTabContent(resp)}\r\n\t\t        \t\t\t</div>\r\n\t\t        \t\t</div>\r\n\t            \t</TableCell>\r\n\t          \t</TableRow>\r\n\t        );\r\n\t\t});\r\n\r\n\t\treturn(\r\n\t\t<Paper className={classes.root} style={{marginLeft: '10%', marginRight: '10%', marginTop: '5%', border: 'solid 2px #d9edf7'}}>\r\n\t  \t\t<Table style={{display: \"block\"}}>\r\n\t\t        <TableHead style={{backgroundColor: '#d9edf7'}}>\r\n\t\t          <TableRow>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '7.5%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Username\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={orderBy === sortableColumns.userName}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={order}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleRequestSort(sortableColumns.userName)}}>\r\n\t\t\t\t\t\t\t\t\t\t\tUsername\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '40%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Job ID\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={orderBy === sortableColumns.jobId}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={order}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleRequestSort(sortableColumns.jobId)}}>\r\n\t\t\t\t\t\t\t\t\t\t\tJob ID\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '7.5%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Progress\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={orderBy === sortableColumns.status}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={order}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleRequestSort(sortableColumns.status)}}>\r\n\t\t\t\t\t\t\t\t\t\t\tProgress\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '35%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Average Speed\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={orderBy === sortableColumns.avgSpeed}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={order}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleRequestSort(sortableColumns.avgSpeed)}}>\r\n\t\t\t\t\t\t\t\t\t\t\tAverage Speed\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '10%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Source/Destination\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={orderBy === sortableColumns.source}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={order}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleRequestSort(sortableColumns.source)}}>\r\n\t\t\t\t\t\t\t\t\t\t\tSource/Destination\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '10%',  fontSize: '2rem', color: '#31708f'}}>Actions</TableCell>\r\n\t\t          </TableRow>\r\n\t\t        </TableHead>\r\n\t\t        <TableBody style={{height:'620px', overflowY: 'scroll', display: \"block\"}}>\r\n\t\t            {tableRows}\r\n\r\n\t\t        </TableBody>\r\n\t\t\t\t\t\t<TableFooter style={{textAlign:'center'}}>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\t\trowsPerPageOptions={rowsPerPageOptions}\r\n\t\t\t\t\t\t\t\t\tcolSpan={4}\r\n\t\t\t\t\t\t\t\t\tcount={totalCount}\r\n\t\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\t\tSelectProps={{\r\n\t\t\t\t\t\t\t\t\t\tnative: true,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonChangePage={this.handleChangePage}\r\n\t\t\t\t\t\t\t\t\tonChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t\t\tActionsComponent={TablePaginationActions}\r\n\t\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\t\tcaption: classes.tablePaginationCaption,\r\n\t\t\t\t\t\t\t\t\t\tselect: classes.tablePaginationSelect,\r\n\t\t\t\t\t\t\t\t\t\ttoolbar: classes.toolbar\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableFooter>\r\n\t      \t</Table>\r\n      \t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(QueueComponent) \r\n","import React, { Component } from 'react';\r\nimport { queue, cancelJob, restartJob, deleteJob} from '../../APICalls/APICalls';\r\nimport { eventEmitter } from '../../App'\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport Button from '@material-ui/core/Button';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { ProgressBar, Grid, Row, Col } from 'react-bootstrap';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Refresh from '@material-ui/icons/Refresh';\r\nimport Info from '@material-ui/icons/Info';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport TablePaginationActions from '../TablePaginationActions';\r\n\r\nimport { updateGAPageView } from '../../analytics/ga';\r\n\r\nimport { withStyles } from '@material-ui/core';\r\nconst styles = theme => ({\r\n\t\troot:{\r\n\t\t\twidth:'fit-content'\r\n\t\t},\r\n\t\ttoolbar:{\r\n\t\t\tpaddingLeft:'300px'\r\n\t\t},\r\n\ttablePaginationCaption: {\r\n\t\t\tfontSize: '15px'\r\n\t\t},\r\n\ttablePaginationSelect: {\r\n\t\t\tfontSize: '15px',\r\n\t\t\tlineHeight:'20px'\r\n\t\t}\r\n\t})\r\n\r\nclass QueueComponent extends Component {\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state = {response:[],\r\n\t\t\t\t\t\tresponsesToDisplay:[],\r\n\t\t\t\t\t\tselectedTab: 0,\r\n\t\t\t\t\t\tpage: 0,\r\n\t\t\t\t\t\trowsPerPage: 10,\r\n\t\t\t\t\t\trowsPerPageOptions : [10, 20, 50, 100],\r\n\t\t\t\t\t\torder : 'desc',\r\n\t\t\t\t\t\torderBy : 'job_id'};\r\n\t\tthis.queueFunc();\r\n\t\tthis.interval = setInterval(this.queueFunc, 2000);    //making a queue request every 2 seconds\r\n\t\tthis.toggleTabs = this.toggleTabs.bind(this);\r\n\t\tthis.queueFunc = this.queueFunc.bind(this);\r\n\r\n\t\tupdateGAPageView();\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tdocument.title = \"OneDataShare - Queue\";\r\n\t}\r\n\r\n\tcomponentWillUnmount(){\r\n\t\tclearInterval(this.interval);\r\n\t}\r\n\r\n\tqueueFunc = () => {\r\n        let isHistory = false;\r\n\t    queue(isHistory, this.state.page, this.state.rowsPerPage, this.state.orderBy, this.state.order,(resp) => {\r\n\t\t//success\r\n\t\tlet responsesToDisplay = [];\r\n\t\tif(this.state.page === 0){\r\n\t\t\tresponsesToDisplay = resp.jobs.slice(0, this.state.rowsPerPage);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tresponsesToDisplay = resp.jobs.slice(this.state.rowsPerPage, 2 * this.state.rowsPerPage);\r\n\t\t}\r\n\r\n\t\tthis.setState({response:resp.jobs, responsesToDisplay: responsesToDisplay, totalCount: resp.totalCount});\r\n\t}, (resp) => {\r\n\t\t//failed\r\n\t\tconsole.log('Error in queue request to API layer')})};\r\n\r\n\tgetStatus(status, total, done){\r\n\t\tconst style = {marginTop: '5%', fontWeight: 'bold'};\r\n\t\tif(status === 'complete'){\r\n\t\t\treturn(<ProgressBar now={100} label={'Complete'} style={style} />);\r\n\t\t}\r\n\t\telse if(status === 'failed' || status === 'removed'){\r\n\t\t\treturn(<ProgressBar bsStyle=\"danger\" now={100} style={style} label={'Failed'} />);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tvar percentCompleted = Math.ceil(((done/total) * 100));\r\n\t\t\treturn(<ProgressBar bsStyle=\"danger\" now={percentCompleted} style={style} label={'Processing ' + percentCompleted + '%'} />);\r\n\t\t}\r\n\t}\r\n\r\n\trenderSpeed(speedInBps){\r\n\t\tvar displaySpeed = \"\";\r\n\t\tif(speedInBps > 1000000000){\r\n\t\t\tdisplaySpeed = (speedInBps/1000000000).toFixed(2) + \" GB/s\";\r\n\t\t}\r\n\t\telse if(speedInBps > 1000000){\r\n\t\t\tdisplaySpeed = (speedInBps/1000000).toFixed(2) + \" MB/s\";\r\n\t\t}\r\n\t\telse if(speedInBps > 1000){\r\n\t\t\tdisplaySpeed = (speedInBps/1000).toFixed(2) + \" KB/s\";\r\n\t\t}\r\n\t\telse{\r\n\t\t\tdisplaySpeed = speedInBps + \" B/s\";\r\n\t\t}\r\n\r\n\t\treturn displaySpeed;\r\n\t}\r\n\r\n\tinfoButtonOnClick(jobID){\r\n\t\tvar row = document.getElementById(\"info_\" + jobID);\r\n\t\tif(this.selectedJobInfo === jobID && row.style.display !== \"none\"){\r\n\t\t\trow.style.display = \"none\";\r\n\t\t}\r\n\t\telse{\r\n\t\t\tvar row2close = document.getElementById(\"info_\" + this.selectedJobInfo);\r\n\t\t\tif(row2close)\r\n\t\t\t\trow2close.style.display = \"none\";\r\n\t\t\trow.style.display = \"table-row\";\r\n\t\t\tthis.selectedJobInfo = jobID;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tcancelButtonOnClick(jobID){\r\n\t\tcancelJob(jobID, (resp) => {\r\n\t\t\t//success\r\n\t\t\tthis.queueFunc();\r\n\t\t}, (resp) => {\r\n\t\t\t//failed\r\n\t\t\tconsole.log('Error in cancel request to API layer');\r\n\t\t});\r\n\t}\r\n\r\n\trestartButtonOnClick(jobID){\r\n\t\trestartJob(jobID, (resp) => {\r\n\t\t\t//success\r\n\t\t\tthis.queueFunc();\r\n\t\t}, (resp) => {\r\n\t\t\t//failed\r\n\t\t\tvar msg = 'Restart job failed since either or both credentials of the job do not exist';\r\n\t\t\tconsole.log(msg);\r\n\t\t\teventEmitter.emit(\"errorOccured\", msg);\r\n\t\t});\r\n\t}\r\n\r\n\tdeleteButtonOnClick(jobID){\r\n\t\tdeleteJob(jobID, (resp) => {\r\n\t\t\t//success\r\n\t\t\tthis.queueFunc();\r\n\t\t}, (resp) => {\r\n\t\t\t//failed\r\n\t\t\tconsole.log('Error in delete job request to API layer');\r\n\t\t});\r\n\t}\r\n\r\n\tgetFormattedDate(d){\r\n\t\treturn (1 + d.getMonth() + '/' + d.getDate() + '/' + d.getFullYear() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds());\r\n\t}\r\n\r\n\ttoggleTabs(){\r\n\t\tif(this.state.selectedTab === 0)\r\n\t\t\tthis.setState({selectedTab: 1});\r\n\t\telse\r\n\t\t\tthis.setState({selectedTab: 0});\r\n\t}\r\n\r\n\trenderActions(jobID, status, deleted){\r\n\t\treturn(\r\n\t\t\t<div >\r\n\t\t\t\t<Tooltip TransitionComponent={Zoom} placement=\"top\" title=\"Detailed Information\">\r\n\t\t\t\t\t<Button onClick={() => {this.infoButtonOnClick(jobID)}} variant=\"contained\" size=\"small\" color=\"primary\" \r\n\t\t\t\t\t\tstyle={{backgroundColor: 'rgb(224, 224, 224)', color: '#333333', fontFamily: 'FontAwesome', fontSize: '1.5rem', height: '30%',\r\n\t\t\t\t\t\tfontWeight: 'bold', width: '20%', textTransform: 'none', \r\n\t\t\t\t\t\tminWidth: '0px', minHeigth: '0px'}}>\r\n\t\t\t\t\t\t<Info />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t{status === 'processing' && \r\n\t\t\t\t\t<Tooltip TransitionComponent={Zoom} title=\"Cancel\">\r\n\t\t\t\t\t\t<Button onClick={() => {this.cancelButtonOnClick(jobID)}}  variant=\"contained\" size=\"small\" color=\"primary\" \r\n\t\t\t\t\t\t\tstyle={{backgroundColor: 'rgb(224, 224, 224)', color: '#333333', fontSize: '1.5rem', fontWeight: 'bold', width: '20%', height: '20%',\r\n\t\t\t\t\t\t\ttextTransform: 'none', minWidth: '0px', minHeigth: '0px'}}>\r\n\t\t\t\t\t\t\t<Cancel />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t}\r\n\t\t\t\t{status !== 'processing' &&\r\n\t\t\t\t\t<Tooltip TransitionComponent={Zoom} title=\"Restart\">\r\n\t\t\t\t\t\t<Button onClick={() => {this.restartButtonOnClick(jobID)}} variant=\"contained\" size=\"small\" color=\"primary\" \r\n\t\t\t\t\t\t\tstyle={{backgroundColor: 'rgb(224, 224, 224)', color: '#333333', fontSize: '1.5rem', fontWeight: 'bold', width: '20%', height: '20%',\r\n\t\t\t\t\t\t\ttextTransform: 'none', minWidth: '0px', minHeigth: '0px'}}>\r\n\t\t\t\t\t\t\t<Refresh />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t}\r\n\t\t\t\t{status !== 'processing' && !deleted &&\r\n\t\t\t\t\t<Tooltip TransitionComponent={Zoom} title=\"Delete\">\r\n\t\t\t\t\t\t<Button onClick={() => {this.deleteButtonOnClick(jobID)}} variant=\"contained\" size=\"small\" color=\"primary\" \r\n\t\t\t\t\t\t\tstyle={{backgroundColor: 'rgb(224, 224, 224)', color: '#333333', fontSize: '1.5rem', fontWeight: 'bold', width: '20%', height: '20%', \r\n\t\t\t\t\t\t\ttextTransform: 'none', minWidth: '0px', minHeigth: '0px'}}>\r\n\t\t\t\t\t\t\t<DeleteOutline />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t}\r\n        \t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trenderTabContent(resp){\r\n\t\tvar scheduledDate = new Date(resp.times.scheduled);\r\n\t\tvar startedDate = new Date(resp.times.started);\r\n\t\tvar completedDate = new Date(resp.times.completed);\r\n\r\n\t\tif(this.state.selectedTab === 0){\r\n\t\t\treturn(\r\n\t\t\t\t<Grid style={{ paddingTop : '0.5%', paddingBottom: '0.5%', width:'fit-content'}}>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>User</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{resp.owner}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Job ID</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{resp.job_id}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Source</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{resp.src.uri}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Destination</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{resp.dest.uri}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Instant Speed</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{this.renderSpeed(resp.bytes.inst)}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Average Speed</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{this.renderSpeed(resp.bytes.avg)}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Scheduled Time</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{this.getFormattedDate(scheduledDate)}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Started Time</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{this.getFormattedDate(startedDate)}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Completed Time</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{this.getFormattedDate(completedDate)}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Time Duration</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{((resp.times.completed - resp.times.started)/1000).toFixed(2)} sec</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Attempts</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{resp.attempts}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}><b>Status</b></Col>\r\n\t\t\t\t\t\t<Col md={6}>{resp.status}</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Grid>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse if (this.state.selectedTab === 1){\r\n\t\t\treturn(\r\n\t\t\t\t<pre>{JSON.stringify(resp, null, \"\\t\")}</pre>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\thandleChangePage = (event, page) => {\r\n\t\tlet nextRecords\r\n\t\tif(page > this.state.page){\r\n\t\t\t// Moving to next page\r\n\t\t\tnextRecords = this.state.response.slice(this.state.rowsPerPage, 2 * this.state.rowsPerPage)\r\n\t\t}\r\n\t\telse{\r\n\t\t\t// Moving to previous page\r\n\t\t\tnextRecords = this.state.response.slice(0, this.state.rowsPerPage)\r\n\t\t}\r\n\t\tthis.setState({ page, response: this.state.response, responsesToDisplay: nextRecords});\r\n\t\tthis.queueFunc()\r\n\t};\r\n\r\n\thandleChangeRowsPerPage = event => {\t\t\r\n\t\tthis.setState({ page: 0, rowsPerPage: parseInt(event.target.value) });\r\n\t\tthis.queueFunc()\r\n\t};\r\n\r\n\thandleRequestSort = (property) => {\r\n    const orderBy = property;\r\n    let order = 'desc';\r\n\r\n    if (this.state.orderBy === property && this.state.order === 'desc') {\r\n      order = 'asc';\r\n    }\r\n\t\tthis.setState({ order:order, orderBy:orderBy });\r\n\t\tthis.queueFunc()\r\n  };\t\r\n\r\n\trender(){\r\n\t\tconst {totalCount, responsesToDisplay} = this.state;\r\n\t\tconst {rowsPerPage, rowsPerPageOptions, page, order, orderBy } = this.state;\r\n\t\tconst tbcellStyle= {textAlign: 'center'}\r\n\t\tconst {classes} = this.props;\r\n\t\tconst sortableColumns = {\r\n\t\t\tjobId: 'job_id',\r\n\t\t\tstatus: 'status',\r\n\t\t\tavgSpeed : \"bytes.avg\",\r\n\t\t\tsource : \"src.uri\"\r\n\t\t}\r\n\t\tvar tableRows = [];\r\n\t\tresponsesToDisplay.map(resp => {\r\n\t      \t tableRows.push(\r\n\t      \t \t<TableRow style={{alignSelf: \"stretch\"}}>\r\n\t\t            <TableCell component=\"th\" scope=\"row\" style={{...tbcellStyle, width: '7.5%',  fontSize: '1rem'}} align='center'>\r\n\t\t              {resp.job_id}\r\n\t\t            </TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '45%',  fontSize: '1rem'}}>\r\n\t\t            \t{this.getStatus(resp.status, resp.bytes.total, resp.bytes.done)}\r\n\t\t            </TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '7.5%',  fontSize: '1rem'}}>\r\n\t\t            \t{this.renderSpeed(resp.bytes.avg)}\r\n\t\t            </TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '25%', maxWidth: '20vw', overflow:\"hidden\", fontSize: '1rem', margin: \"0px\"}}>\r\n\t\t            \t{decodeURI(resp.src.uri)} <b>-></b> {decodeURI(resp.dest.uri)}\r\n\t\t            </TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '15%',  fontSize: '1rem'}}>\r\n\t\t            \t{this.renderActions(resp.job_id, resp.status, resp.deleted)}\r\n\t\t            </TableCell>\r\n\t          \t</TableRow>\r\n\t        );\r\n\t      \ttableRows.push(\r\n\t      \t \t<TableRow id={\"info_\" + resp.job_id} style={{ display: 'none'}}>\r\n\t            \t<TableCell colSpan={5} style={{...tbcellStyle, width: '10%',  fontSize: '1rem', backgroundColor: '#e8e8e8', margin: '2%' }}>\r\n\t            \t\t<div id=\"infoBox\" style={{ marginBottom : '0.5%' }}>\r\n\t\t            \t\t<AppBar position=\"static\" style={{ boxShadow: 'unset' }}>\r\n\t\t\t\t\t\t\t\t<Tabs value={this.state.selectedTab} onChange={this.toggleTabs} style={{ backgroundColor: '#e8e8e8' }}>\r\n\t\t\t\t\t\t\t\t\t<Tab style={{ backgroundColor: '#428bca', margin: '0.5%', borderRadius: '4px' }} label=\"Formatted\" />\r\n\t\t\t            \t\t\t<Tab style={{ backgroundColor: '#428bca', margin: '0.5%', borderRadius: '4px' }} label=\"JSON\" />\r\n\t\t          \t\t\t\t</Tabs>\r\n\t\t        \t\t\t</AppBar>\r\n\t\t        \t\t\t<div style={{ backgroundColor: 'white', borderRadius: '4px', textAlign: 'left', marginTop: '0.3%'}}>\r\n\t\t        \t\t\t\t{this.renderTabContent(resp)}\r\n\t\t        \t\t\t</div>\r\n\t\t        \t\t</div>\r\n\t            \t</TableCell>\r\n\t          \t</TableRow>\r\n\t        );\r\n\t\t});\r\n\r\n\t\treturn(\r\n\t\t<Paper className={classes.root} id=\"jobHistory\" style={{marginLeft: '7.2%', marginRight: '7.2%', marginTop: '5%', marginBottom: '10%', border: 'solid 2px #d9edf7'}}>\r\n\t  \t\t<Table>\r\n\t\t        <TableHead style={{backgroundColor: '#d9edf7'}}>\r\n\t\t          <TableRow>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '7.5%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Job ID\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={orderBy === sortableColumns.jobId}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={order}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleRequestSort(sortableColumns.jobId)}}>\r\n\t\t\t\t\t\t\t\t\t\t\tJob ID\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '45%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Progress\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={orderBy === sortableColumns.status}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={order}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleRequestSort(sortableColumns.status)}>\r\n\t\t\t\t\t\t\t\t\t\t\tProgress\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '7.5%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Average Speed\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={orderBy === sortableColumns.avgSpeed}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={order}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleRequestSort(sortableColumns.avgSpeed)}>\r\n\t\t\t\t\t\t\t\t\t\t\tAverage Speed\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '25%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Source/Destination\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={orderBy === sortableColumns.source}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={order}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleRequestSort(sortableColumns.source)}>\r\n\t\t\t\t\t\t\t\t\t\t\tSource/Destination\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t            <TableCell style={{...tbcellStyle, width: '15%',  fontSize: '2rem', color: '#31708f'}}>Actions</TableCell>\r\n\t\t          </TableRow>\r\n\t\t        </TableHead>\r\n\t\t        <TableBody>\r\n\t\t            {tableRows}\r\n\t\t        </TableBody>\r\n\t\t\t\t\t\t<TableFooter style={{textAlign:'center'}}>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TablePagination \r\n\t\t\t\t\t\t\t\t\trowsPerPageOptions={rowsPerPageOptions}\r\n\t\t\t\t\t\t\t\t\tcolSpan={3}\r\n\t\t\t\t\t\t\t\t\tcount={totalCount}\r\n\t\t\t\t\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\t\t\tSelectProps={{\r\n\t\t\t\t\t\t\t\t\t\tnative: true,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonChangePage={this.handleChangePage}\r\n\t\t\t\t\t\t\t\t\tonChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n\t\t\t\t\t\t\t\t\tActionsComponent={TablePaginationActions}\r\n\t\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\t\tcaption: classes.tablePaginationCaption,\r\n\t\t\t\t\t\t\t\t\t\tselect: classes.tablePaginationSelect,\r\n\t\t\t\t\t\t\t\t\t\ttoolbar: classes.toolbar\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableFooter>\r\n\t      \t</Table>  \r\n      \t</Paper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(QueueComponent) ","import React, { Component } from \"react\";\n\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\n\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport {\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle\n} from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport CardActions from \"@material-ui/core/CardActions\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport { Redirect } from \"react-router-dom\";\nimport { transferPageUrl, userPageUrl, sideLeft, sideRight } from \"../../constants\";\n\nimport {\n\tchangePassword,\n\tgetUser,\n\tupdateSaveOAuth\n} from \"../../APICalls/APICalls\";\nimport { eventEmitter, store } from \"../../App.js\";\n\nimport {\n\tupdateHashAction,\n\taccountPreferenceToggledAction,\n\tendpointLogout\n} from \"../../model/actions\";\nimport { cookies } from \"../../model/reducers\";\nimport { DROPBOX_NAME, GOOGLEDRIVE_NAME } from \"../../constants\";\n\nimport {updateGAPageView} from '../../analytics/ga'\n\nexport default class UserAccountComponent extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n    \t\tisSmall: window.innerWidth <= 640,\n    \t\tloading: true,\n    \t\toldPassword: \"\",\n    \t\tnewPassword: \"\",\n    \t\tconformNewPassword: \"\",\n    \t    userEmail: store.getState().email,\n    \t    userOrganization: \"...\",\n    \t    fName: \"...\",\n    \t    lName: \"...\",\n    \t    redirect: false,\n\t\t\topenAlertDialog: false,\n\t\t\tsaveOAuthTokens: false\n    \t};\n    \tgetUser(this.state.userEmail,  (resp) => {\n            //success\n            this.setState({\n               userOrganization: resp.organization,\n               fName: resp.firstName,\n               lName: resp.lastName,\n\t\t\t   saveOAuthTokens: resp.saveOAuthTokens,\n               loading: false\n            });\n            }, (resp) => {\n            //failed\n            this.setState({ loading: false });\n            console.log('Error encountered in getUser request to API layer');\n        });\n   \t\tthis.getInnerCard = this.getInnerCard.bind(this);\n   \t\tthis.onPasswordUpdate = this.onPasswordUpdate.bind(this);\n\t\tthis.accountDetails = this.accountDetails.bind(this);\n\t\tthis.handleAccountPreferenceToggle = this.handleAccountPreferenceToggle.bind(this);\n\t\tthis.handleAlertClose = this.handleAlertClose.bind(this);\n\t\tthis.handleAlertCloseYes = this.handleAlertCloseYes.bind(this);\n\t\tupdateGAPageView();\n\t}\n\n\tcomponentDidMount(){\n\t\tdocument.title = \"OneDataShare - History\";\n\t\twindow.addEventListener(\"resize\", this.resize.bind(this));\n\t\tthis.resize();\n\t}\n\n\tonPasswordUpdate(oldPass, newPass, confPass){\n\t\tchangePassword(oldPass, newPass,confPass, (hash)=>{\n\t\t    store.dispatch(updateHashAction(hash))\n\t\t\tthis.setState({redirect:true});\n\t\t\tconsole.log(hash);\n\t\t}, (error)=>{\n\t\t\tif(error && error.response && error.response.data && error.response.data.message){\n\t\t\t\teventEmitter.emit(\"errorOccured\", error.response.data.message); \n\t\t\t}else{\n\t\t\t\teventEmitter.emit(\"errorOccured\", \"Unknown Error\"); \n\t\t\t}\n\t\t});\n\t}\n\n\thandleAccountPreferenceToggle() {\n\t\tthis.setState({ openAlertDialog: true });\n\t}\n\n\thandleAlertClose() {\n\t\tthis.setState({ openAlertDialog: false });\n\t}\n\n\thandleAlertCloseYes() {\n\t\tthis.handleAlertClose();\n\t\tlet currentSaveStatus = this.state.saveOAuthTokens;\n\n\t\t// Toggle the change\n\t\tcurrentSaveStatus = !currentSaveStatus;\n\t\tupdateSaveOAuth(this.state.email, currentSaveStatus, () => {\n\t\t\tstore.dispatch(accountPreferenceToggledAction(currentSaveStatus));\n\t\t\tif (currentSaveStatus) {\n\t\t\t\t// if the user opted to switch from saving tokens on browser to\n\t\t\t\t// storing tokens on the server, we clear all saved tokens in the current browser session.\n\t\t\t\tcookies.remove(DROPBOX_NAME);\n\t\t\t\tcookies.remove(GOOGLEDRIVE_NAME);\n\t\t\t\tstore.dispatch(endpointLogout(sideLeft));\n\t\t\t\tstore.dispatch(endpointLogout(sideRight));\n\t\t\t}\n\t\t\t//Update the variables\n\t\t\tthis.setState({ saveOAuthTokens: currentSaveStatus });\n\t\t});\n\t}\n\n\taccountDetails() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<List>\n\t\t\t\t\t<Card style={{ minWidth: 275 }}>\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<Typography style={{ fontSize: \"1.6em\", marginBottom: \"0.6em\" }}>\n\t\t\t\t\t\t\t\tAccount Details <br />\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\t\tprimary: \"userDescThemeFont\",\n\t\t\t\t\t\t\t\t\t\tsecondary: \"userDescValueFont\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tprimary=\"Email\"\n\t\t\t\t\t\t\t\t\tsecondary={this.state.userEmail}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\t\tprimary: \"userDescThemeFont\",\n\t\t\t\t\t\t\t\t\t\tsecondary: \"userDescValueFont\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tprimary=\"First Name\"\n\t\t\t\t\t\t\t\t\tsecondary={this.state.fName}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\t\tprimary: \"userDescThemeFont\",\n\t\t\t\t\t\t\t\t\t\tsecondary: \"userDescValueFont\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tprimary=\"Last Name\"\n\t\t\t\t\t\t\t\t\tsecondary={this.state.lName}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\t\tprimary: \"userDescThemeFont\",\n\t\t\t\t\t\t\t\t\t\tsecondary: \"userDescValueFont\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tprimary=\"Organization\"\n\t\t\t\t\t\t\t\t\tsecondary={this.state.userOrganization}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</List>\n\n\t\t\t\t<br />\n\n\t\t\t\t<List>\n\t\t\t\t\t<Card style={{ minWidth: 275 }}>\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<Typography style={{ fontSize: \"1.6em\", marginBottom: \"0.6em\" }}>\n\t\t\t\t\t\t\t\tAccount Preferences <br />\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tvalue=\"new_source\"\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.saveOAuthTokens}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleAccountPreferenceToggle()}\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"saveOAuthTokenSwitch\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\"Save OAuth tokens\"}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</List>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.state.openAlertDialog}\n\t\t\t\t\tonClose={this.handleAlertClose}\n\t\t\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-title\">\n\t\t\t\t\t\t{\"Change how OAuth tokens are saved?\"}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\n\t\t\t\t\t\t\tWarning! This might delete all your existing credentials and may\n\t\t\t\t\t\t\tinterrupt ongoing transfers. Are you sure?\n            </DialogContentText>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.handleAlertCloseYes} color=\"primary\">\n\t\t\t\t\t\t\tYes\n            </Button>\n\t\t\t\t\t\t<Button onClick={this.handleAlertClose} color=\"primary\" autoFocus>\n\t\t\t\t\t\t\tNo\n            </Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tgetInnerCard() {\n\t\tconst handleChange = name => event => {\n\t\t\tthis.setState({\n\t\t\t\t[name]: event.target.value\n\t\t\t});\n\t\t};\n\t\tlet confirmed = this.state.newPassword !== this.state.conformNewPassword;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Typography style={{ fontSize: \"1.6em\", marginBottom: \"0.6em\" }}>\n\t\t\t\t\tChange your Password\n        </Typography>\n\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"Email\"\n\t\t\t\t\tlabel=\"Enter Your Old Password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tvalue={this.state.oldPassword}\n\t\t\t\t\tstyle={{ width: \"100%\", marginBottom: \"1em\" }}\n\t\t\t\t\tonChange={handleChange(\"oldPassword\")}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"Password\"\n\t\t\t\t\tlabel=\"Enter Your New Password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tvalue={this.state.newPassword}\n\t\t\t\t\tstyle={{ width: \"100%\", marginBottom: \"1em\" }}\n\t\t\t\t\tonChange={handleChange(\"newPassword\")}\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\terror={confirmed}\n\t\t\t\t\tid=\"Cpassword\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tlabel=\"Confirm Your New Password\"\n\t\t\t\t\tvalue={this.state.conformNewPassword}\n\t\t\t\t\tstyle={{ width: \"100%\", marginBottom: \"2em\" }}\n\t\t\t\t\tonChange={handleChange(\"conformNewPassword\")}\n\t\t\t\t/>\n\n\t\t\t\t<CardActions style={{ marginBottom: \"0px\" }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tthis.onPasswordUpdate(\n\t\t\t\t\t\t\t\tthis.state.oldPassword,\n\t\t\t\t\t\t\t\tthis.state.newPassword,\n\t\t\t\t\t\t\t\tthis.state.conformNewPassword\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\tProceed with password Change\n          </Button>\n\t\t\t\t</CardActions>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tresize() {\n\t\tif (this.state.isSmall && window.innerWidth > 640) {\n\t\t\tthis.setState({ isSmall: false });\n\t\t} else if (!this.state.isSmall && window.innerWidth <= 640) {\n\t\t\tthis.setState({ isSmall: true });\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { isSmall, loading, redirect } = this.state;\n\t\tconst height = window.innerHeight + \"px\";\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\twidth: \"..\",\n\t\t\t\t\theight: height\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: \"450px\",\n\t\t\t\t\t\tmarginTop: \"30px\",\n\t\t\t\t\t\tmarginLeft: \"30px\",\n\t\t\t\t\t\tmarginRight: \"30px\",\n\t\t\t\t\t\talignSelf: isSmall ? \"flex-start\" : \"center\"\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{loading && <LinearProgress />}\n\n\t\t\t\t\t{this.accountDetails()}\n\n\t\t\t\t\t{isSmall && this.getInnerCard()}\n\n\t\t\t\t\t{!isSmall && (\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<CardContent style={{ padding: \"3em\" }}>\n\t\t\t\t\t\t\t\t{this.getInnerCard()}\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{redirect && (\n\t\t\t\t\t\t<Redirect from={userPageUrl} to={transferPageUrl}></Redirect>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, {Component} from 'react';\r\nimport { getUsers, updateAdminRightsApiCall } from '../../APICalls/APICalls';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nimport Person from '@material-ui/icons/Person';\r\nimport People from '@material-ui/icons/People';\r\nimport Done from '@material-ui/icons/Done'\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {eventEmitter} from \"../../App\";\r\nimport {store} from '../../App.js';\r\nimport TablePagination from '@material-ui/core/TablePagination'\r\nimport TableFooter from '@material-ui/core/TableFooter'\r\nimport TablePaginationActions from '../TablePaginationActions'\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { updateGAPageView } from '../../analytics/ga';\r\n\r\nimport { withStyles } from '@material-ui/core';\r\n\r\n\r\nimport './ClientsInfoComponent.css';\r\n\r\nconst styles = theme => ({\r\n\troot:{\r\n\t\twidth:'fit-content'\r\n\t},\r\n\ttoolbar:{\r\n\t\tpaddingLeft:'300px',\r\n\t\tpaddingRight:'300px'\r\n\t},\r\ntablePaginationCaption: {\r\n\t\tfontSize: '15px'\r\n\t},\r\ntablePaginationSelect: {\r\n\t\tfontSize: '15px',\r\n\t\tlineHeight:'20px'\r\n\t}\r\n})\r\nclass ClientsInfoComponent extends Component{\r\n\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state = {users:[],\r\n\t\t\t totalUsersCount:0,\r\n\t\t\t admins:[],\r\n\t\t\t totalAdminsCount:0,\r\n\t\t\t userTblPage: 0,\r\n\t\t\t userTblRowsPerPage: 10,\r\n\t\t\t userTblRowsPerPageOptions : [10, 20, 50, 100],\r\n\t\t\t userTblOrder : 'asc',\r\n\t\t\t userTblOrderBy : 'email',\r\n\t\t\t adminTblPage: 0,\r\n\t\t\t adminTblRowsPerPage: 10,\r\n\t\t\t adminTblRowsPerPageOptions : [10, 20, 50, 100],\r\n\t\t\t adminTblOrder : 'asc',\r\n\t\t\t adminTblOrderBy : 'email'};\r\n\t\tthis.getUserInfo = this.getUserInfo.bind(this);\r\n\t\tthis.getAdminInfo = this.getAdminInfo.bind(this);\r\n\t\tthis.getUserInfo();\r\n\t\tthis.getAdminInfo();\r\n\r\n\t\tupdateGAPageView();\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tdocument.title = \"OneDataShare - Client Info\";\r\n\t}\r\n\r\n\tgetUserInfo = () => getUsers('getUsers',  this.state.userTblPage, this.state.userTblRowsPerPage, this.state.userTblOrderBy, this.state.userTblOrder, (resp) => {\r\n\t\t//success\r\n\t\tthis.setState({users:resp.users, totalUsersCount: resp.totalCount});\r\n\t\t}, (resp) => {\r\n\t\t//failed\r\n\t\tconsole.log('Error encountered in getUsers request to API layer');\r\n\t});\r\n\r\n\tgetAdminInfo = () => getUsers('getAdministrators',  this.state.adminTblPage, this.state.adminTblRowsPerPage, this.state.adminTblOrderBy, this.state.adminTblOrder, (resp) => {\r\n\t\t//success\r\n\t\tconsole.log(resp.users.length + \"---\")\r\n\t\tthis.setState({admins:resp.users, totalAdminsCount: resp.totalCount});\r\n\t\t}, (resp) => {\r\n\t\t//failed\r\n\t\tconsole.log('Error encountered in getUsers request to API layer');\r\n\t});\r\n\r\n\t// Shows the user a confirmation popup to confirm the update request.\r\n\tupdateAdminRights(event, row){\r\n\t\tvar popupMsg = \"\"\r\n\t\tvar isAdmin = event.target.checked;\r\n\t\tif(isAdmin){\r\n\t\t\tpopupMsg = \"Please confirm if \" + row.firstName + \" \" + row.lastName+ \" must be granted admin privileges.\";\r\n\t\t\tthis.setState({showIsAdminPopup: true, adminChangePopupMsg:popupMsg, targetUser: row.email, isAdmin: true, firstName: row.firstName, lastName: row.lastName});\r\n\t\t}\r\n\t\telse{\r\n\t\t\tpopupMsg = \"Please confirm if admin privileges of \"+ row.firstName + \" \" + row.lastName+ \" must be revoked.\";\r\n\t\t\tthis.setState({showIsAdminPopup: true, adminChangePopupMsg:popupMsg, targetUser: row.email, isAdmin: false, firstName: row.firstName, lastName: row.lastName});\r\n\t\t}\t\t\r\n\t}\r\n\r\n\t// The actual call to update the admin information is triggered after the user selects \"Yes\" in the confirmation popup\r\n\t// The user information is retrieved from the state\r\n\tupdateAdminRightsUsingStateInfo(email, isAdmin){\r\n\t\tupdateAdminRightsApiCall(email, isAdmin).then((resp)=>{\r\n\t\t\tif(resp){\r\n\t\t\t\teventEmitter.emit(\"errorOccured\", \"Admin privileges is \" + (this.state.isAdmin ? \"granted for \": \"revoked for \") + this.state.firstName + \" \" + this.state.lastName);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\teventEmitter.emit(\"errorOccured\", \"Error while updating the user\");\r\n\t\t\t}\r\n\t\t\tgetUsers('getUsers', this.state.userTblPage, this.state.userTblRowsPerPage, this.state.userTblOrderBy, this.state.userTblOrder, (resp) => {\r\n\t\t\t\tthis.setState({users:resp.users, showIsAdminPopup: false, adminChangePopupMsg: \"\", targetUser: \"\", firstName: \"\", lastName: \"\"});\r\n\t\t\t\t}, (error) => {\r\n\t\t\t\tconsole.log('Error encountered in getUsers request to API layer');\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\thandleClose = () => {\r\n\t\tthis.setState({ showIsAdminPopup: false, adminChangePopupMsg: \"\", targetUser: \"\", firstName: \"\", lastName: \"\"});\r\n\t};\r\n\thandleUserTblChangePage = (event, page) => {\r\n\t\tthis.setState({ userTblPage: page });\r\n\t\tthis.getUserInfo()\r\n\t};\r\n\r\n\thandleUserTblChangeRowsPerPage = event => {\t\t\r\n\t\tthis.setState({ userTblPage: 0, userTblRowsPerPage: parseInt(event.target.value) });\r\n\t\tthis.getUserInfo()\r\n\t};\r\n\r\n\thandleUserTblRequestSort = (property) => {\r\n\t\tconst orderBy = property;\r\n\t\tlet order = 'desc';\r\n\t\tif (this.state.userTblOrderBy === property && this.state.userTblOrder === 'desc') {\r\n\t\torder = 'asc';\r\n\t\t}\r\n\t\tthis.setState({ userTblOrder:order, userTblOrderBy:orderBy });\r\n\t\tthis.getUserInfo()\t\t\r\n\t};\r\n\t\r\n\thandleAdminsTblChangePage = (event, page) => {\r\n\t\tthis.setState({ adminTblPage: page });\r\n\t\tthis.getAdminInfo();\r\n\t};\r\n\r\n\thandleAdminsTblChangeRowsPerPage = event => {\t\t\r\n\t\tthis.setState({ adminTblPage: 0, adminTblRowsPerPage: parseInt(event.target.value) });\r\n\t\tthis.getAdminInfo();\r\n\t};\r\n\r\n\thandleAdminsTblRequestSort = (property) => {\r\n\t\tconst orderBy = property;\r\n\t\tlet order = 'desc';\r\n\t\tif (this.state.adminTblOrderBy === property && this.state.adminTblOrder === 'desc') {\r\n\t\torder = 'asc';\r\n\t\t}\r\n\t\tthis.setState({ adminTblOrder:order, adminTblOrderBy:orderBy });\r\n\t\tthis.getAdminInfo();\t\t\r\n  \t};\r\n\r\n\trender(){\r\n\t\tconst {classes} = this.props;\r\n\t\tconst {users} = this.state;\r\n\t\tconst {admins} = this.state;\r\n\t\tconst {userTblRowsPerPage, userTblRowsPerPageOptions, userTblPage, userTblOrder, userTblOrderBy, totalUsersCount} = this.state;\r\n\t\tconst {adminTblRowsPerPage, adminTblRowsPerPageOptions, adminTblPage, adminTblOrder, adminTblOrderBy, totalAdminsCount} = this.state;\r\n\t\tconst tbcellStyle= {textAlign: 'center'}\r\n\t\tconst sortableColumns = {\r\n\t\t\temail: 'email',\r\n\t\t\tfirstName: 'firstName',\r\n\t\t\tlastName : \"lastName\",\r\n\t\t\tlastActivity : \"lastActivity\",\r\n\t\t\tregisterMoment: \"registerMoment\",\r\n\t\t\torganization: \"organization\"\r\n\t\t}\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<Dialog\r\n\t          open={this.state.showIsAdminPopup}\r\n\t          onClose={this.handleClose}\r\n\t\t\t\t\t\taria-labelledby=\"form-dialog-title\"\r\n\t        >\r\n\t          <DialogTitle id=\"form-dialog-title\">Confirm</DialogTitle>\r\n\t          <DialogContent style={{width:\"100%\"}}>\r\n\t            <DialogContentText>\r\n\t              {this.state.adminChangePopupMsg}\r\n\t            </DialogContentText>\t            \r\n\t          </DialogContent>\r\n\t          <DialogActions>\r\n\t\t\t  \t<Button onClick={() => this.updateAdminRightsUsingStateInfo(this.state.targetUser, this.state.isAdmin)} color=\"primary\">\r\n\t              Yes\r\n\t            </Button>\r\n\t            <Button onClick={() => this.handleClose()} color=\"secondary\">\r\n\t              No\r\n\t            </Button>\r\n\t          </DialogActions>\r\n\t        </Dialog>\r\n\t\t\t\t<Paper id=\"clientsInfo\" style={{marginLeft: '5%', marginRight: '5%', marginTop: '5%', marginBottom: '5%', border: 'solid 2px #d9edf7'}}>\r\n\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t<TableHead style={{backgroundColor: '#d9edf7'}}>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCell colSpan={8} style={{...tbcellStyle, backgroundColor: '#d9edf7', width: '7.5%',  fontSize: '2rem', color: '#31708f'}}>Users Information</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, width: '15%',  fontSize: '1.75rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Username\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={userTblOrderBy === sortableColumns.email}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={userTblOrder}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleUserTblRequestSort(sortableColumns.email)}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<People />Users\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, width: '10%',  fontSize: '1.75rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on First Name\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={userTblOrderBy === sortableColumns.firstName}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={userTblOrder}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleUserTblRequestSort(sortableColumns.firstName)}}>\r\n\t\t\t\t\t\t\t\t\t\t\tName\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t{/* <TableCell style={{...tbcellStyle, width: '10%',  fontSize: '1rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Last Name\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={userTblOrderBy === sortableColumns.lastName}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={userTblOrder}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleUserTblRequestSort(sortableColumns.lastName)}}>\r\n\t\t\t\t\t\t\t\t\t\t\tLast Name\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</TableCell> */}\r\n\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, width: '10%',  fontSize: '1.75rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Last Name\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={userTblOrderBy === sortableColumns.organization}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={userTblOrder}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleUserTblRequestSort(sortableColumns.organization)}}>\r\n\t\t\t\t\t\t\t\t\t\t\tOrgainzation\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, width: '15%',  fontSize: '1.75rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Sign Up\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={userTblOrderBy === sortableColumns.registerMoment}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={userTblOrder}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleUserTblRequestSort(sortableColumns.registerMoment)}}>\r\n\t\t\t\t\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, width: '5%',  fontSize: '1.75rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\tValidation\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, width: '15%',  fontSize: '1.75rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Last Activity\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\t\tactive={userTblOrderBy === sortableColumns.lastActivity}\r\n\t\t\t\t\t\t\t\t\t\t\tdirection={userTblOrder}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleUserTblRequestSort(sortableColumns.lastActivity)}}>\r\n\t\t\t\t\t\t\t\t\t\t\tLast Activity\r\n\t\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, width: '15%',  fontSize: '1.75rem', color: '#31708f'}}>Make Admin</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tusers.map(resp =>{\r\n\t\t\t\t\t\t\t\t\tvar timeStamp = resp.registerMoment;\r\n\t\t\t\t\t\t\t\t\tconsole.log(timeStamp)\r\n\t\t\t\t\t\t\t\t\tvar date = new Date(timeStamp);\r\n\t\t\t\t\t\t\t\t\tvar lastActivity = new Date(resp.lastActivity);\r\n\r\n\t\t\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell style={{fontSize: '1rem'}}><Person />{resp.email}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, fontSize: '1rem'}}>{resp.firstName + \" \" + resp.lastName}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t{/* <TableCell style={{...tbcellStyle, fontSize: '1rem'}}>{resp.lastName}</TableCell> */}\r\n\t\t\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, fontSize: '1rem'}}>{resp.organization}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, fontSize: '1rem'}}>{\r\n\t\t\t\t\t\t\t\t\t\t\t(1 + date.getMonth()) +'/' + date.getDate() + '/' + date.getFullYear() + ' ' + date.getHours() + ':' + date.getMinutes()\r\n\t\t\t\t\t\t\t\t\t\t}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, fontSize: '1rem'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{(resp.validated)?<Done style={{color: 'green'}} />:<Clear style={{color: 'red'}} />}\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, fontSize: '1rem'}}>{(1 + lastActivity.getMonth()) +'/' + lastActivity.getDate() + '/' + lastActivity.getFullYear() + ' ' + date.getHours() + ':' + lastActivity.getMinutes()}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, fontSize: '1rem'}}><input type=\"checkbox\" disabled = {resp.email === store.getState().email} checked = {resp.isAdmin} onChange={(event) => this.updateAdminRights(event, resp)}></input></TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t<TableFooter style={{textAlign:'center'}}>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\t\trowsPerPageOptions={userTblRowsPerPageOptions}\r\n\t\t\t\t\t\t\t\t\tcolSpan={8}\r\n\t\t\t\t\t\t\t\t\tcount={totalUsersCount}\r\n\t\t\t\t\t\t\t\t\trowsPerPage={userTblRowsPerPage}\r\n\t\t\t\t\t\t\t\t\tpage={userTblPage}\r\n\t\t\t\t\t\t\t\t\tSelectProps={{\r\n\t\t\t\t\t\t\t\t\t\tnative: true,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonChangePage={this.handleUserTblChangePage}\r\n\t\t\t\t\t\t\t\t\tonChangeRowsPerPage={this.handleUserTblChangeRowsPerPage}\r\n\t\t\t\t\t\t\t\t\tActionsComponent={TablePaginationActions}\r\n\t\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\t\tcaption: classes.tablePaginationCaption,\r\n\t\t\t\t\t\t\t\t\t\tselect: classes.tablePaginationSelect,\r\n\t\t\t\t\t\t\t\t\t\ttoolbar: classes.toolbar\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t</Table>   \r\n\t\t\t\t</Paper>\r\n\r\n\t\t\t\t<Paper id=\"adminsInfo\" style={{marginLeft: '10%', marginRight: '10%', marginTop: '2%', marginBottom: '10%', border: 'solid 2px #d9edf7'}}>\r\n\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t<TableHead style={{backgroundColor: '#d9edf7'}}>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t<TableCell colSpan={6} style={{...tbcellStyle, backgroundColor: '#d9edf7', width: '7.5%',  fontSize: '2rem', color: '#31708f'}}>Admin Information</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, width: '33%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Username\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\tactive={adminTblOrderBy === sortableColumns.email}\r\n\t\t\t\t\t\t\t\t\t\tdirection={adminTblOrder}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleAdminsTblRequestSort(sortableColumns.email)}}>\r\n\t\t\t\t\t\t\t\t\t\t<People />Users\r\n\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, width: '33%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on First Name\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\tactive={adminTblOrderBy === sortableColumns.firstName}\r\n\t\t\t\t\t\t\t\t\t\tdirection={adminTblOrder}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleAdminsTblRequestSort(sortableColumns.firstName)}}>\r\n\t\t\t\t\t\t\t\t\t\tFirst Name\r\n\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, width: '33%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Sort on Last Name\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\tactive={adminTblOrderBy === sortableColumns.lastName}\r\n\t\t\t\t\t\t\t\t\t\tdirection={adminTblOrder}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleAdminsTblRequestSort(sortableColumns.lastName)}}>\r\n\t\t\t\t\t\t\t\t\t\tLast Name\r\n\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, width: '33%',  fontSize: '2rem', color: '#31708f'}}>\r\n\t\t\t\t\t\t\t<Tooltip title=\"Sort on Last Activity\" placement='bottom-end' enterDelay={300}>\r\n\t\t\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\t\t\tactive={adminTblOrderBy === sortableColumns.lastActivity}\r\n\t\t\t\t\t\t\t\t\t\tdirection={adminTblOrder}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {this.handleAdminsTblRequestSort(sortableColumns.lastActivity)}}>\r\n\t\t\t\t\t\t\t\t\t\tLast Activity\r\n\t\t\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tadmins.map(resp =>(\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell style={{fontSize: '1rem'}}><Person />{resp.email}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, fontSize: '1rem'}}>{resp.firstName}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, fontSize: '1rem'}}>{resp.lastName}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell style={{...tbcellStyle, fontSize: '1rem'}}>TBD</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t<TableFooter style={{textAlign:'center'}}>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\t\t\trowsPerPageOptions={adminTblRowsPerPageOptions}\r\n\t\t\t\t\t\t\t\t\tcolSpan={5}\r\n\t\t\t\t\t\t\t\t\tcount={totalAdminsCount}\r\n\t\t\t\t\t\t\t\t\trowsPerPage={adminTblRowsPerPage}\r\n\t\t\t\t\t\t\t\t\tpage={adminTblPage}\r\n\t\t\t\t\t\t\t\t\tSelectProps={{\r\n\t\t\t\t\t\t\t\t\t\tnative: true,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonChangePage={this.handleAdminsTblChangePage}\r\n\t\t\t\t\t\t\t\t\tonChangeRowsPerPage={this.handleAdminsTblChangeRowsPerPage}\r\n\t\t\t\t\t\t\t\t\tActionsComponent={TablePaginationActions}\r\n\t\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\t\tcaption: classes.tablePaginationCaption,\r\n\t\t\t\t\t\t\t\t\t\tselect: classes.tablePaginationSelect,\r\n\t\t\t\t\t\t\t\t\t\ttoolbar: classes.toolbar\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableFooter>\r\n\t\t\t\t\t</Table>   \r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(ClientsInfoComponent) ","import React, { Component } from 'react';\n\nimport { submitIssue } from '../../APICalls/APICalls';\nimport {store} from '../../App';\n\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { eventEmitter } from \"../../App\";\nimport ReCAPTCHA from 'react-google-recaptcha';\n\n\nimport { ValidatorForm } from 'react-material-ui-form-validator';\nimport { updateGAPageView } from \"../../analytics/ga\";\nexport default class SupportComponent extends Component{\n\n  constructor(){\n    super();\n    this.state = { \n      captchaVerified : false, \n      captchaVerificationValue : null,\n      email : (store.getState().email === \"noemail\" ? \"\" : store.getState().email)\n    };\n\n    this.captchaRef = null;\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleCaptchaEvent = this.handleCaptchaEvent.bind(this);\n\n    updateGAPageView();\n    this.resetCaptcha = this.resetCaptcha.bind(this);\n  }\n\n  componentDidMount(){\n    document.title = \"OneDataShare - Support\";\n  }\n\n  handleCaptchaEvent(value){\n    this.setState({ captchaVerified : true, captchaVerificationValue : value});\n  }\n\n  resetCaptcha(){\n    this.setState({ captchaVerified : false, captchaVerificationValue : null});\n    this.captchaRef.reset();\n  }\n\n  handleChange = (event) =>{\n    this.setState({\n      [event.target.name] : event.target.value\n    });\n  }\n\n  handleSubmit(){\n    if(this.state.captchaVerified){\n      let progressBarDiv = document.getElementById('progress-bar');\n      progressBarDiv.style.visibility = 'visible';\n\n      let msgDiv = document.getElementById('msg');\n\n      let reqBody = {\n        name : this.state.name,\n        email : this.state.email,\n        phone : this.state.phone,\n        subject : this.state.subject,\n        description : this.state.description,\n        captchaVerificationValue : this.state.captchaVerificationValue\n      };\n\n      submitIssue(reqBody,\n        (resp)=>{\n          progressBarDiv.style.visibility = 'hidden';\n          msgDiv.style.border = '1px solid green'\n          msgDiv.style.color = \"green\";\n          msgDiv.innerHTML = \"Support ticket created successfully. Ticket number - \" + resp;\n          msgDiv.style.visibility = 'visible';\n          this.resetCaptcha();\n        },\n        (err)=>{\n          progressBarDiv.style.visibility = 'hidden';\n          msgDiv.style.border = '1px solid red';\n          msgDiv.style.color = \"red\";\n          msgDiv.innerHTML = \"There was an error while creating the support ticket. Please try again or email us at <a href=\\\"mailto:admin@onedatashare.org\\\">admin@onedatashare.org</a>\";\n          msgDiv.style.visibility = 'visible';\n          this.resetCaptcha();\n        });\n      }\n      else\n        eventEmitter.emit(\"errorOccured\", \"Please verify you are not a robot!\");\n  }\n\n\n  render(){\n    \n    const cardStyle = { margin: '5% 7.2% 10%', border: 'solid 2px #d9edf7' };\n    const divStyle = { margin : '2% 5%' };\n    const captchaStyle = { ...divStyle, textAlign : 'center', display: 'inline-block' };\n\n    return(\n      <Card style={cardStyle}>\n        <CardHeader title=\"Report an Issue\" />\n        <ValidatorForm ref=\"support-form\" onSubmit={this.handleSubmit}>\n          <div style={divStyle}>\n            <TextField\n              required\n              label = 'Name'\n              name = 'name' \n              onChange = {this.handleChange}\n              style = {{ marginRight : '5%', width :'30%' }}\n            />\n\n            <TextField\n              required\n              label = 'Email Address'\n              name = 'email'\n              value = { this.state.email }\n              onChange = {this.handleChange}\n              style = {{ marginRight : '5%', width :'30%' }}\n            />\n          </div>\n\n          <div style={divStyle}>\n            <TextField\n              required\n              label = 'Subject'\n              name = 'subject'\n              onChange = {this.handleChange}   \n              style = {{ width :'70%' }}\n            />\n          </div>\n\n          <div style={ divStyle } >\n            <TextField\n              required\n              multiline\n              rows=\"6\"\n              label=\"Issue Description\"\n              name=\"description\"\n              onChange = {this.handleChange}\n              style={{ width : '70%' }}\n            />\n          </div>\n          \n          <div style={ captchaStyle }>\n              <ReCAPTCHA \n                sitekey= { process.env.REACT_APP_GC_CLIENT_KEY }\n                onChange={this.handleCaptchaEvent}\n                ref = { r => this.captchaRef = r}\n              />\n          </div> \n          \n\n          <div id=\"progress-bar\" style={{ marginLeft : '19%', marginRight : '19%', visibility : 'hidden' }}>\n            <LinearProgress />\n          </div>\n\n          <div style={{marginLeft : '5%', marginRight : '5%', marginTop : '1%', marginBottom : '2%'}}>\n            <Button type=\"submit\" size=\"medium\" variant=\"contained\" color=\"primary\" style={{ width : '70%' }}>\n              Submit\n            </Button>\n          </div>\n\n          <div id=\"msg\" style={{marginLeft : '19%', marginRight : '19%', marginTop : '2%', marginBottom : '2%', \n                      textAlign : 'center', paddingTop : '1%', paddingBottom : '1%', visibility : 'hidden'}}>\n          </div>\n\n        </ValidatorForm>\n      </Card>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport terms from '../assets/terms.txt';\n\nexport default class TermsComponent extends Component {\n    state = {\n        termsData: ''\n    }\n\n    readTextFile = file => {\n        var rawFile = new XMLHttpRequest();\n        rawFile.open(\"GET\", file, false);\n        rawFile.onreadystatechange = () => {\n            if (rawFile.readyState === 4) {\n                if (rawFile.status === 200 || rawFile.status === 0) {\n                    var allText = rawFile.responseText;\n                    this.setState({\n                        termsData: (allText)\n                    });\n                }\n            }\n        };\n        rawFile.send(null);\n    };\n\n    componentDidMount() {\n        this.readTextFile(terms);\n    }\n\n    render() {\n        return (\n            <div style={{ whiteSpace: 'pre-wrap', paddingLeft: '15%', paddingRight: '15%', margin: '10px', display: 'flex', flex: 1, alignItems: 'left', textAlign: 'left' }} >\n                <p>\n                    <span dangerouslySetInnerHTML={{__html: this.state.termsData}} >\n                    </span>\n                </p>\n            </div>\n        );\n    };\n\n};","import React, { Component } from 'react';\nimport terms from '../assets/privacy.txt';\n\nexport default class PolicyComponent extends Component {\n    state = {\n        termsData: ''\n    }\n\n    readTextFile = file => {\n        var rawFile = new XMLHttpRequest();\n        rawFile.open(\"GET\", file, false);\n        rawFile.onreadystatechange = () => {\n            if (rawFile.readyState === 4) {\n                if (rawFile.status === 200 || rawFile.status === 0) {\n                    var allText = rawFile.responseText;\n                    this.setState({\n                        termsData: allText\n                    });\n                }\n            }\n        };\n        rawFile.send(null);\n    };\n\n    componentDidMount() {\n        this.readTextFile(terms);\n    }\n\n    render() {\n        return (\n            <div style={{ whiteSpace: 'pre-wrap', paddingLeft: '15%', paddingRight: '15%', margin: '10px', display: 'flex', flex: 1, alignItems: 'left', textAlign: 'left' }} >\n                <p>\n                    <span dangerouslySetInnerHTML={{__html: this.state.termsData}} >\n                    </span>\n                </p>\n            </div>\n        );\n    };\n\n};","import React, { Component } from 'react';\n\nimport NavbarComponent from \"./views/NavbarComponent\";\nimport HomePageComponent from './views/HomePageComponent';\n\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { store } from './App.js';\n\nimport TransferComponent from './views/Transfer/TransferComponent';\nimport HistoryComponent from './views/Admin/HistoryComponent'\nimport QueueComponent from './views/Queue/QueueComponent';\nimport UserAccountComponent from './views/Login/UserAccountComponent';\nimport ClientsInfoComponent from './views/Admin/ClientsInfoComponent';\nimport SupportComponent from './views/Support/SupportComponent';\nimport TermsComponent from './views/TermsComponent';\nimport PolicyComponent from './views/PolicyComponent';\n\nexport default class MainComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: store.getState().login,\n      admin: store.getState().admin,\n    }\n    this.unsubscribe = store.subscribe(() => {\n      this.setState({\n        isLoggedIn: store.getState().login,\n        admin: store.getState().admin\n      });\n    });\n\n  }\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n\n  render() {\n    const { isLoggedIn, admin } = this.state;\n    return (\n      <div className=\"App\">\n        \n        <link rel=\"stylesheet\" type=\"text/css\" charSet=\"UTF-8\" href=\"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css\" />\n        <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css\" />\n\n        <NavbarComponent key={isLoggedIn} login={isLoggedIn} email={store.getState().email}></NavbarComponent>\n\n\n        <div style={{ marginTop: '50px', display: 'block' }}>\n          <Switch>\n            <Route exact path='/' render={(props) =>\n              <HomePageComponent  {...props} store={store} />\n            } />\n\n            <Route exact path='/terms' render={() =>\n              <TermsComponent />\n            }\n            />\n\n            <Route exact path='/policy' render={() =>\n              <PolicyComponent />\n            }\n            />\n            <Route exact path=\"/support\" render={() =>\n              <SupportComponent />\n            } />\n\n            {isLoggedIn &&\n              <Route exact path='/transfer' render=\n                {(props) =>\n                  <TransferComponent  {...props} store={store} />\n                }\n              />\n            }\n            {isLoggedIn &&\n              <Route exact path='/queue' render=\n                { (props) => \n                  <QueueComponent {...props} />\n                }\n              />\n            }\n            {isLoggedIn && admin &&\n              <Route exact path='/history' render=\n                {(props) =>\n                  <HistoryComponent  {...props} store={store} />\n                }\n              />\n            }\n            {isLoggedIn && admin &&\n              <Route exact path='/clientsInfo' render=\n                {(props) =>\n                  <ClientsInfoComponent {...props} store={store} />\n                }\n              />\n            }\n            {isLoggedIn &&\n              <Route exact path='/user' render=\n                { (props) => \n                  <UserAccountComponent {...props} />\n                }\n              />\n            }\n            {(isLoggedIn) &&\n              <h1 to='/transfer'>Page Not Found</h1>\n            }\n\n            {!isLoggedIn &&\n              <Route render={() => <Redirect to=\"/\" />} />\n            }\n          </Switch>\n        </div>\n\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { ValidatorForm, TextValidator } from 'react-material-ui-form-validator';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nimport PropTypes from 'prop-types';\n\nimport { checkLogin} from '../../APICalls/APICalls.js';\n\n\nimport {spaceBetweenStyle} from '../../constants.js';\nimport {updateGAPageView} from \"../../analytics/ga\";\n\n\nexport default class NewLoginComponent extends Component {\n\n\tstatic propTypes = {\n\t  \temail : PropTypes.string,\n\t  \tcreateAccountPressed: PropTypes.func,\n\t  \tvalidateEmailPressed: PropTypes.func,\n\t  \tforgotPasswordPressed: PropTypes.func,\n\t  \tisLoading: PropTypes.func,\n\t  \tuserLoggedIn: PropTypes.func\n\t}\n\t\n\n\tconstructor(props){\n\t    super(props);\n\t    this.state = {\n\t    \temail: \"\",\n\t    \tpassword: \"\",\n\t    \temailChecked: false,\n\t    \terror: false,\n\t    \terrorMessage: null,\n\t    \tremember: false,\n\t    \tisAuthenticated: false\n\t    }\n\t    \n\t    this.emailValidated = false;\n\t    this.onEmailNextClicked = this.onEmailNextClicked.bind(this);\n\t\tthis.onSignInClicked = this.onSignInClicked.bind(this);\n\t\tupdateGAPageView();\n\t}\n\tcomponentDidMount(){\n\t\tif(this.props.email){\n\t\t\tthis.setState({email: this.props.email});\n\t\t}\n\t}\n\n\tonEmailNextClicked(){\n\t\tconst { isLoading } = this.props;\n\t\tisLoading(true);\n\n\t    checkLogin(this.state.email,\n\t    \t(success)=>{\n\t    \t\tisLoading(false);\n\t    \t\tthis.setState({emailChecked: true});\n\t    \t},\n\t    \t(error)=>{\n\t    \t\tisLoading(false);\n\t    \t\tthis.setState({emailChecked: false, error: true, errorMessage: \"Email not found or server error.\"});\n\t    \t}\n\t    );\n\t}\n\n\tonSignInClicked(){\n\t\tconst { isLoading, userLoggedIn } = this.props;\n\t\tvar { email, password, remember } = this.state;\n\t\tisLoading(true);\n\n\t\tuserLoggedIn(email, password, remember, (error)=>{\n    \t\tisLoading(false);\n    \t\tconsole.log(\"error message\", error);\n\t\t\t  this.setState({error: true, errorMessage: \"Wrong password or server error.\"});\n\t\t});\n\t}\n\n\trender(){\n\t\tconst { createAccountPressed, validateEmailPressed, forgotPasswordPressed } = this.props; \n\t\tconst { emailChecked, email, password, error, errorMessage, remember } = this.state;\n\t\tconst handleChange = name => event => {\n\t\t    this.setState({\n\t\t      error: false,\n\t\t      errorMessage: null,\n\t\t      [name]: event.target.value,\n\t\t    });\n\t\t};\n\n\t\treturn (<div >\n\t\t{!emailChecked &&\n\t\t\t<div className=\"enter-from-right slide-in\">\n\n\t      \t<Typography style={{fontSize: \"1.6em\", marginBottom: \"0.4em\", textAlign: 'center'}}>\n\t          Sign In\n\t        </Typography>\n\t        <Typography style={{fontSize: \"1em\", textAlign: 'center'}} color=\"textSecondary\">\n\t          Onedatashare\n\t        </Typography>\n\n\t        <ValidatorForm\n                ref=\"email\"\n                onSubmit={this.onEmailNextClicked}>\n            \t<TextValidator\n            \t\terror = {error}\n            \t\thelperText = {errorMessage}\n\t\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\t\tonChange={handleChange('email')}\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\tvalidators={['required', 'isEmail']}\n\t\t\t\t\t\t\t\terrorMessages={['Please put email here', 'Can not understand email format']}\n\t\t          \tstyle={{width: \"90%\", margin: \"5%\"}}\n                />\n\t\t        <CardActions style={spaceBetweenStyle}>\n\t\t\t        \n\t\t\t        <Button size=\"small\" color=\"primary\" onClick={createAccountPressed}>Create Account</Button>\n\t\t\t        <Button size=\"large\" variant=\"contained\" color=\"primary\"  type=\"submit\" >\n\t\t\t          Next\n\t\t\t        </Button>\n\t\t\t    </CardActions>\n\n            \t</ValidatorForm>\n\t\t    </div>\n\t    }\n\t    {emailChecked &&\n\t    \t<div className=\"enter-from-right slide-in\">\n\t    \t<Typography style={{fontSize: \"1.6em\", marginBottom: \"0.4em\"}}>\n\t          Hey {email.substring(0, email.indexOf('@'))}!\n\t        </Typography>\n\t        <Button size=\"large\" style={{borderRadius: '20px'}} variant=\"outlined\" color=\"primary\" onClick={()=>this.setState({emailChecked: false})}>\n\t          {email}\n\t        </Button>\n\n\t        <ValidatorForm\n                ref=\"password\"\n                onSubmit={this.onSignInClicked}>\n            <TextValidator\n            \t\terror = {error}\n            \t\thelperText = {errorMessage}\n            \t\tid=\"Password\"\n                    label=\"Enter Your Password\"\n                    onChange={handleChange('password')}\n                    type=\"password\"\n                    name=\"password\"\n\t          \t\tvalue={password}\n                    validators={['required']}\n                    errorMessages={['Where is password?']}\n\t\t          \tstyle={{width: \"90%\", margin: \"5%\"}}\n            />\n            <FormControlLabel\n\t\t\tcontrol={\n\t            <Checkbox checked={remember} value=\"remember\"\n\t            onChange={(event)=>{\n\t            \tthis.setState({remember: event.target.checked});\n\t            }}\n\t            color=\"primary\"\n\t            />\n\t        } label=\"Remember\"/>\n\n\t        <CardActions style={{...spaceBetweenStyle, marginBottom: '20px'}}>\n\t\t        <Button size=\"small\" color=\"primary\"\n\t\t        \tonClick={()=>forgotPasswordPressed(email)}>\n\t\t          Forgot Password?\n\t\t        </Button>\n\t\t        <Button size=\"small\" color=\"primary\"\n\t\t        \tonClick={()=>validateEmailPressed(email)}>\n\t\t          Lost Validation Email?\n\t\t        </Button>\n\t\t    </CardActions>\n\t\t    <Button size=\"large\" variant=\"contained\" color=\"primary\" type=\"submit\" style={{width: '100%'}}>\n\t        \tNext\n\t       \t</Button>\n\t\t    </ValidatorForm>\n\t        \n\t\t    </div>\n\t\t}\n\t\t</div>);\n\t}\n} ","import React, {Component} from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\n\nexport default class SavedLoginComponent extends Component {\n\n\tstatic propTypes = {\n\t  \taccounts : PropTypes.object,\n\t  \tuseAnotherAccount : PropTypes.func, \n\t  \tremovedAccount : PropTypes.func,\n\t  \tisLoading : PropTypes.func,\n\t  \tlogin : PropTypes.func,\n\t}\n\tconstructor(props){\n\t    super(props);\n\t    this.state = {\n\t    \taccounts: this.props.accounts,\n\t    }\n\t}\n\n\trender(){\n\t\tconst { accounts } = this.state;\n\t\tconst {useAnotherAccount, isLoading, login} = this.props;\n\t\tif(Object.keys(accounts).length === 0){\n\t\t\tuseAnotherAccount();\n\t\t}\n\t\tconst handleLogin = (email) => {\n\t\t\tlogin(email);\n\t\t}\n\t\tconst removeAccount = (email) => {\n\t\t\tisLoading(true);\n\t\t\tdelete accounts[email];\n\t\t\tthis.setState({accounts: accounts});\n\t\t\tthis.props.removedAccount(accounts);\n\t\t}\n\t\t// const addAccount = () => {\n\t\t// \tuseAnotherAccount();\n\t\t// }\n\t\treturn (\n\t\t<div className=\"enter-from-right slide-in\">\n\t\t\t\n\t      \t<Typography style={{fontSize: \"1.6em\", marginBottom: \"0.4em\", textAlign: 'center'}}>\n\t          Choose an account\n\t        </Typography>\n\t        <List>\n\t        \t{Object.keys(accounts).map(email => (\n\t        \t\t<ListItem\n\t\t              key={email}\n\t\t              role={undefined}\n\t\t          \n\t\t              button\n\t\t              onClick={()=>handleLogin(email)}\n\t\t            >\n\t\t            \t<ListItemText primary={email} secondary=\"Signed out\" />\n\t\t            \t<ListItemSecondaryAction>\n\t\t\t                <IconButton \n\t\t\t                 onClick={()=>removeAccount(email)}\n\t\t\t                aria-label=\"Delete\">\n\t\t                        <DeleteIcon />\n\t\t                      </IconButton>\n\t\t\t              </ListItemSecondaryAction>\n\n\t\t            </ListItem>\n\t        \t))}\n\t        \t\n\t        \t\t\t\n    \t\t\t<Divider \n\t\t          \t  style={{marginTop: '30px'}}/>\n\n\t            <ListItem\n\t\t              key='Add Another'\n\t\t              button\n\t\t              onClick={useAnotherAccount}\n\t\t            >\n\t            \t<ListItemText primary='Use another account' />\n\t            </ListItem>\n\t        </List>\n\t\t</div>);\n\t}\n} ","import React, {Component} from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport CreateAccountComponent from './CreateAccountComponent';\nimport {resendVerificationCode} from '../../APICalls/APICalls'\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport {eventEmitter} from '../../App';\nimport { updateGAPageView } from \"../../analytics/ga\";\n\n\nexport default class ValidateEmailComponent extends Component {\n\tstatic propTypes = {\n\t\tback: PropTypes.func,\n\t\temail: PropTypes.string\n\t}\n\tconstructor(props){\n\t    super(props);\n\t    this.state = {\n\t\t\t\temail: props.email,\n\t\t\t\tloadVerifyCode:false,\n        loading: false,\n\t\t\t}\n\t\tthis.next = this.next.bind(this);\n\t\tupdateGAPageView();\n\t}\n\tnext(){\n\t\tthis.setState({loading:true})\n\t\tresendVerificationCode(this.state.email).then((response) =>{\n\t\t\tif(response.data.status === 200){\n\t\t\tthis.setState({loading:false, loadVerifyCode:true})\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.setState({loading:false, loadVerifyCode:false})\n\t\t\t\teventEmitter.emit(\"errorOccured\", response.data.response);\n\t\t\t}\t\n\t\t});\n\t}\n\n\trender(){\n\t\tconst { back } = this.props;\n\t\tconst properties = this.props\n\t\tconst { email } = this.state;\n\t\tconst loadVerifyCode = this.state.loadVerifyCode;\n\t\tconst handleChange = name => event => {\n\t\t    this.setState({\n\t\t      [name]: event.target.value,\n\t\t    });\n\t\t};\n\t\t\n\t\tif(loadVerifyCode){\t\t\n\t\t\treturn(\n\t\t\t\t<CreateAccountComponent {...properties} loadVerifyCode = {this.state.loadVerifyCode} email = {this.state.email} ></CreateAccountComponent>\n\t\t\t);\n\t\t}\n\t\telse{\n\t\t\treturn (\t\n\t\t\t\t<div className=\"enter-from-right slide-in\">\n\t\t\t\t\t{this.state.loading && <LinearProgress></LinearProgress>}\n\t\t\t\t\t<Typography style={{fontSize: \"1.6em\", marginBottom: \"0.4em\"}}>\n\t\t\t\t\t\tFind your Stork Account\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid=\"Email\"\n\t\t\t\t\t\tlabel=\"Enter Your Email\"\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tstyle={{width: '100%', marginBottom: '50px', borderRadius: '25px'}}\n\t\t\t\t\t\tonChange={ handleChange('email') }\n\t\t\t\t\t/>\n\t\t\t\t\t<CardActions className=\"flexSpaceBetween\">\n\t\t\t\t\t\t{\"\\n\"}\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" color=\"primary\" onClick={back}>\n\t\t\t\t\t\t\tBack to Sign in Page\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button size=\"large\" variant=\"contained\" color=\"primary\" onClick={() => this.next()} style={{marginLeft: '4vw'}}>\n\t\t\t\t\t\t\tNext\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</CardActions>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n} ","\nimport React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport CardActions from '@material-ui/core/CardActions';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport { spaceBetweenStyle } from '../../constants.js';\nimport { registerUser, verifyRegistraionCode, setPassword } from '../../APICalls/APICalls.js'\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport ValidateEmailComponent from '../Login/ValidateEmailComponent'\nimport { Link } from 'react-router-dom';\n\nimport { eventEmitter } from \"../../App\";\nimport ReCAPTCHA from 'react-google-recaptcha';\n\nimport { ValidatorForm, TextValidator } from 'react-material-ui-form-validator';\nimport { checkLogin } from '../../APICalls/APICalls.js';\n\nimport { updateGAPageView } from \"../../analytics/ga\";\n\nexport default class CreateAccountComponent extends Component {\n  static propTypes = {\n    create: PropTypes.func,\n    backToSignin: PropTypes.func,\n  }\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: props.email !== \"\" ? props.email : \"\",\n      password: \"\",\n      cpassword: \"\",\n      code: \"\",\n      screen: props.loadVerifyCode ? \"verifyCode\" : \"registration\",\n      verificationError: \"\",\n      passwordError: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      organization: \"\",\n      loading: false,\n      isLostVerifyCode: props.loadVerifyCode,\n      emailError: false,\n      firstNameError: false,\n      lastNameError: false,\n      emailErrorMessage: null,\n      firstNameErrorMessage: null,\n      lastNameErrorMessage: null,\n      captchaVerified: false,\n      captchaVerificationValue: null,\n      confirmation: false\n    }\n    this.firstNameValidationMsg = \"Please Enter Your First Name\"\n    this.lastNameValidationMsg = \"Please Enter Your Last Name\"\n    this.emailValidationMsg = \"Please Enter EmailId\"\n    this.captchaRef = null;\n\n    this.onEmailNextClicked = this.onEmailNextClicked.bind(this);\n    this.registerAccount = this.registerAccount.bind(this);\n    this.verifyAccount = this.verifyAccount.bind(this);\n    this.login = this.login.bind(this);\n\n    updateGAPageView();\n    this.handleCaptchaEvent = this.handleCaptchaEvent.bind(this);\n    this.resetCaptcha = this.resetCaptcha.bind(this);\n  }\n\n  registerAccount() {\n    if (this.state.captchaVerified) {\n      this.setState({ loading: true });\n      let reqBody = {\n        email: this.state.email,\n        firstName: this.state.firstName,\n        lastName: this.state.lastName,\n        organization: this.state.organization,\n        description: this.state.description,\n        captchaVerificationValue: this.state.captchaVerificationValue\n      }\n\n      registerUser(reqBody)\n        .then((response) => {\n          if (response.status === 200) {\n            this.setState({ screen: \"verifyCode\", verificationError: \"\", loading: false });\n          }\n          else if (response.status === 302) {\n            this.setState({\n              emaildError: \"User with same Email ID already exists\",\n              verificationError: \"User with same Email ID already exists\",\n              loading: false\n            });\n            eventEmitter.emit(\"errorOccured\", \"User with same Email ID already exists\");\n          }\n          this.resetCaptcha();\n        });\n    }\n    else {\n      eventEmitter.emit(\"errorOccured\", \"Please verify you are not a robot!\");\n    }\n  }\n\n  verifyAccount() {\n    let email = this.state.email;\n    let self = this;\n    let verificationCode = this.state.verificationCode;\n    verifyRegistraionCode(email, verificationCode).then((response) => {\n      let state = self.state;\n      if (response.status === 200) {\n        state.screen = \"setPassword\";\n        state.code = response.data;\n        self.setState({ state });\n      }\n      else {\n        state.verificationError = \"Please Enter Valid Verification Code\";\n        self.setState({ state });\n      }\n    });\n  }\n\n  login() {\n    let email = this.state.email;\n    let password = this.state.password;\n    let confirmPassword = this.state.cpassword;\n    let self = this;\n    let code = this.state.code;\n    let state = self.state;\n\n    if (password !== confirmPassword) {\n      state.passwordError = \"Password Doesn't Match\";\n      self.setState({ state });\n    }\n    else {\n      setPassword(email, code, password, confirmPassword).then((response) => {\n        self.props.history.push('/account/signIn')\n      });\n    }\n  }\n\n  onEmailNextClicked() {\n    checkLogin(this.state.email,\n      (success) => {\n        this.setState({ error: true, errorMessage: \"Email is already there on the server.\" });\n      },\n      (error) => {\n        this.registerAccount();\n      }\n    );\n  }\n\n  handleCaptchaEvent(value) {\n    this.setState({ captchaVerified: true, captchaVerificationValue: value });\n  }\n\n  resetCaptcha() {\n    if (this.captchaRef !== null) {\n      this.setState({ captchaVerified: false, captchaVerificationValue: null });\n      this.captchaRef.reset();\n    }\n  }\n\n  render() {\n    const { backToSignin } = this.props;\n    const { emailError, emailErrorMessage, email, firstNameError,\n      firstNameErrorMessage, lastNameError, lastNameErrorMessage, confirmation } = this.state;\n    const disclaimer = <div style={{ fontSize: '12px' }}>By checking the box,you agree to the <Link to=\"/terms\" target=\"_blank\" >Terms of service</Link> and  <Link to=\"/policy\" target=\"_blank\" >Privacy policy</Link>.</div>;\n    const properties = this.props;\n    const divStyle = { margin: '2% 5%' };\n    const captchaStyle = { ...divStyle, textAlign: 'center', display: 'inline-block' };\n    var screen = this.state.screen;\n    const showLoader = this.state.loading;\n\n    const handleChange = name => event => {\n      this.setState({\n        emailError: false,\n        emailErrorMessage: null,\n        [name]: event.target.value,\n      });\n    };\n\n    if (screen === \"validateEmail\") {\n      return (\n        <div className=\"enter-from-right slide-in\">\n          <ValidateEmailComponent {...properties} email={this.state.email}></ValidateEmailComponent>\n        </div>\n      )\n    }\n\n    if (screen === \"registration\") {\n      const textBoxStyle = { width: '100%', marginBottom: '4%' }\n      return (\n        <div className=\"enter-from-right slide-in\">\n          <div>{showLoader && <LinearProgress></LinearProgress>}</div>\n          <Typography style={{ fontSize: \"1.6em\", marginBottom: \"0.4em\", textAlign: \"center\" }}>\n            Create Your OneDataShare Account\n          </Typography>\n\n          <ValidatorForm\n            ref=\"email\"\n            onSubmit={this.onEmailNextClicked}>\n            <TextValidator\n              error={emailError}\n              helperText={emailErrorMessage}\n              label=\"Email\"\n              onChange={handleChange('email')}\n              name=\"email\"\n              value={email}\n              validators={['required', 'isEmail']}\n              errorMessages={['Please enter your email address', 'Can not understand email format']}\n              style={textBoxStyle}\n            />\n\n            <TextValidator\n              error={firstNameError}\n              helperText={firstNameErrorMessage}\n              label=\"FirstName\"\n              name=\"firstName\"\n              value={this.state.firstName}\n              id=\"FirstName\"\n              validators={['required']}\n              errorMessages={['Please Enter Your First Name']}\n              style={textBoxStyle}\n              onChange={handleChange('firstName')}\n            />\n\n            <TextValidator\n              error={lastNameError}\n              helperText={lastNameErrorMessage}\n              label=\"LastName\"\n              name=\"lastName\"\n              value={this.state.lastName}\n              id=\"LastName\"\n              validators={['required']}\n              errorMessages={['Please Enter Your Last Name']}\n              style={textBoxStyle}\n              onChange={handleChange('lastName')}\n            />\n\n            <TextField\n              id=\"Organization\"\n              label={\"Organization\"}\n              value={this.state.organization}\n              style={textBoxStyle}\n              onChange={handleChange('organization')}\n            />\n\n            <FormControlLabel\n              control={\n                <Checkbox checked={confirmation} value={\"ok\"}\n                  onChange={(event) => {\n                    this.setState({ confirmation: !confirmation })\n                  }}\n                  color=\"primary\"\n                />\n              } label={disclaimer} />\n\n            <div style={captchaStyle}>\n              <ReCAPTCHA\n                sitekey={process.env.REACT_APP_GC_CLIENT_KEY}\n                onChange={this.handleCaptchaEvent}\n                ref={r => this.captchaRef = r}\n              />\n            </div>\n\n            <CardActions style={{ ...spaceBetweenStyle, float: 'center' }}>\n              <Button size=\"medium\" variant=\"outlined\" color=\"primary\" onClick={backToSignin}>\n                Sign in Instead\n                  </Button>\n              <Button size=\"medium\" variant=\"contained\" color=\"primary\" disabled={!confirmation} style={{ marginLeft: '4vw' }} type=\"submit\" onClick={this.registerAccount}>\n                Next\n                  </Button>\n            </CardActions>\n\n          </ValidatorForm>\n        </div>);\n    }\n\n    if (screen === \"verifyCode\") {\n      return (\n        <div className=\"enter-from-right slide-in\">\n          <Typography style={{ fontSize: \"1.1em\", margin: \"2%\", overflowWrap: 'break-word' }}>\n            Please check {this.state.email} for authorization code\n            </Typography>\n          <TextField\n            id=\"code\"\n            label={this.state.verificationError === \"\" ? \"Enter Verification Code\" : \"Please Enter Valid Verification Code\"}\n            value={this.state.verificationCode}\n            style={{ width: '100%', marginBottom: '50px' }}\n            onChange={handleChange('verificationCode')}\n            error={this.state.verificationError === \"Please Enter Valid Verification Code\"}\n          />\n\n          <CardActions style={{ ...spaceBetweenStyle, float: 'right' }}>\n            <Button size=\"medium\" variant=\"outlined\" color=\"primary\" onClick={() => {\n              if (this.state.isLostVerifyCode) {\n                this.setState({ screen: \"validateEmail\" })\n              }\n              else {\n                this.setState({ screen: \"registration\" });\n              }\n            }}>\n              Back\n                </Button>\n            <Button size=\"large\" variant=\"contained\" color=\"primary\" type=\"submit\" style={{ marginLeft: '4vw' }} onClick={this.verifyAccount}>\n              Next\n                </Button>\n          </CardActions>\n        </div>\n      );\n    }\n\n    if (screen === \"setPassword\") {\n      return (\n        <div className=\"enter-from-right slide-in\">\n          <Typography style={{ fontSize: \"1.6em\", marginBottom: \"0.4em\" }}>\n            Code Verified! Please set password for your account\n          </Typography>\n\n          <TextField\n            id=\"Password\"\n            label=\"Password\"\n            type=\"password\"\n            value={this.state.password}\n            style={{ width: '100%', marginBottom: '50px' }}\n            onChange={handleChange('password')}\n          />\n\n          <TextField\n            id=\"Cpassword\"\n            type=\"password\"\n            label={this.state.passwordError === \"Password Doesn't Match\" ? \"Password Doesn't Match\" : \"Confirm Password\"}\n            value={this.state.cpassword}\n            style={{ width: '100%', marginBottom: '50px' }}\n            onChange={handleChange('cpassword')}\n            error={this.state.passwordError === \"Password Doesn't Match\"}\n          />\n\n          <CardActions style={{ ...spaceBetweenStyle, float: 'right' }}>\n            <Button size=\"medium\" variant=\"outlined\" color=\"primary\" onClick={() => {\n              this.setState({ screen: \"verifyCode\" });\n            }}>\n              Back\n              </Button>\n            <Button size=\"large\" variant=\"contained\" color=\"primary\" style={{ marginLeft: '4vw' }} onClick={this.login}>\n              Next\n              </Button>\n          </CardActions>\n        </div>\n      );\n    }\n  }\n} \n","import React, {Component} from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport CardActions from '@material-ui/core/CardActions';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport {updateGAPageView} from \"../../analytics/ga\";\n\n\nimport {spaceBetweenStyle} from '../../constants.js';\nimport {resetPasswordSendCode, resetPasswordVerifyCode, resetPassword} from '../../APICalls/APICalls.js';\nimport {eventEmitter} from '../../App';\nconst beforeCode = 0\nconst codeSent = 1\nconst codeVerified = 2\n\nexport default class ForgotPasswordComponent extends Component {\n\n\tstatic propTypes = {\n\t\tback: PropTypes.func,\n\t\temail: PropTypes.string\n\t}\n\n\tconstructor(props){\n\t    super(props);\n\t    this.state = {\n\t    \tpassword: \"\",\n\t    \tconfirmedPassword: \"\",\n\t    \tstate: beforeCode,\n\t    \tcode: \"\",\n\t\t}\n\t\tupdateGAPageView();\n\t}\n\n\tSetPassword = ()=>{\n\n\t\tconst { confirmedPassword, password, code} = this.state;\n\t\tif(password !== confirmedPassword){\n\t\t\teventEmitter.emit(\"errorOccured\", \"Password and confirmed password need to be the same.\");\n\t\t\treturn;\n\t\t}\n\t\tresetPassword(this.props.email,code,password, confirmedPassword, ()=>{\n\t\t\tthis.props.back();\n\t\t\teventEmitter.emit(\"errorOccured\", \"Set Password Succeed.\");\n\t\t}, ()=>{\n\t\t\t//this.props.back();\n\t\t\teventEmitter.emit(\"errorOccured\", \"Verify Code Failed.\");\n\t\t});   \t\n\t}\n\n\tVerifyCode = ()=>{\n\t\tresetPasswordVerifyCode(this.props.email,this.state.code, (response)=>{\n\t\t\tconsole.log(response)\n\t\t\tthis.setState({state: codeVerified, code: response})\n\t\t}, (fail)=>{\n\t\t\t//this.setState({state: codeVerified})\n\t\t\teventEmitter.emit(\"errorOccured\", \"Verify Code Failed.\");\n\t\t});\n\t}\n\n\tSendCode = ()=>{\n\t\tresetPasswordSendCode(this.props.email, ()=>{\n\t\t\tthis.setState({state: codeSent})\n\t\t}, ()=>{\n\t\t\t//this.setState({state: codeSent})\n\t\t\teventEmitter.emit(\"errorOccured\", \"Send Code Failed.\");\n\t\t});   \t\n\t}\n\trender(){\n\t\tconst {back, email} = this.props\n\t\tconst {state, confirmedPassword, password} = this.state;\n\t\tconst confirmed = (password !== confirmedPassword);\n\t\tconst handleChange = name => event => {\n\t\t    this.setState({\n\t\t      [name]: event.target.value,\n\t\t    });\n\t\t  };\n\t\treturn (\n\t\t<div className=\"enter-from-right slide-in\">\n\n\t\t\t{state === beforeCode &&\n\t\t\t\t<div>\n\t\t\t\t\t<Typography style={{fontSize: \"1.6em\", marginBottom: \"0.4em\"}}>\n\t\t\t          Account recovery\n\t\t\t        </Typography>\n\t\t\t        <Button size=\"small\" variant=\"outlined\" color=\"primary\" onClick={back} style={{marginBottom: \"1em\", borderRadius: '25px'}}>\n\t\t\t          {email}\n\t\t\t        </Button>\n\t\t\t        <Typography style={{fontSize: \"1.0em\", marginBottom: \"0.4em\"}}>\n\t\t\t          Get a verification code\n\t\t\t        </Typography>\n\t\t\t        <Typography style={{fontSize: \"0.8em\", marginBottom: \"0.4em\"}}>\n\t\t\t          Onedatashare will send a verification code to {email}\n\t\t\t        </Typography>\n\t\t\t        <CardActions style={spaceBetweenStyle}>\n\t\t\t\t        <Button size=\"medium\" variant=\"outlined\" color=\"primary\" onClick={back}>\n\t\t\t\t          Back to Sign in\n\t\t\t\t        </Button>\n\t\t\t\t        <Button size=\"large\" variant=\"contained\" color=\"primary\" style={{marginLeft: '4vw'}} onClick={this.SendCode}>\n\t\t\t\t          Next\n\t\t\t\t        </Button>\n\t\t\t\t    </CardActions>\n\t\t\t\t</div>\n\t\t\t}\n\n\t\t\t{state === codeSent &&\n\t\t\t\t<div>\n\t\t\t        \n\t\t\t        <Typography style={{fontSize: \"0.8em\", marginBottom: \"0.4em\"}}>\n\t\t\t          Verification code is sent to {email}\n\t\t\t        </Typography>\n\t\t\t        <Button size=\"small\" variant=\"outlined\" color=\"primary\" onClick={this.SendCode} style={{marginBottom: \"1em\", borderRadius: '22px'}}>\n\t\t\t          Send Again?\n\t\t\t        </Button>\n\t\t\t        <Typography style={{fontSize: \"1.0em\", marginBottom: \"0.4em\"}}>\n\t\t\t          Input your code here\n\t\t\t        </Typography>\n\t\t\t        <TextField\n\t\t\t          style={{width: '100%', marginBottom: '20px'}}\n\t\t\t          id=\"outlined-email-input\"\n\t\t\t          label=\"Code\"\n\t\t\t          name=\"code\"\n\t\t\t          margin=\"normal\"\n\t\t\t          variant=\"outlined\"\n\t\t\t          onChange={handleChange('code')}\n\t\t\t        />\n\t\t\t        <CardActions style={spaceBetweenStyle}>\n\t\t\t\t        <Button size=\"medium\" variant=\"outlined\" color=\"primary\" onClick={back}>\n\t\t\t\t          Back to Sign in\n\t\t\t\t        </Button>\n\t\t\t\t        <Button size=\"large\" variant=\"contained\" color=\"primary\" style={{marginLeft: '4vw'}} onClick={this.VerifyCode}>\n\t\t\t\t          Verify\n\t\t\t\t        </Button>\n\t\t\t\t    </CardActions>\n\t\t\t\t</div>\n\t\t\t}\n\n\t\t\t{state === codeVerified &&\n\t\t\t\t<div>\n\t\t\t        <Typography style={{fontSize: \"1.0em\", marginBottom: \"0.4em\"}}>\n\t\t\t          Code is Verified, Reset your password here:\n\t\t\t        </Typography>\n\t\t\t        <TextField\n\t\t\t          style={{width: '100%'}}\n\t\t\t          id=\"outlined-email-input\"\n\t\t\t          label=\"Password\"\n\t\t\t          name=\"code\"\n\t\t\t          type=\"password\"\n\t\t\t          margin=\"normal\"\n\t\t\t          variant=\"outlined\"\n\t\t\t          onChange={handleChange('password')}\n\t\t\t        />\n\t\t\t        <TextField\n\t\t\t          error={confirmed}\n\t\t\t          style={{width: '100%', marginBottom: '20px'}}\n\t\t\t          id=\"outlined-email-input\"\n\t\t\t          label=\"Confirm Password\"\n\t\t\t          name=\"code\"\n\t\t\t          type=\"password\"\n\t\t\t          margin=\"normal\"\n\t\t\t          variant=\"outlined\"\n\t\t\t          onChange={handleChange('confirmedPassword')}\n\t\t\t        />\n\t\t\t        <CardActions style={spaceBetweenStyle}>\n\t\t\t\t        <Button size=\"medium\" variant=\"outlined\" color=\"primary\" onClick={back}>\n\t\t\t\t          Back to Sign in\n\t\t\t\t        </Button>\n\t\t\t\t        <Button size=\"large\" variant=\"contained\" color=\"primary\" style={{marginLeft: '4vw'}} disabled={confirmed} onClick={this.SetPassword}>\n\t\t\t\t          Reset\n\t\t\t\t        </Button>\n\t\t\t\t    </CardActions>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>);\n\t}\n} ","import React, { Component } from 'react';\n// ui import\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n// components\nimport NewLoginComponent from './NewLoginComponent';\nimport SavedLoginComponent from './SavedLoginComponent';\nimport CreateAccountComponent from './CreateAccountComponent';\nimport ValidateEmailComponent from './ValidateEmailComponent';\nimport ForgotPasswordComponent from './ForgotPasswordComponent';\n\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport { login } from '../../APICalls/APICalls.js';\n\nimport { transferPageUrl } from \"../../constants\";\nimport { store } from '../../App.js';\nimport { loginAction } from '../../model/actions';\nimport {cookies} from '../../model/reducers';\n\nexport default class AccountControlComponent extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n    // redux login action\n    this.unsubscribe = store.subscribe(() => {\n    \tthis.setState({authenticated : store.getState().login});\n    });\n\n\n    const cookieSaved = cookies.get('SavedUsers') || 0;\n    const accounts = cookieSaved === 0 ? {} : JSON.parse(cookieSaved);\n    this.newLogin = <SavedLoginComponent \n\t\t\t\t\taccounts={accounts} \n\t\t\t\t\tlogin={(email) => {\n\t\t\t\t\t\tconst user = JSON.parse(cookies.get('SavedUsers'))[email];\n\t\t\t\t\t\tthis.userLogin(email, user.hash, false);\n\t\t\t\t\t}}\n\t\t\t\t\tremovedAccount={(accounts) => {\n\t\t\t\t\t\tcookies.set('SavedUsers', JSON.stringify(accounts));\n\t\t\t\t\t\tthis.setState({loading: false, accounts: accounts});\n\t\t\t\t\t}}\n\t\t\t\t\tuseAnotherAccount={() => {\n\t\t\t\t\t\tthis.setState({signIn: true});\n\t\t\t\t\t}}\n\t\t\t\t\tisLoading={(loading) => {\n\t\t\t\t\t\tthis.setState({loading: loading});\n\t\t\t\t\t}}\n\t\t\t\t/>;\n\tthis.state = {\n    \tisSmall: window.innerWidth <= 640,\n    \tpassword: \"\",\n    \tloading: true,\n    \taccounts: accounts,\n    \tauthenticated: store.getState().login,\n    \tscreen: this.newLogin,\n    \tcreatingAccount: false,\n    \tloggingAccount: false,\n    \tsignIn: false,\n    \tforgotPasswordPressed: false,\n    \tvalidateEmailPressed: false\n\t\t}\n   \tthis.getInnerCard = this.getInnerCard.bind(this);\n   \tthis.userLogin = this.userLogin.bind(this);\n   \tthis.userSigningIn = this.userSigningIn.bind(this);\n\t}\n\t\n\tcomponentDidMount() {\n\t\tdocument.title = \"OneDataShare - Account\";\n\t\twindow.addEventListener(\"resize\", this.resize.bind(this));\n\t\tthis.setState({ loading: false });\n\t\tthis.resize();\n\t}\n\n\tstatic propTypes = {}\n\t\n  // Called when user clicked login\n  userLogin(email, hash, remember, saveOAuthTokens){\n  \tthis.state.accounts[email] = { hash: hash };\n\tif(remember){\n\t\tcookies.set('SavedUsers', JSON.stringify(this.state.accounts));\n\t}\n\t\n\tstore.dispatch(loginAction(email, hash, remember, saveOAuthTokens));\n\t//this.setState({authenticated : true});\n  }\n  componentWillUnmount(){\n  \tthis.unsubscribe();\n  }\n\n\tresize() {\n\t\tif (this.state.isSmall && window.innerWidth > 640) {\n\t\t\tthis.setState({ isSmall: false });\n\t\t} else if (!this.state.isSmall && window.innerWidth <= 640) {\n\t\t\tthis.setState({ isSmall: true });\n\t\t}\n\t}\n\n\tuserSigningIn(email, password, remember, fail){\n\t\tlogin(email, password,\n\t\t\t(success) => {\n\t\t\t\tconsole.log(\"success account\", success);\n\t    \t\tthis.userLogin(email, success.hash, remember, success.saveOAuthTokens);\n\t    \t},\n\t    \t(error) => {fail(error)}\n\t    );\n\t}\n\t\n\tgetInnerCard() {\n\t\treturn (\n\t\t\t<Switch>\n\t\t\t\t<Route exact path={'/account'}\n\t\t\t\t\trender={(props) => this.state.screen}>\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path={'/account/register'}\n\t\t\t\t\trender={(props) => <CreateAccountComponent {...props}\n\t\t\t\t\t\tcreate={(email, password) => {\n\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tbackToSignin={() => {\n\t\t\t\t\t\t\tconsole.log(\"click\");\n\t\t\t\t\t\t\tthis.setState({ loggingAccount: true });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>}>\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path={'/account/lostValidationCode'}\n\t\t\t\t\trender={(props) => <ValidateEmailComponent {...props}\n\t\t\t\t\t\temail={this.state.email}\n\t\t\t\t\t\tback={() => {\n\t\t\t\t\t\t\tthis.setState({ loading: false, loggingAccount: true, validateEmailPressed: false });\n\t\t\t\t\t\t}} />}>\n\t\t\t\t</Route>\n\n\t\t\t\t<Route exact path={'/account/signIn'}\n\t\t\t\t\trender={(props) =>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{(this.state.forgotPasswordPressed || this.state.validateEmailPressed) &&\n\t\t\t\t\t\t\t\t<Redirect to='/account' />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<NewLoginComponent email={this.props.email}\n\t\t\t\t\t\t\t\tisLoading={(loading) => {\n\t\t\t\t\t\t\t\t\tthis.setState({ loading: loading });\n\t\t\t\t\t\t\t\t}}\n\n\t\t\t\t\t\t\t\tcreateAccountPressed={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({ loading: false, createAccount: true, creatingAccount: true });\n\t\t\t\t\t\t\t\t}}\n\n\t\t\t\t\t\t\t\tvalidateEmailPressed={(email) => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\t\t\t\tvalidateEmailPressed: true,\n\t\t\t\t\t\t\t\t\t\temail: email\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\n\t\t\t\t\t\t\t\tforgotPasswordPressed={(email) => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tloading: false, screen:\n\t\t\t\t\t\t\t\t\t\t\t<ForgotPasswordComponent back={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ loading: false, screen: this.newLogin, forgotPasswordPressed: false });\n\t\t\t\t\t\t\t\t\t\t\t}} email={email} />,\n\t\t\t\t\t\t\t\t\t\tforgotPasswordPressed: true\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\n\t\t\t\t\t\t\t\tuserLoggedIn={this.userSigningIn}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}>\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t);\n\t}\n\n\trender() {\n\n\t\tconst { isSmall, loading, creatingAccount, loggingAccount, signIn, validateEmailPressed } = this.state;\n\t\tconst height = window.innerHeight + \"px\";\n\n\t\treturn (\n\n\t\t\t<div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', width: '..', height: height }}>\n\t\t\t\t<div style={{ width: '450px', marginTop: '30px', marginLeft: '30px', marginRight: '30px', alignSelf: isSmall ? 'flex-start' : 'center' }}>\n\n\t\t\t\t\t{store.getState().login && <Redirect to={transferPageUrl} />}\n\t\t\t\t\t{creatingAccount && <Redirect to={\"/account/register\"} />}\n\t\t\t\t\t{validateEmailPressed && <Redirect to={{ pathname: \"/account/lostValidationCode\" }} />}\n\t\t\t\t\t{loggingAccount && <Redirect to={\"/account\"} />}\n\t\t\t\t\t{signIn && <Redirect to={\"/account/signIn\"} />}\n\t\t\t\t\t{loading && <LinearProgress />}\n\n\t\t\t\t\t{isSmall &&\n\t\t\t\t\t\tthis.getInnerCard()\n\t\t\t\t\t}\n\t\t\t\t\t{!isSmall &&\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<CardContent style={{ padding: '3em' }}>\n\t\t\t\t\t\t\t\t{this.getInnerCard()}\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t);\n\t}\n}","import React, { Component } from \"react\";\n\nimport { Redirect } from \"react-router-dom\";\nimport {\n  transferPageUrl,\n  DROPBOX_TYPE,\n  sideLeft,\n  DROPBOX_NAME,\n  GOOGLEDRIVE_NAME,\n  GRIDFTP_NAME\n} from \"../constants\";\nimport { eventEmitter } from \"../App\";\nimport { endpointLogin } from \"../model/actions\";\nimport { cookies } from \"../model/reducers\";\n\nexport default class OauthProcessComponent extends Component {\n  constructor(props) {\n    super(props);\n    const { tag } = this.props.match.params;\n    this.processOAuth(tag);\n  }\n\n  processOAuth(tag) {\n    if (tag === \"ExistingCredGoogleDrive\") {\n      setTimeout(() => {\n        eventEmitter.emit(\n          \"errorOccured\",\n          \"Credential for the endpoint already Exists. Please logout from Google Drive and try again.\"\n        );\n      }, 500);\n    } else if (tag === \"ExistingCredDropbox\") {\n      setTimeout(() => {\n        eventEmitter.emit(\n          \"errorOccured\",\n          \"Credential for the endpoint already Exists. Please logout from Dropbox and try again.\"\n        );\n      }, 500);\n    } else if (tag === \"uuid\") {\n      console.log(\n        \"User has opted to save auth tokens at ODS servers. UUID received\"\n      );\n      let qs = this.props.location.search;\n      let identifier = decodeURIComponent(qs.substring(qs.indexOf(\"=\") + 1));\n      endpointLogin(DROPBOX_TYPE, sideLeft, { uuid: identifier });\n    } else {\n      let qs = this.props.location.search;\n      let qsObj = JSON.parse(\n        decodeURIComponent(qs.substring(qs.indexOf(\"=\") + 1))\n      );\n\n      if (tag === \"dropbox\") {\n        console.log(\"Dropbox oAuth identifier received\");\n        this.updateLocalCredStore(DROPBOX_NAME, qsObj);\n      } else if (tag === \"googledrive\") {\n        console.log(\"Google drive oAuth identifier received\");\n        this.updateLocalCredStore(GOOGLEDRIVE_NAME, qsObj);\n      } else if (tag === \"gridftp\") {\n        console.log(\"GridFTP oAuth identifier received\");\n        this.updateLocalCredStore(GRIDFTP_NAME, qsObj);\n      }\n    }\n  }\n\n  updateLocalCredStore(protocolType, qsObj) {\n    let creds = cookies.get(protocolType) || 0;\n    if (creds !== 0) {\n      let parsedJSON = JSON.parse(creds);\n      let accountId = qsObj.name.split(\":+\")[1];\n      let oAuthToken = qsObj.token;\n\n      let existingToken = parsedJSON.some(obj => obj.name === accountId);\n      if (existingToken) {\n        console.log(\n          \"Auth token for \" + accountId + \" already exists in session.\"\n        );\n      } else {\n        parsedJSON.push({ name: accountId, token: oAuthToken });\n        cookies.set(protocolType, JSON.stringify(parsedJSON));\n      }\n    } else {\n      cookies.set(\n        protocolType,\n        JSON.stringify([\n          { name: qsObj.name.split(\":+\")[1], token: qsObj.token }\n        ])\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Redirect to={transferPageUrl}></Redirect>\n        <h1>Wait a second, You will be redirected.</h1>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport MainComponent from \"./MainComponent\";\nimport AccountControlComponent from \"./views/Login/AccountControlComponent.js\";\nimport OauthProcessComponent from \"./views/OauthProcessComponent\";\nimport { createStore } from 'redux';\nimport { onedatashareModel } from './model/reducers';\nimport  { Route, Switch} from 'react-router-dom';\n\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Button from '@material-ui/core/Button';\n\nimport EventEmitter from 'eventemitter3';\n\nimport { initializeReactGA } from './analytics/ga';\n\nexport const eventEmitter = new EventEmitter();\n\n\nexport const store = createStore(onedatashareModel);\nclass App extends Component {\n\n  constructor(){\n    super();\n    this.state={\n      loaded: false,\n      open: false, \n      vertical: 'top', \n      horizontal: 'center',\n      error: \"null\"\n    };\n\n    initializeReactGA();\n  }\n\n\n  handleOpen = (errormsg) => {\n    console.log(errormsg);\n    this.setState({ open: true, vertical: 'top', horizontal: 'center', error: JSON.stringify(errormsg) });\n    setTimeout(this.handleClose, 4000);\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  componentDidMount(){\n    document.title = \"OneDataShare - Home\";\n    this.setState({loaded: true});\n    eventEmitter.on(\"errorOccured\", this.handleOpen); \n  }\n\n  \n  render() {\n    const { vertical,horizontal, error, open } = this.state;\n\n    return (\n      <div>\n\n        <Snackbar\n          anchorOrigin={{ vertical, horizontal }}\n          style={{marginTop: \"20px\"}}\n          open={open}\n          onClose={this.handleClose}\n          ContentProps={{\n            'aria-describedby': 'message-id',\n          }}\n          action={\n            <Button onClick={this.handleClose} color=\"secondary\" size=\"small\">\n              Close\n            </Button>\n          }\n          message={<span id=\"message-id\">{error}</span>}\n        />\n\n        <Switch>\n          <Route path='/account' component={AccountControlComponent}/>\n          <Route path='/oauth/:tag' component={OauthProcessComponent}/>\n          <Route exact path='/*/' component={MainComponent}/>\n        </Switch>\n\n      </div>\n    );\n  }\n}\n\nexport default App;","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {unregister} from './registerServiceWorker';\nimport { BrowserRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<App/>\n\t</BrowserRouter>, document.getElementById('root'));\n\nunregister();"],"sourceRoot":""}