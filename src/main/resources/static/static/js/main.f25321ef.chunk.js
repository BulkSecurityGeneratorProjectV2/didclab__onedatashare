(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{274:function(e,t,a){e.exports=a.p+"static/media/fast.94fb7985.png"},275:function(e,t,a){e.exports=a.p+"static/media/easy.c3ec87a7.png"},276:function(e,t,a){e.exports=a.p+"static/media/endtoend.84514f60.png"},277:function(e,t,a){e.exports=a.p+"static/media/precise.fcfd05a0.png"},278:function(e,t,a){e.exports=a.p+"static/media/interoperation.2558a942.png"},279:function(e,t,a){e.exports=a.p+"static/media/NSF_Logo.0f6f085b.png"},280:function(e,t,a){e.exports=a.p+"static/media/ub.ac8a9d3e.png"},305:function(e,t,a){e.exports=a.p+"static/media/terms.cdf166b2.txt"},306:function(e,t,a){e.exports=a.p+"static/media/privacy.a9170ae3.txt"},307:function(e,t,a){e.exports=a.p+"static/media/background-texture.55c97f92.png"},308:function(e,t,a){e.exports=a.p+"static/media/gs1.b71d1f25.png"},309:function(e,t,a){e.exports=a.p+"static/media/gs2.891cbba0.png"},310:function(e,t,a){e.exports=a.p+"static/media/gs3.331e180b.png"},311:function(e,t,a){e.exports=a.p+"static/media/gs4.e0ddef66.png"},312:function(e,t,a){e.exports=a.p+"static/media/gs5.2776d8e2.gif"},313:function(e,t,a){e.exports=a.p+"static/media/gs6.19dceaaa.gif"},314:function(e,t,a){e.exports=a.p+"static/media/gs7.d370c2f4.png"},346:function(e,t,a){e.exports=a(530)},351:function(e,t,a){},352:function(e,t,a){},441:function(e,t,a){},448:function(e,t,a){},524:function(e,t,a){},525:function(e,t,a){},526:function(e,t,a){},528:function(e,t,a){},530:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),o=a.n(i),s=(a(351),a(18)),l=a(16),c=a(20),d=a(19),u=a(21),m=(a(352),a(600)),p=a(555),h=a(556),f=a(597),g=a(554),b=a(272),y=a.n(b),E=a(614),v={display:"flex",justifyContent:"space-between"},w=("localhost"===window.location.hostname||window.location.hostname,"/api/stork/"),S="googledrive:/",O="ftp://",k="sftp://",C="gsiftp://",j="http://",x="https://",P="DropBox",T="GoogleDrive",D=6,A={dropbox:P,googledrive:T,ftp:"FTP",sftp:"SFTP",http:"HTTP",gsiftp:"GridFTP",scp:"SCP",https:"HTTP"},N={dropbox:"dropbox:///",googledrive:S,ftp:O,sftp:k,http:j,gsiftp:C,scp:"scp://",https:j},I={dropbox:-1,googledrive:-1,ftp:21,sftp:22,http:80,gsiftp:-1,scp:22,https:443},F=7;function L(e){return z(e.uri)}function B(e){return I[e.split(":")[0].toLowerCase()]}function z(e){return N[e.split(":")[0].toLowerCase()]}function R(e,t,a,n){e.test(t)?n.push({containsError:!1,msg:a}):n.push({containsError:!0,msg:a})}function U(e,t){var a=[];return R(/[a-z]/,e,"One lower character",a),R(/[A-Z]/,e,"One upper character",a),R(/[0-9]/,e,"One digit",a),R(/\W/,e,"One special character",a),e.length<D?a.push({containsError:!0,msg:"Minimum "+D.toString()+" characters"}):a.push({containsError:!1,msg:"Minimum "+D.toString()+" characters"}),a}var M="LOGIN";var V="UPDATE_HASH";var _="COMPACT_VIEW_PREFERENCE";var q="PROMOTE";var W="LOGOUT";function H(){return{type:W}}var G="ENDPOINT_PROGRESS";var J="ENDPOINT_UPDATE";function Y(e,t){return{type:J,side:e,endpoint:t}}var K="ACCOUNT_PREFERENCE_TOGGLED";var X=a(9),Q=a(11),Z=a.n(Q),$=a(26),ee=a(265),te=a.n(ee),ae={id:"left",title:"",path:[],tasks:[],ids:[null],selectedTasks:[]},ne={id:"right",title:"",path:[],tasks:[],ids:[null],selectedTasks:[]},re=null;function ie(e){return"left"===e.side?ae.ids.map(function(t,a){return{id:ae.ids[a],path:se(e.uri,ae.path,a)}}):ne.ids.map(function(t,a){return{id:ne.ids[a],path:se(e.uri,ne.path,a)}})}function oe(e){return"left"===e.side?ae.ids:ne.ids}function se(e,t,a){return 0===a||0===t.length?e:ce(e,t.slice(0,a),"")}function le(e){re=e}function ce(e,t,a){var n;return n=0===t.length?e:e+("/"===e[e.length-1]?"":"/")+t.reduce(function(e,t){return e+"/"+t}),n+=0===a.length||"/"===n[n.length-1]?a:"/"+a}function de(){return{left:ae,right:ne}}function ue(e){return de()[e]}function me(e,t,a,n){"left"===n.side?(ae.tasks=e,ae.title=n.uri,ae.path=t,ae.ids=a):(ne.tasks=e,ne.title=n.uri,ne.path=t,ne.ids=a)}function pe(e){return"left"===e.side?ae.tasks:ne.tasks}function he(e){"left"===e.side?ae={id:"left",title:"",path:[],tasks:[],ids:[null],previousTasks:[],selectedTasks:[]}:"right"===e.side&&(ne={id:"right",title:"",path:[],tasks:[],ids:[null],previousTasks:[],selectedTasks:[]})}function fe(e){e&&(e.left&&(ae.tasks=e.left.tasks),e.right&&(ne.tasks=e.right.tasks),"left"===e.fromTo[1].id?ae.selectedTasks=e.selectedTasks:ne.selectedTasks=e.selectedTasks,no.emit("fileChange",null,null))}function ge(e,t){ae.selectedTasks=e,ne.selectedTasks=t,no.emit("fileChange",null,null)}function be(e){return"left"===e.side?ae.selectedTasks:ne.selectedTasks}function ye(e,t){"left"===t.side?ge(e,ne.selectedTasks):ge(ae.selectedTasks,e)}function Ee(e){return"left"===e.id?ro.getState().endpoint1:ro.getState().endpoint2}function ve(){return{left:ae.selectedTasks,right:ne.selectedTasks}}function we(e){return"left"===e.side?ae.selectedTasks.length:ne.selectedTasks.length}function Se(){return ge([],[]),[]}var Oe=a(371),ke={login:!!Oe.get("email"),admin:!1,email:Oe.get("email")||"noemail",hash:Oe.get("hash")||null,compactViewEnabled:!1,saveOAuthTokens:void 0!==Oe.get("saveOAuthTokens")&&JSON.parse(Oe.get("saveOAuthTokens")),endpoint1:Oe.get("endpoint1")?JSON.parse(Oe.get("endpoint1")):{login:!1,credential:{},uri:"",side:"left"},endpoint2:Oe.get("endpoint2")?JSON.parse(Oe.get("endpoint2")):{login:!1,credential:{},uri:"",side:"right"},queue:[],transferOptions:{useTransferOptimization:"NONE",overwriteExistingFiles:!0,verifyFileInterity:!1,encryptDataChannel:!1,compressDataChannel:!1}};var Ce=te.a.create({timeout:1e4,headers:{Accept:"application/json","Content-Type":"application/json"}});function je(e,t){var a=Math.floor(e.status/100);if(a<3)t(e.data);else if(a<5)t("".concat(e.status," ").concat(e.statusText));else{if("PermissionDenied"===e.name&&ro.getState().login&&window.confirm("You have been logged out. Login again?")&&ro.dispatch(H()),408===e.status||"ECONNABORTED"===e.code)return void t("Timeout 10000ms");t("500")}}function xe(){return(xe=Object($.a)(Z.a.mark(function e(t,a,n){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ce.post(w+"user",{action:"verifyEmail",email:t}).then(function(e){!0===e.data?je(e,a):!1===e.data&&je(e,n)}).catch(function(e){je(e,n)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pe(){return(Pe=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,Ce.post(w+"user",{action:"sendVerificationCode",email:t}).then(function(e){200!==e.status&&(r=n),je(e,r)}).catch(function(e){je(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Te(){return(Te=Object($.a)(Z.a.mark(function e(t,a,n,r){var i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=n,Ce.post(w+"user",{action:"verifyCode",email:t,code:a}).then(function(e){200!==e.status&&(i=r),je(e,i)}).catch(function(e){je(e,r)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function De(){return(De=Object($.a)(Z.a.mark(function e(t,a,n,r,i,o){var s;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=i,Ce.post(w+"user",{action:"setPassword",email:t,code:a,password:n,confirmPassword:r}).then(function(e){200!==e.status&&(s=o),je(e,s)}).catch(function(e){je(e,o)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ae(){return(Ae=Object($.a)(Z.a.mark(function e(t){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ce.post(w+"user",{action:"resendVerificationCode",email:t}).then(function(e){return e}).catch(function(e){}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ne(){return(Ne=Object($.a)(Z.a.mark(function e(t,a,n,r){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ce.post(w+"user",{action:"setPassword",email:t,code:a,password:n,confirmPassword:r}).then(function(e){if(200!==e.status)throw new Error("Failed to set password for users account");return e}).catch(function(e){return{status:500}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ie(){return(Ie=Object($.a)(Z.a.mark(function e(t,a,n,r){var i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=n,Ce.post(w+"user",{action:"login",email:t,password:a}).then(function(e){200!==e.status&&(i=r),je(e,i)}).catch(function(e){je(e,r)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fe(){return(Fe=Object($.a)(Z.a.mark(function e(t,a,n,r){var i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=n,Ce.post(w+"user",{action:"isAdmin",email:t,hash:a}).then(function(e){200!==e.status&&(i=r),je(e,i)}).catch(function(e){je(e,r)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Le(e,t,a,n){return Be.apply(this,arguments)}function Be(){return(Be=Object($.a)(Z.a.mark(function e(t,a,n,r){var i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=n,Ce.post(w+"user",{action:"history",portNumber:a,uri:encodeURI(t)}).then(function(e){200!==e.status&&(i=r),je(e,i)}).catch(function(e){je(e,r)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ze(e,t,a){return Re.apply(this,arguments)}function Re(){return(Re=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,Ce.post(w+"globus",{action:"endpointId",globusEndpoint:t}).then(function(e){200!==e.status&&(r=n),je(e,r)}).catch(function(e){je(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ue(){return(Ue=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,Ce.post(w+"globus",{action:"endpoint",globusEndpoint:t}).then(function(e){200!==e.status&&(r=n),je(e,r)}).catch(function(e){je(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Me(){return(Me=Object($.a)(Z.a.mark(function e(t,a,n,r,i){var o;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=r,Ce.post(w+"globus",{action:"endpointActivate",globusEndpoint:t,username:a,password:n}).then(function(e){200!==e.status&&(o=i),je(e,o)}).catch(function(e){je(e,i)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ve(){return(Ve=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,Ce.post(w+"user",{action:"deleteHistory",uri:encodeURI(t)}).then(function(e){200!==e.status&&(r=n),je(e,r)}).catch(function(e){je(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _e(){return(_e=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,Ce.post(w+"globus",{action:"deleteEndpointId",globusEndpoint:t}).then(function(e){200!==e.status&&(r=n),je(e,r)}).catch(function(e){je(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qe(e,t){return We.apply(this,arguments)}function We(){return(We=Object($.a)(Z.a.mark(function e(t,a){var n;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,Ce.get(w+"cred?action=list").then(function(e){200!==e.status&&(n=a),je(e,n)}).catch(function(e){je(e,a)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function He(e,t,a,n,r,i,o){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object($.a)(Z.a.mark(function e(t,a,n,r,i,o,s){var l;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=o,Ce.post(w+"q",{status:t?"all":"userJob",pageNo:a,pageSize:n,sortBy:r,sortOrder:i}).then(function(e){200!==e.status&&(l=s),je(e,l)}).catch(function(e){s(e)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Je(){return(Je=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,Ce.post(w+"q/update",t).then(function(e){200!==e.status&&(r=n),je(e,r)}).catch(function(e){n(e)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ye(){return(Ye=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,Ce.post(w+"ticket",t).then(function(e){200!==e.status&&(r=n),je(e,r)}).catch(function(e){n(e)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ke(e,t,a,n,r,i,o){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object($.a)(Z.a.mark(function e(t,a,n,r,i,o,s){var l,c,d;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=o,c=Object.assign({},t),d=Object.assign({},n),0===Object.keys(c.credential).length&&delete c.credential,0===Object.keys(d.credential).length&&delete d.credential,Ce.post(w+"submit",{src:Object(X.a)({},c,{type:L(c),map:ie(a)}),dest:Object(X.a)({},d,{type:L(d),map:ie(r)}),options:i}).then(function(e){200!==e.status&&(l=s),je(e,l)}).catch(function(e){je(e,s)});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qe(e,t,a,n,r){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object($.a)(Z.a.mark(function e(t,a,n,r,i){var o,s;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o={uri:encodeURI(t),id:n,portNumber:a.portNumber,type:z(t)},o=Object.keys(a.credential).length>0?Object(X.a)({},o,{credential:a.credential}):o,s=r,Ce.post(w+"ls",JSON.stringify(o)).then(function(e){200!==e.status&&(s=i),je(e,s)}).catch(function(e){je(e,i)});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $e(){return($e=Object($.a)(Z.a.mark(function e(t,a,n,r,i){var o,s,l;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=r,s=oe(n),l=s[s.length-1],Ce.post(w+"mkdir",{credential:n.credential,uri:encodeURI(t),id:l,type:a,map:ie(n)}).then(function(e){200!==e.status&&(o=i),je(e,o)}).catch(function(e){je(e,i)});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function et(){return(et=Object($.a)(Z.a.mark(function e(t,a,n,r,i){var o;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=r,Ce.post(w+"delete",{credential:a.credential,uri:encodeURI(t),id:n,type:z(t),map:ie(a)}).then(function(e){200!==e.status&&(o=i),je(e,o)}).catch(function(e){je(e,i)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tt(e,t,a){return at.apply(this,arguments)}function at(){return(at=Object($.a)(Z.a.mark(function e(t,a,n){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ce.post(w+"download",{type:z(t),credential:a,uri:encodeURI(t),id:n}).then(function(e){if(200===e.status)return e.data;console.log("Error in download API call")}).catch(function(e){console.log("Error encountered while generating download link")}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function nt(){return(nt=Object($.a)(Z.a.mark(function e(t,a,n){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt(t,a,n).then(function(e){return e}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rt(){return(rt=Object($.a)(Z.a.mark(function e(t,a,n){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tt(t,a,n).then(function(e){""!==e?window.open(e):console.log("Error encountered while generating download link")}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function it(){return(it=Object($.a)(Z.a.mark(function e(t,a,n,r){var i,o;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i={credential:a,type:z(t),uri:encodeURI(t),id:""},o=JSON.stringify(i),Oe.set("SFTPAUTH",o,{expires:10}),window.location=w+"download/file";case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ot(e,t,a,n,r,i,o){return st.apply(this,arguments)}function st(){return(st=Object($.a)(Z.a.mark(function e(t,a,n,r,i,o,s){var l;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=o,Ce.post(w+"user",{action:t,pageNo:a,pageSize:n,sortBy:r,sortOrder:i}).then(function(e){200!==e.status&&(l=s),je(e,l)}).catch(function(e){je(e,s)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lt(){return(lt=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,Ce.post(w+"user",{action:"getUser",email:t}).then(function(e){200!==e.status&&(r=n),je(e,r)}).catch(function(e){je(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ct(){return(ct=Object($.a)(Z.a.mark(function e(t,a,n){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ce.post(w+"user",{action:"updateSaveOAuth",email:t,saveOAuth:a}).then(function(e){200===e.status&&n()}).catch(function(e){console.log("Error encountered while updating the user.")});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dt(){return(dt=Object($.a)(Z.a.mark(function e(t,a){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ce.put(w+"user",{action:"updateAdminRights",email:t,isAdmin:a}).then(function(e){return 200===e.status}).catch(function(e){console.log("Error encountered while updating the user.")}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ut(){return(ut=Object($.a)(Z.a.mark(function e(t,a,n,r,i){var o;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=r,Ce.post(w+"user",{action:"resetPassword",password:t,newPassword:a,confirmPassword:n}).then(function(e){200!==e.status&&(o=i),je(e,o)}).catch(function(e){i(e)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mt(){return(mt=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,fetch(w+"cancel",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({job_id:t})}).then(function(e){e.ok||(r=n),je(e,r)}).catch(function(e){n(e)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pt(){return(pt=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,Ce.post(w+"user",{action:"deleteCredential",uuid:t}).then(function(e){200!==e.status&&(r=n),je(e,r)}).catch(function(e){je(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ht(){return(ht=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,Ce.post(w+"restart",{job_id:t}).then(function(e){200!==e.status&&(r=n),je(e,r)}).catch(function(e){je(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ft(){return(ft=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a,Ce.post(w+"deleteJob",{job_id:t}).then(function(e){200!==e.status&&(r=n),je(e,r)}).catch(function(e){je(e,n)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gt(){return(gt=Object($.a)(Z.a.mark(function e(t,a,n,r){var i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=n,Ce.post(w+"user",{action:"updateViewPreference",email:t,compactViewEnabled:a}).then(function(e){200!==e.status&&(i=r),je(e,i)}).catch(function(e){je(e,r)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bt(){return yt.apply(this,arguments)}function yt(){return(yt=Object($.a)(Z.a.mark(function e(){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ot("/api/stork/oauth?type=dropbox");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Et(){return vt.apply(this,arguments)}function vt(){return(vt=Object($.a)(Z.a.mark(function e(){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ot("/api/stork/oauth?type=googledrive");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function wt(){return St.apply(this,arguments)}function St(){return(St=Object($.a)(Z.a.mark(function e(){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ot("/api/stork/oauth?type=gridftp");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ot(e){return kt.apply(this,arguments)}function kt(){return(kt=Object($.a)(Z.a.mark(function e(t){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location=t;case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ct(){return(Ct=Object($.a)(Z.a.mark(function e(t,a){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ce.post(w+"user",Object(X.a)({action:"register"},t)).then(function(e){if(e.data&&e.data.status&&302===e.data.status)return console.log("User already exists"),{status:302};if(200!==e.status)throw new Error("Failed to register user");return e}).catch(function(e){return console.error("Error while registering user"),a(),new Error({status:500})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function jt(){return(jt=Object($.a)(Z.a.mark(function e(t,a){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ce.post(w+"user",{action:"verifyCode",email:t,code:a}).then(function(e){return e}).catch(function(e){return console.error("Error while verifying the registration code"),{status:500}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xt(){return(xt=Object($.a)(Z.a.mark(function e(t,a,n){var r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a,e.abrupt("return",Ce.post(w+"globus",{action:"endpoint_list",filter_fulltext:t}).then(function(e){200!==e.status&&(r=n),je(e,r)}).catch(function(e){je(e,n)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Pt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={login:ro.getState().login,email:ro.getState().email,admin:ro.getState().admin},a.state.login&&function(e,t,a,n){Fe.apply(this,arguments)}(ro.getState().email,ro.getState().hash,function(e){e?ro.dispatch({type:q}):console.log("not admin")},function(e){console.log(e)}),a.unsubscribe=ro.subscribe(function(){a.setState({login:ro.getState().login,email:ro.getState().email,admin:ro.getState().admin})}),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return r.a.createElement(m.a,{inverse:!0,collapseOnSelect:!0,fixedTop:!0,className:"navbar_navbar",id:"navbar"},r.a.createElement(m.a.Header,null,r.a.createElement(m.a.Brand,null,r.a.createElement(g.a,{to:"/"},"OneDataShare")),r.a.createElement(m.a.Toggle,null)),r.a.createElement(m.a.Collapse,null,this.state.login&&r.a.createElement(p.a,null,r.a.createElement(h.a,{componentClass:g.a,href:"/transfer",to:"/transfer",id:"NavTransfer"},"Transfer"),r.a.createElement(h.a,{componentClass:g.a,href:"/queue",to:"/queue",id:"NavQueue"},"Queue"),this.state.admin&&r.a.createElement(f.a,{title:"Admin",id:"NavDropdown"},r.a.createElement(h.a,{id:"NavAdminClients",componentClass:g.a,to:"/clientsInfo",href:"/clientsInfo"},"Clients Information"),r.a.createElement(h.a,{id:"NavAdminHistory",componentClass:g.a,to:"/history",href:"/history"},"History"))),r.a.createElement(p.a,{pullRight:!0},this.state.login&&r.a.createElement(h.a,{id:"NavEmail",componentClass:g.a,to:"/user",href:"/user"},this.state.email),!this.state.login&&r.a.createElement(h.a,{id:"NavSignIn",componentClass:g.a,to:"/account",href:"/account"},"Sign in"),!this.state.login&&r.a.createElement(h.a,{id:"NavRegister",componentClass:g.a,to:"/account/register",href:"/account/register"},"Register"),this.state.login&&r.a.createElement(h.a,{id:"NavLogout",onClick:function(){ro.dispatch(H())}},r.a.createElement("span",null,"Log out")),r.a.createElement(h.a,{component:g.a,href:"/support"},r.a.createElement(E.a,{title:"Report an issue",placement:"top"},r.a.createElement(y.a,null))))))}}]),t}(n.Component),Tt=a(111),Dt=a(560),At=a(561),Nt=a(562),It=a(273),Ft=a.n(It),Lt=a(274),Bt=a.n(Lt),zt=a(275),Rt=a.n(zt),Ut=a(276),Mt=a.n(Ut),Vt=a(277),_t=a.n(Vt),qt=a(278),Wt=a.n(qt),Ht=a(279),Gt=a.n(Ht),Jt=a(280),Yt=a.n(Jt),Kt=a(205);function Xt(){Kt.a.pageview(window.location.pathname)}var Qt=a(559),Zt=(a(441),{color:"white",fontSize:"1.2em",textAlign:"left"}),$t=Object(X.a)({},Zt,{fontSize:"1.5em"}),ea={background:"#579",padding:"4vw",width:"100%",margin:0},ta=Object(X.a)({},Zt,{fontSize:"2em"}),aa=Object(X.a)({},Zt,{fontSize:"1.1em"});function na(e){var t=e.style,a=e.onClick;return r.a.createElement("div",{className:"slick-next",style:Object(X.a)({},t),onClick:a},r.a.createElement(Tt.a,{glyph:"chevron-right",style:{fontSize:"50px",color:"white"}}))}function ra(e){var t=e.style,a=e.onClick;return r.a.createElement("div",{className:"slick-prev",style:Object(X.a)({},t),onClick:a},r.a.createElement(Tt.a,{glyph:"chevron-left",style:{fontSize:"50px",color:"white"}}))}var ia=function(e){function t(){var e;return Object(s.a)(this,t),e=Object(c.a)(this,Object(d.a)(t).call(this)),Xt(),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="OneDataShare"}},{key:"render",value:function(){var e={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,appendDots:function(e){return r.a.createElement("ul",{style:{bottom:"8%",zIndex:1}},e)},nextArrow:r.a.createElement(na,null),prevArrow:r.a.createElement(ra,null),autoplay:!1,responsive:[{breakpoint:500,settings:{arrows:!1}}]},t=r.a.createElement("div",{style:{marginTop:"5%",marginLeft:"2%"}},r.a.createElement(Qt.a,{variant:"contained",color:"primary",style:{backgroundColor:"rgb(45, 46, 48)",fontSize:"1.5rem"}},r.a.createElement(g.a,{to:"/get-started",style:{color:"white"}},"Get Started")));return r.a.createElement("div",{className:"adjustTop"},r.a.createElement(Dt.a,null,r.a.createElement(Ft.a,e,r.a.createElement("div",null,r.a.createElement(At.a,{className:"homepage_section homepage_section1"},r.a.createElement(Dt.a,{className:"cardStyle"},r.a.createElement("h1",{className:"textStyle headerStyle"},"OneDataShare\xa0",r.a.createElement("sup",{title:"Beta"},"\u03b2")),r.a.createElement("p",{style:$t},"OneDataShare is a reliable and fast data movement service in the cloud."),r.a.createElement("h4",{style:Zt},"We aim to deliver:"),r.a.createElement("ul",{style:Zt},r.a.createElement("li",null,"Robust multi-protocol data transfer as a service"),r.a.createElement("li",null,"Remote file browsing in your web browser"),r.a.createElement("li",null,"Advanced transfer optimization algorithms")),t))),r.a.createElement("div",null,r.a.createElement(At.a,{className:"homepage_section homepage_section2"},r.a.createElement(Dt.a,{className:"cardStyle"},r.a.createElement("h1",{className:"textStyle headerStyle"},"Decreased Uncertainty in Real-time Decision-Making Processes."),r.a.createElement("p",{style:$t},"OneDataShare\u2019s data throughput and delivery time prediction service will eliminate possible long delays in completion of a transfer operation and increase utilization of end-system and network resources by giving an opportunity to provision these resources in advance with great accuracy."),t))),r.a.createElement("div",null,r.a.createElement(At.a,{className:"homepage_section homepage_section3"},r.a.createElement(Dt.a,{className:"cardStyle"},r.a.createElement("h1",{className:"textStyle headerStyle"},"Reduced Time to the Delivery of Data"),r.a.createElement("p",{style:$t},"OneDataShare reduces the time to the delivery of data, and drastically increases the end-to-end performance of data-intensive applications relying on remote data sources."),t))),r.a.createElement("div",null,r.a.createElement(At.a,{className:"homepage_section homepage_section4"},r.a.createElement(Dt.a,{className:"cardStyle"},r.a.createElement("h1",{className:"textStyle headerStyle"},"Interoperation Across Heterogeneous Data Resources"),r.a.createElement("p",{style:$t},"OneDataShare provides interoperation across heterogeneous data resources and on-the-fly translation between different data transfer protocols. Sharing data between traditionally non-compatible data sources becomes very easy and convenient with OneDataShare."),t))),r.a.createElement("div",null,r.a.createElement(At.a,{className:"homepage_section homepage_section5"},r.a.createElement(Dt.a,{className:"cardStyle"},r.a.createElement("h1",{className:"textStyle headerStyle"},"Fast, Scalable, and Flexible Data Sharing Made Easy"),r.a.createElement("p",{style:$t},"OneDataShare makes the data readily available to the users and to their applications in the fastest and the most efficient way possible."),t))),r.a.createElement("div",null,r.a.createElement(At.a,{className:"homepage_section homepage_section6"},r.a.createElement(Dt.a,{className:"cardStyle"},r.a.createElement("h1",{className:"textStyle headerStyle"},"End-to-end Data Sharing Solution"),r.a.createElement("p",{style:$t},"Anything that requires high-volume data transfer, from real-time weather conditions and natural disasters to sharing genomic maps and real-time consumer behavior analysis, will benefit from OneDataShare."),t)))),r.a.createElement(Nt.a,{style:ea},r.a.createElement("img",{width:"300px",className:"image-center",src:Bt.a,style:{float:"left"},alt:"Fast, Scalable, and Flexible Data Sharing Made Easy"}),r.a.createElement("h3",{style:ta},"Fast, Scalable, and Flexible Data Sharing Made Easy"),r.a.createElement("p",{style:aa},"OneDataShare harnesses the power of the cloud and implements state-of-the-art frameworks to optimize data transfer scheduling. It enhances the speed of data transfer via multiple protocols by enabling faster data transfer across the network. OneDataShare utilizes the available bandwidth to the fullest by using many optimization mechanisms, thereby speeding up data transfer and lowering cost.")),r.a.createElement(Nt.a,{style:ea},r.a.createElement("img",{width:"300px",className:"image-center",src:Rt.a,style:{float:"left"},alt:"Reduced Time to the Delivery of Data"}),r.a.createElement("h3",{style:ta},"Reduced Time to the Delivery of Data"),r.a.createElement("p",{style:aa},"OneDataShare reduces the time to the delivery of data and drastically increases the end-to-end performance of data-intensive applications relying on remote data sources. It provides an end-to-end data transfer architecture which is reliable, fast and effective. The users are capable of reducing the burden of data transfer time through the use of OneDataShare.")),r.a.createElement(Nt.a,{style:ea},r.a.createElement("img",{width:"300px",className:"image-center",src:Wt.a,style:{float:"left"},alt:"Interoperation Across Heterogeneous Data Resources"}),r.a.createElement("h3",{style:ta},"Interoperation Across Heterogeneous Data Resources"),r.a.createElement("p",{style:aa},"By using OneDatashare, users can transfer their data across multiple protocols and platforms without having to worry about protocol translation. OneDataShare takes care of the protocol translation across multiple users ends and it provides a user-friendly field to translate data across multiple instances and ensures effective compatibility and platform independence as data gets transferred from the newest to the oldest protocols and vice versa.")),r.a.createElement(Nt.a,{style:ea},r.a.createElement("img",{width:"300px",className:"image-center",src:_t.a,style:{float:"left"},alt:"Decreased Uncertainty in Real-time Decision-Making Processes"}),r.a.createElement("h3",{style:ta},"Decreased Uncertainty in Real-time Decision-Making Processes."),r.a.createElement("p",{style:aa},"Delays over transmission of large data sets are eliminated by using OneDataShare. The desirable data delivery throughput of OneDataShare will alleviate the issue of a long time of data transfer. Hence users will be able to experience faster data deposits across long distances which will, in turn, speed up their other processes regarding usage of the data. Also, it will provide the users with upfront information regarding their data transfers and arrivals, thereby enabling them to prepare in advance for data transfer and scheduling.")),r.a.createElement(Nt.a,{style:ea},r.a.createElement("img",{width:"300px",className:"image-center",src:Mt.a,style:{float:"left"},alt:"End-to-end Data Sharing Solution"}),r.a.createElement("h3",{style:ta},"End-to-end Data Sharing Solution"),r.a.createElement("p",{style:aa},"OneDataShare is capable of transferring high-volume data of data like real-time weather predictions and conditions and natural disasters to sharing genomic maps and consumer behavior statistics for business intelligence, climate change data or geographic data from any Management Information System (MIS) from anywhere in the world.")),r.a.createElement(Nt.a,{className:"imagecentercontainer",style:Object(X.a)({},ea,{backgroundColor:"white"})},r.a.createElement("img",{width:"100px",src:Gt.a,style:{float:"left"},alt:"NSF Logo"}),r.a.createElement("img",{width:"100px",src:Yt.a,style:{float:"left"},alt:"UB Logo"}))))}}]),t}(n.Component),oa=a(617),sa=a(618),la=a(607),ca=a(4),da=a(575),ua=a(576),ma=a(573),pa=a(32),ha=a(84),fa=a(568),ga=a(603),ba=a(41),ya=a(569),Ea=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={email:"",password:"",emailChecked:!1,error:!1,errorMessage:null,remember:!1,isAuthenticated:!1},a.emailValidated=!1,a.onEmailNextClicked=a.onEmailNextClicked.bind(Object(ca.a)(Object(ca.a)(a))),a.onSignInClicked=a.onSignInClicked.bind(Object(ca.a)(Object(ca.a)(a))),Xt(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.email&&this.setState({email:this.props.email})}},{key:"onEmailNextClicked",value:function(){var e=this,t=this.props.isLoading;t(!0),function(e,t,a){xe.apply(this,arguments)}(this.state.email,function(a){t(!1),e.setState({emailChecked:!0})},function(a){t(!1),e.setState({emailChecked:!1,error:!0,errorMessage:"Email not found or server error."})})}},{key:"onSignInClicked",value:function(){var e=this,t=this.props,a=t.isLoading,n=t.userLoggedIn,r=this.state,i=r.email,o=r.password,s=r.remember;a(!0),n(i,o,s,function(t){a(!1),console.log("error message",t),e.setState({error:!0,errorMessage:"Wrong password or server error."})})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.createAccountPressed,t.lostValidationCodePressed),n=t.forgotPasswordPressed,i=this.state,o=i.emailChecked,s=i.email,l=i.password,c=i.error,d=i.errorMessage,u=i.remember,m=function(t){return function(a){e.setState(Object(pa.a)({error:!1,errorMessage:null},t,a.target.value))}};return r.a.createElement("div",null,!o&&r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement(ha.a,{style:{fontSize:"1.6em",marginBottom:"0.4em",textAlign:"center"}},"Sign In"),r.a.createElement(ha.a,{style:{fontSize:"1em",textAlign:"center"},color:"textSecondary"},"Onedatashare"),r.a.createElement(ba.ValidatorForm,{ref:"email",onSubmit:this.onEmailNextClicked},r.a.createElement(ba.TextValidator,{error:c,helperText:d,label:"Email",onChange:m("email"),id:"email",name:"email",value:s,validators:["required","isEmail"],errorMessages:["Please put email here","Can not understand email format"],style:{width:"90%",margin:"5%"}}),r.a.createElement(fa.a,{style:v},r.a.createElement(Qt.a,{size:"large",variant:"outlined",color:"primary"},r.a.createElement(g.a,{to:"/account/register"},"Create Account")),r.a.createElement(Qt.a,{size:"large",variant:"contained",color:"primary",type:"submit"},"Next")))),o&&r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement(ha.a,{style:{fontSize:"1.6em",marginBottom:"0.4em"}},"Hi ",s.substring(0,s.indexOf("@")),"!"),r.a.createElement(Qt.a,{size:"large",style:{borderRadius:"20px"},variant:"outlined",color:"primary",onClick:function(){return e.setState({emailChecked:!1})}},s),r.a.createElement(ba.ValidatorForm,{ref:"password",onSubmit:this.onSignInClicked},r.a.createElement(ba.TextValidator,{error:c,helperText:d,id:"Password",label:"Enter Your Password",onChange:m("password"),type:"password",name:"password",value:l,validators:["required"],errorMessages:["Where is password?"],style:{width:"90%",margin:"5%"}}),r.a.createElement(ya.a,{control:r.a.createElement(ga.a,{checked:u,value:"remember",onChange:function(t){e.setState({remember:t.target.checked})},color:"primary"}),label:"Remember"}),r.a.createElement(fa.a,{style:Object(X.a)({},v,{marginBottom:"20px"})},r.a.createElement(Qt.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return n(s)}},"Forgot Password?"),r.a.createElement(Qt.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return a(s)}},"Lost Validation Email?")),r.a.createElement(Qt.a,{size:"large",variant:"contained",color:"primary",type:"submit",style:{width:"100%"}},"Next"))))}}]),t}(n.Component),va=a(567),wa=a(532),Sa=a(570),Oa=a(572),ka=a(571),Ca=a(531),ja=a(83),xa=a.n(ja),Pa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={accounts:a.props.accounts},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.accounts,a=this.props,n=a.useAnotherAccount,i=a.isLoading,o=a.login;return r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement(ha.a,{style:{fontSize:"1.6em",marginBottom:"0.4em",textAlign:"center"}},"Choose an account"),r.a.createElement(va.a,null,Object.keys(t).map(function(a){return r.a.createElement(wa.a,{key:a,role:void 0,button:!0,onClick:function(){return function(e){o(e)}(a)}},r.a.createElement(Sa.a,{primary:a,secondary:"Signed out"}),r.a.createElement(ka.a,null,r.a.createElement(Ca.a,{onClick:function(){return function(a){i(!0),delete t[a],e.setState({accounts:t}),e.props.removedAccount(t)}(a)},"aria-label":"Delete"},r.a.createElement(xa.a,null))))}),r.a.createElement(Oa.a,{style:{marginTop:"30px"}}),r.a.createElement(wa.a,{key:"Add Another",button:!0,onClick:n},r.a.createElement(Sa.a,{primary:"Use another account"}))))}}]),t}(n.Component),Ta=a(264),Da=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={email:e.email,loadVerifyCode:!1,loading:!1},a.next=a.next.bind(Object(ca.a)(Object(ca.a)(a))),Xt(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"next",value:function(){var e=this;this.setState({loading:!0}),function(e){return Ae.apply(this,arguments)}(this.state.email).then(function(t){200===t.data.status?e.setState({loading:!1,loadVerifyCode:!0}):(e.setState({loading:!1,loadVerifyCode:!1}),no.emit("errorOccured",t.data.response))})}},{key:"render",value:function(){var e,t=this,a=this.props.backToSignin,n=this.props,i=this.state.email;return this.state.loadVerifyCode?r.a.createElement(Fa,Object.assign({},n,{loadVerifyCode:this.state.loadVerifyCode,email:this.state.email})):r.a.createElement("div",{className:"enter-from-right slide-in"},this.state.loading&&r.a.createElement(ma.a,null),r.a.createElement(ha.a,{style:{fontSize:"1.6em",marginBottom:"0.4em"}},"Find your Stork Account"),r.a.createElement(Ta.a,{id:"Email",label:"Enter Your Email",value:i,style:{width:"100%",marginBottom:"50px",borderRadius:"25px"},onChange:(e="email",function(a){t.setState(Object(pa.a)({},e,a.target.value))})}),r.a.createElement(fa.a,{className:"flexSpaceBetween"},"\n",r.a.createElement(Qt.a,{size:"small",variant:"outlined",color:"primary",onClick:a},"Back to Sign in Page"),r.a.createElement(Qt.a,{size:"large",variant:"contained",color:"primary",onClick:function(){return t.next()},style:{marginLeft:"4vw"}},"Next")))}}]),t}(n.Component),Aa=a(574),Na=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.showList&&r.a.createElement(va.a,{style:{width:"100%",maxWidth:360}},this.props.validations.map(function(e,t){return r.a.createElement(Aa.a,{style:{display:"flex",justifyContent:"flex-end",background:"white",height:15}},r.a.createElement(Sa.a,{primary:e.msg,style:{color:e.containsError?"red":"green"},edge:"start"}))})))}}]),t}(n.Component),Ia=a(317),Fa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={email:""!==e.email?e.email:"",password:"",cpassword:"",code:"",screen:e.loadVerifyCode?"verifyCode":"registration",verificationError:"",passwordError:"",firstName:"",lastName:"",organization:"",loading:!1,isLostVerifyCode:e.loadVerifyCode,emailError:!1,firstNameError:!1,lastNameError:!1,emailErrorMessage:null,firstNameErrorMessage:null,lastNameErrorMessage:null,captchaVerified:!1,captchaVerificationValue:null,confirmation:!1,validations:U(""),canSubmit:!1},a.firstNameValidationMsg="Please Enter Your First Name",a.lastNameValidationMsg="Please Enter Your Last Name",a.emailValidationMsg="Please Enter EmailId",a.captchaRef=null,a.registerAccount=a.registerAccount.bind(Object(ca.a)(Object(ca.a)(a))),a.verifyAccount=a.verifyAccount.bind(Object(ca.a)(Object(ca.a)(a))),a.login=a.login.bind(Object(ca.a)(Object(ca.a)(a))),Xt(),a.handleCaptchaEvent=a.handleCaptchaEvent.bind(Object(ca.a)(Object(ca.a)(a))),a.resetCaptcha=a.resetCaptcha.bind(Object(ca.a)(Object(ca.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"registerAccount",value:function(){var e=this;this.state.captchaVerified?(this.setState({loading:!0}),function(e,t){return Ct.apply(this,arguments)}({email:this.state.email,firstName:this.state.firstName,lastName:this.state.lastName,organization:this.state.organization,description:this.state.description,captchaVerificationValue:this.state.captchaVerificationValue},function(){e.setState({error:!0,loading:!1}),no.emit("errorOccured","Error occured while registering the user")}).then(function(t){200===t.status?e.setState({screen:"verifyCode",verificationError:"",loading:!1}):302===t.status&&(e.setState({emaildError:"User with same Email ID already exists",verificationError:"User with same Email ID already exists",loading:!1}),no.emit("errorOccured","User with same Email ID already exists")),e.resetCaptcha()})):no.emit("errorOccured","Please verify you are not a robot!")}},{key:"verifyAccount",value:function(){var e=this.state.email,t=this;(function(e,t){return jt.apply(this,arguments)})(e,this.state.verificationCode).then(function(e){var a=t.state;200===e.status?(a.screen="setPassword",a.code=e.data,t.setState({state:a})):(a.verificationError="Please Enter Valid Verification Code",t.setState({state:a}))})}},{key:"login",value:function(){var e=this,t=this.state.email,a=this.state.password,n=this.state.cpassword,r=this.state.code;this.state;(function(e,t,a,n){return Ne.apply(this,arguments)})(t,r,a,n).then(function(t){e.props.backToSignin()})}},{key:"handleCaptchaEvent",value:function(e){this.setState({captchaVerified:!0,captchaVerificationValue:e})}},{key:"resetCaptcha",value:function(){null!==this.captchaRef&&(this.setState({captchaVerified:!1,captchaVerificationValue:null}),this.captchaRef.reset())}},{key:"checkIfUserCanSubmit",value:function(){this.state.validations.filter(function(e){return e.containsError}).length>0?this.setState({canSubmit:!1}):this.setState({canSubmit:!0})}},{key:"render",value:function(){var e=this,t=(this.props.backToSignin,this.state),a=t.emailError,n=t.emailErrorMessage,i=t.email,o=t.firstNameError,s=t.firstNameErrorMessage,l=t.lastNameError,c=t.lastNameErrorMessage,d=t.confirmation,u=r.a.createElement("div",{style:{fontSize:"12px"}},"By checking the box,you agree to the ",r.a.createElement(g.a,{to:"/terms",target:"_blank"},"Terms of service")," and  ",r.a.createElement(g.a,{to:"/policy",target:"_blank"},"Privacy policy"),"."),m=this.props,p=Object(X.a)({},{margin:"2% 5%"},{textAlign:"center",display:"inline-block"}),h=this.state.screen,f=this.state.loading,b=function(t){return function(a){e.setState(Object(pa.a)({emailError:!1,emailErrorMessage:null},t,a.target.value))}},y=function(t){return function(a){e.setState(Object(pa.a)({},t,a.target.value),function(){e.setState({validations:U(e.state.password,e.state.cpassword)},function(){e.checkIfUserCanSubmit()})})}};if("validateEmail"===h)return r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement(Da,Object.assign({},m,{email:this.state.email})));if("registration"===h){var E={width:"100%",marginBottom:"4%"};return r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement("div",null,f&&r.a.createElement(ma.a,null)),r.a.createElement(ha.a,{style:{fontSize:"1.6em",marginBottom:"0.4em",textAlign:"center"}},"Create Your OneDataShare Account"),r.a.createElement(ba.ValidatorForm,{ref:"email",onSubmit:this.registerAccount},r.a.createElement(ba.TextValidator,{error:a,helperText:n,label:"Email",onChange:b("email"),name:"email",value:i,validators:["required","isEmail"],errorMessages:["Please enter your email address","Can not understand email format"],style:E}),r.a.createElement(ba.TextValidator,{error:o,helperText:s,label:"FirstName",name:"firstName",value:this.state.firstName,id:"FirstName",validators:["required"],errorMessages:["Please Enter Your First Name"],style:E,onChange:b("firstName")}),r.a.createElement(ba.TextValidator,{error:l,helperText:c,label:"LastName",name:"lastName",value:this.state.lastName,id:"LastName",validators:["required"],errorMessages:["Please Enter Your Last Name"],style:E,onChange:b("lastName")}),r.a.createElement(Ta.a,{id:"Organization",label:"Organization",value:this.state.organization,style:E,onChange:b("organization")}),r.a.createElement(ya.a,{control:r.a.createElement(ga.a,{checked:d,value:"ok",onChange:function(t){e.setState({confirmation:!d})},color:"primary"}),label:u}),r.a.createElement("div",{style:p},r.a.createElement(Ia.a,{sitekey:"6LfXVKIUAAAAAICqn4qGgNtf44QqQ-4CEVWiU_u8",onChange:this.handleCaptchaEvent,ref:function(t){return e.captchaRef=t}})),r.a.createElement(fa.a,{style:Object(X.a)({},v,{float:"center"})},r.a.createElement(Qt.a,{size:"medium",variant:"outlined",color:"primary"},r.a.createElement(g.a,{to:"/account/signIn"},"Sign in")),r.a.createElement(Qt.a,{size:"medium",variant:"contained",color:"primary",disabled:!d,style:{marginLeft:"4vw"},type:"submit"},"Next"))))}return"verifyCode"===h?r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement(ha.a,{style:{fontSize:"1.1em",margin:"2%",overflowWrap:"break-word"}},"Please check ",this.state.email," for authorization code"),r.a.createElement(Ta.a,{id:"code",label:""===this.state.verificationError?"Enter Verification Code":"Please Enter Valid Verification Code",value:this.state.verificationCode,style:{width:"100%",marginBottom:"50px"},onChange:b("verificationCode"),error:"Please Enter Valid Verification Code"===this.state.verificationError}),r.a.createElement(fa.a,{style:Object(X.a)({},v,{float:"right"})},r.a.createElement(Qt.a,{size:"medium",variant:"outlined",color:"primary",onClick:function(){e.state.isLostVerifyCode?e.setState({screen:"validateEmail"}):e.setState({screen:"registration"})}},"Back"),r.a.createElement(Qt.a,{size:"large",variant:"contained",color:"primary",type:"submit",style:{marginLeft:"4vw"},onClick:this.verifyAccount},"Next"))):"setPassword"===h?r.a.createElement("div",{className:"enter-from-right slide-in"},r.a.createElement(ha.a,{style:{fontSize:"1.6em",marginBottom:"0.4em"}},"Code Verified! Please set password for your account"),r.a.createElement(Ta.a,{id:"Password",label:"Password",type:"password",value:this.state.password,style:{width:"100%",marginBottom:"30px"},onChange:y("password")}),r.a.createElement(Ta.a,{id:"Cpassword",type:"password",label:"Password Doesn't Match"===this.state.passwordError?"Password Doesn't Match":"Confirm Password",value:this.state.cpassword,style:{width:"100%",marginBottom:"30px"},onChange:y("cpassword"),error:"Password Doesn't Match"===this.state.passwordError}),r.a.createElement(Na,{showList:!this.state.canSubmit,validations:this.state.validations}),r.a.createElement(fa.a,{style:Object(X.a)({},v,{float:"center"})},r.a.createElement(Qt.a,{size:"medium",variant:"outlined",color:"primary",onClick:function(){e.setState({screen:"verifyCode"})}},"Back"),r.a.createElement(Qt.a,{size:"large",variant:"contained",color:"primary",style:{marginLeft:"4vw"},onClick:this.login,disabled:!this.state.canSubmit},"Next"))):void 0}}]),t}(n.Component),La=0,Ba=1,za=2,Ra=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).SetPassword=function(){var e=a.state,t=e.confirmedPassword,n=e.password,r=e.code;n===t?function(e,t,a,n,r,i){De.apply(this,arguments)}(a.props.email,r,n,t,function(){a.props.back(),no.emit("errorOccured","Set Password Succeed.")},function(){no.emit("errorOccured","Verify Code Failed.")}):no.emit("errorOccured","Password and confirmed password need to be the same.")},a.VerifyCode=function(){!function(e,t,a,n){Te.apply(this,arguments)}(a.props.email,a.state.code,function(e){console.log(e),a.setState({state:za,code:e})},function(e){no.emit("errorOccured","Verify Code Failed.")})},a.SendCode=function(){!function(e,t,a){Pe.apply(this,arguments)}(a.props.email,function(){a.setState({state:Ba})},function(){no.emit("errorOccured","Send Code Failed.")})},a.state={password:"",confirmedPassword:"",state:La,code:""},Xt(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.back,n=t.email,i=this.state,o=i.state,s=i.confirmedPassword,l=i.password!==s,c=function(t){return function(a){e.setState(Object(pa.a)({},t,a.target.value))}};return r.a.createElement("div",{className:"enter-from-right slide-in"},o===La&&r.a.createElement("div",null,r.a.createElement(ha.a,{style:{fontSize:"1.6em",marginBottom:"0.4em"}},"Account recovery"),r.a.createElement(Qt.a,{size:"small",variant:"outlined",color:"primary",onClick:a,style:{marginBottom:"1em",borderRadius:"25px"}},n),r.a.createElement(ha.a,{style:{fontSize:"1.0em",marginBottom:"0.4em"}},"Get a verification code"),r.a.createElement(ha.a,{style:{fontSize:"0.8em",marginBottom:"0.4em"}},"Onedatashare will send a verification code to ",n),r.a.createElement(fa.a,{style:v},r.a.createElement(Qt.a,{size:"medium",variant:"outlined",color:"primary",onClick:a},"Back to Sign in"),r.a.createElement(Qt.a,{size:"large",variant:"contained",color:"primary",style:{marginLeft:"4vw"},onClick:this.SendCode},"Next"))),o===Ba&&r.a.createElement("div",null,r.a.createElement(ha.a,{style:{fontSize:"0.8em",marginBottom:"0.4em"}},"Verification code is sent to ",n),r.a.createElement(Qt.a,{size:"small",variant:"outlined",color:"primary",onClick:this.SendCode,style:{marginBottom:"1em",borderRadius:"22px"}},"Send Again?"),r.a.createElement(ha.a,{style:{fontSize:"1.0em",marginBottom:"0.4em"}},"Input your code here"),r.a.createElement(Ta.a,{style:{width:"100%",marginBottom:"20px"},id:"outlined-email-input",label:"Code",name:"code",margin:"normal",variant:"outlined",onChange:c("code")}),r.a.createElement(fa.a,{style:v},r.a.createElement(Qt.a,{size:"medium",variant:"outlined",color:"primary",onClick:a},"Back to Sign in"),r.a.createElement(Qt.a,{size:"large",variant:"contained",color:"primary",style:{marginLeft:"4vw"},onClick:this.VerifyCode},"Verify"))),o===za&&r.a.createElement("div",null,r.a.createElement(ha.a,{style:{fontSize:"1.0em",marginBottom:"0.4em"}},"Code is Verified, Reset your password here:"),r.a.createElement(Ta.a,{style:{width:"100%"},id:"outlined-email-input",label:"Password",name:"code",type:"password",margin:"normal",variant:"outlined",onChange:c("password")}),r.a.createElement(Ta.a,{error:l,style:{width:"100%",marginBottom:"20px"},id:"outlined-email-input",label:"Confirm Password",name:"code",type:"password",margin:"normal",variant:"outlined",onChange:c("confirmedPassword")}),r.a.createElement(fa.a,{style:v},r.a.createElement(Qt.a,{size:"medium",variant:"outlined",color:"primary",onClick:a},"Back to Sign in"),r.a.createElement(Qt.a,{size:"large",variant:"contained",color:"primary",style:{marginLeft:"4vw"},disabled:l,onClick:this.SetPassword},"Reset"))))}}]),t}(n.Component),Ua=(a(448),function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).unsubscribe=ro.subscribe(function(){a.setState({authenticated:ro.getState().login})});var n=Oe.get("SavedUsers")||0,i=0===n?{}:JSON.parse(n);a.props.location.pathname;return a.newLogin=r.a.createElement(Pa,{accounts:i,login:function(e){var t=JSON.parse(Oe.get("SavedUsers"))[e];a.userLogin(e,t.hash,!1)},removedAccount:function(e){Oe.set("SavedUsers",JSON.stringify(e)),a.setState({loading:!1,accounts:e,signIn:!0})},useAnotherAccount:function(){a.setState({signIn:!0})},isLoading:function(e){a.setState({loading:e})}}),a.state={isSmall:window.innerWidth<=640,password:"",loading:!0,rememberMeAccounts:i,authenticated:ro.getState().login,screen:a.newLogin,creatingAccount:!1,loggingAccount:!1,redirectToSignIn:!1,signIn:!1,forgotPasswordPressed:!1,lostValidationCodePressed:!1},a.getInnerCard=a.getInnerCard.bind(Object(ca.a)(Object(ca.a)(a))),a.userLogin=a.userLogin.bind(Object(ca.a)(Object(ca.a)(a))),a.userSigningIn=a.userSigningIn.bind(Object(ca.a)(Object(ca.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="OneDataShare - Account",window.addEventListener("resize",this.resize.bind(this)),this.setState({loading:!1}),this.resize()}},{key:"userLogin",value:function(e,t,a,n,r){this.state.rememberMeAccounts[e]={hash:t},a&&Oe.set("SavedUsers",JSON.stringify(this.state.rememberMeAccounts)),ro.dispatch(function(e,t,a,n,r){return{type:M,credential:{email:e,hash:t,saveOAuthTokens:n,compactViewEnabled:r}}}(e,t,0,n,r))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"resize",value:function(){this.state.isSmall&&window.innerWidth>640?this.setState({isSmall:!1}):!this.state.isSmall&&window.innerWidth<=640&&this.setState({isSmall:!0})}},{key:"userSigningIn",value:function(e,t,a,n){var r=this;!function(e,t,a,n){Ie.apply(this,arguments)}(e,t,function(t){console.log("success account",t),r.userLogin(e,t.hash,a,t.saveOAuthTokens,t.compactViewEnabled)},function(e){n(e)})}},{key:"getInnerCard",value:function(){var e=this;return r.a.createElement(oa.a,null,r.a.createElement(sa.a,{exact:!0,path:"/account",render:function(t){return e.state.screen}}),r.a.createElement(sa.a,{exact:!0,path:"/account/register",render:function(t){return r.a.createElement(Fa,Object.assign({},t,{backToSignin:function(){e.setState({redirectToSignIn:!0})}}))}}),r.a.createElement(sa.a,{exact:!0,path:"/account/lostValidationCode",render:function(t){return r.a.createElement(Da,Object.assign({},t,{email:e.state.email,backToSignin:function(){e.setState({loading:!1,signIn:!0,lostValidationCodePressed:!1})}}))}}),r.a.createElement(sa.a,{exact:!0,path:"/account/forgotPassword",render:function(t){return r.a.createElement(Ra,Object.assign({},t,{back:function(){e.setState({loading:!1,signIn:!0,forgotPasswordPressed:!1})},email:e.state.email}))}}),r.a.createElement(sa.a,{exact:!0,path:"/account/signIn",render:function(t){return r.a.createElement(Ea,{email:e.props.email,isLoading:function(t){e.setState({loading:t})},createAccountPressed:function(){e.setState({loading:!1,creatingAccount:!0,signIn:!1})},lostValidationCodePressed:function(t){e.setState({loading:!1,lostValidationCodePressed:!0,signIn:!1,email:t})},forgotPasswordPressed:function(t){e.setState({loading:!1,signIn:!1,email:t,forgotPasswordPressed:!0})},userLoggedIn:e.userSigningIn})}}))}},{key:"render",value:function(){var e=this.state,t=e.isSmall,a=e.loading,n=e.creatingAccount,i=e.signIn,o=e.forgotPasswordPressed,s=e.lostValidationCodePressed,l=e.rememberMeAccounts,c=e.redirectToSignIn;this.state.signIn=0===Object.keys(l).length&&"/account/register"!==d,this.state.creatingAccount=!1,this.state.lostValidationCodePressed=!1,this.state.forgotPasswordPressed=!1,this.state.redirectToSignIn=!1;var d=this.props.location.pathname;return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"..",paddingBottom:"5%"}},r.a.createElement("div",{className:"accCardStyle",style:{width:"450px",border:"2px #74bdf1 solid",borderRadius:"1%",alignSelf:t?"flex-start":"center"}},"/account/lostValidationCode"!==d&&s&&r.a.createElement(la.a,{to:"/account/lostValidationCode"}),ro.getState().login&&r.a.createElement(la.a,{to:"/transfer"}),"/account/register"!==d&&n&&r.a.createElement(la.a,{to:"/account/register"}),"/account/forgotPassword"!==d&&o&&r.a.createElement(la.a,{to:"/account/forgotPassword"}),c&&r.a.createElement(la.a,{to:"/account/signIn"}),"/account"===d&&i&&r.a.createElement(la.a,{from:"/account",to:"/account/signIn"}),a&&r.a.createElement(ma.a,null),t&&this.getInnerCard(),!t&&r.a.createElement(da.a,null,r.a.createElement(ua.a,{style:{padding:"3em"}},this.getInnerCard()))))}}]),t}(n.Component)),Ma=a(596),Va=a(283),_a=a(583),qa=a(47),Wa=a(318);function Ha(){return window.innerWidth<=760}var Ga=function(e,t){return Object(X.a)({},e,{tasks:t})},Ja=function(e){var t,a=e.entities,n=e.selectedTasks,r=e.source,i=e.destination;if(r.droppableId===i.droppableId){var o=ue(r.droppableId),s=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),i=Object(Wa.a)(r,1)[0];return n.splice(a,0,i),n}(o.tasks,r.index,i.index),l=o.tasks[r.index],c=Object(X.a)({},a,Object(pa.a)({},o.id,Ga(o,s))),d=n[r.droppableId];return 0===d.length&&d.push(l),Object(X.a)({},c,{selectedTasks:d,fromTo:[o,o]})}var u=ue(r.droppableId),m=ue(i.droppableId),p=u.tasks[r.index],h=Object(qa.a)(u.tasks),f=Object(qa.a)(m.tasks);f.find(function(e){return e.name===p.name})||f.splice(i.index,0,p);var g=Object(X.a)({},a,(t={},Object(pa.a)(t,u.id,Ga(u,h)),Object(pa.a)(t,m.id,Ga(m,f)),t)),b=n[r.droppableId];return 0===b.length&&b.push(p),Object(X.a)({},g,{selectedTasks:b,fromTo:[u,m]})},Ya=function(e,t){return e[Object.keys(e).find(function(a){return e[a].tasks.includes(t)})]},Ka=function(e,t,a){if(!t.length)return[a];if(null==e)return t;var n=e.tasks.indexOf(a),r=t[t.length-1],i=e.tasks.indexOf(r);if(n===i)return[];var o=n>i,s=o?i:n,l=o?n:i,c=e.tasks.slice(s,l+1).filter(function(e){return!t.includes(e)}),d=o?c:Object(qa.a)(c).reverse();return[].concat(Object(qa.a)(t),Object(qa.a)(d))},Xa=function(e){return e.selectedTasks.left.length+e.selectedTasks.right.length>1?Qa(e):Ja(e)},Qa=function(e){var t,a=e.entities,n=e.selectedTasks,r=e.source,i=e.destination,o=ue(r.droppableId),s=o.tasks[r.index],l=n[r.droppableId];l.sort(function(e,t){if(e===s)return-1;if(t===s)return 1;var n=Ya(a,e),r=Ya(a,t);if(!n||!r)return-1;var i=n.tasks.indexOf(e),o=r.tasks.indexOf(t);return i!==o?i-o:-1}),n[i.droppableId]=[];var c=i.index,d=JSON.parse(JSON.stringify(o)),u=Object.keys(a).reduce(function(e,t){var n=a[t].tasks.filter(function(e){return!Boolean(l.find(function(t){return t.name===e.name}))});return e[t].tasks=n,e},a),m=u[i.droppableId],p=function(){var e,t=Object(X.a)({},m);return(e=t.tasks).splice.apply(e,[c,0].concat(Object(qa.a)(l))),t}(),h=Object(X.a)({},u,(t={},Object(pa.a)(t,d.id,d),Object(pa.a)(t,m.id,Ga(m,p.tasks)),t)),f=Object(X.a)({},a,h),g=r.droppableId===i.droppableId?[p,p]:[d,p];return Object(X.a)({},f,{selectedTasks:l,fromTo:g})},Za=a(97),$a=a(148),en=a.n($a),tn=a(149),an=a.n(tn),nn=a(287),rn=a.n(nn),on=a(63),sn=a(98);function ln(){var e=Object(Za.a)(["\n  left: -","px;\n  top: -","px;\n  color: ",";\n  background: ",";\n  border-radius: 50%;\n  height: ","px;\n  width: ","px;\n  line-height: ","px;\n  position: absolute;\n  text-align: center;\n  font-size: 1.8rem;\n"]);return ln=function(){return e},e}function cn(){var e=Object(Za.a)(["\n  outline: none;\n  user-select: none;\n  background-color: ",";\n  color: ",",\n  display: flex;\n  flex-direction: column; \n  padding: 5px;\n  "," ","\n"]);return cn=function(){return e},e}var dn=sn.a.div(cn(),function(e){return un(e.isSelected)},function(e){return mn(e.isSelected)},function(e){return e.isDragging?"box-shadow: 2px 2px 1px ".concat("#333",";"):""},function(e){return e.isGhosting?"opacity: 0.2;":""}),un=function(e,t){return t?"#888":e?"#d9edf7":"#ffffff"},mn=function(e,t){return t?"#888":e?"#31708f":"#333333"},pn={enter:13,escape:27,arrowDown:40,arrowUp:38,tab:9},hn=Object(sn.a)("div")(ln(),15,15,"#fff","#337ab7",30,30,30),fn=0,gn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onKeyDown=function(e,t,n){if(t.dragHandleProps&&t.dragHandleProps.onKeyDown(e),!e.defaultPrevented&&!n.isDragging&&e.keyCode===pn.enter){e.preventDefault();var r=e.metaKey||e.ctrlKey,i=e.shiftKey;a.performAction(r,i)}},a.onClick=function(e){if(!e.defaultPrevented&&e.button===fn){e.preventDefault();var t=e.metaKey||e.ctrlKey,n=e.shiftKey;a.performAction(t,n)}},a.onTouchStart=function(e){a.setState({dragging:!1})},a.onTouchMove=function(e){a.setState({dragging:!0})},a.onTouchEnd=function(e){if(!e.defaultPrevented&&!a.state.dragging)return e.preventDefault(),a.props.toggleSelectionInGroup(a.props.file),!1},a.performAction=function(e,t){var n=a.props,r=n.toggleSelection,i=n.toggleSelectionInGroup,o=n.multiSelectTo;e?i(a.props.file):t?o(a.props.file):r(a.props.file)},a.humanFileSize=a.humanFileSize.bind(Object(ca.a)(Object(ca.a)(a))),a.state={isDragging:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.isSelected!==this.props.isSelected||e.isGhosting!==this.props.isGhosting||e.file!==this.props.file}}]),Object(l.a)(t,[{key:"humanFileSize",value:function(e){if(Math.abs(e)<1024)return e+" B";var t=["kB","MB","GB","TB","PB","EB","ZB","YB"],a=-1;do{e/=1024,++a}while(Math.abs(e)>=1024&&a<t.length-1);return e.toFixed(1)+" "+t[a]}},{key:"render",value:function(){var e=this,t=this.props,a=t.index,n=t.onDoubleClick,i=t.isSelected,o=t.isGhosting,s=t.endpoint,l=this.props.file,c=l.name,d=l.dir,u=l.perm,m=l.time,p=l.size,h=0!==m||u||0!==p,f={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},g=new Date(1e3*m);return r.a.createElement(on.b,{draggableId:s.side+" "+JSON.stringify(this.props.file),index:a},function(t,a){var l=we(s),b=a.isDragging&&l>1;return r.a.createElement(dn,Object.assign({onDoubleClick:function(){d&&n(e.props.file.name,e.props.file.id)}},t.draggableProps,t.dragHandleProps,{ref:t.innerRef,onClick:e.onClick,onTouchEnd:function(t){e.onTouchEnd(t)},onTouchStart:function(t){e.onTouchStart(t)},onTouchMove:function(t){e.onTouchMove(t)},onKeyDown:function(n){return e.onKeyDown(n,t,a)},isSelected:i,isGhosting:b&&o}),r.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"row",justifyContent:"flex-start"}},d&&r.a.createElement(en.a,null),!d&&r.a.createElement(an.a,null),r.a.createElement("p",{style:{marginLeft:"10px",flexGrow:1,textAlign:"left"}}," ",c," "),r.a.createElement(Qt.a,{style:{width:"40px",float:"right"},onTouchStart:function(){n(e.props.file.name)}},r.a.createElement(rn.a,null))),b&&r.a.createElement(hn,null,l),h&&r.a.createElement("div",{style:{display:"flex",flexGrow:1,flexDirection:"row",justifyContent:"space-between"}},0!==m&&r.a.createElement("p",{style:{fontSize:"10px",color:"#444"}},new Intl.DateTimeFormat("en-US",f).format(g)," "),u&&r.a.createElement("p",null," ",u," "),0!==p&&r.a.createElement("p",{style:{fontSize:"10px",color:"#444"}}," ",e.humanFileSize(p)," ")))})}}]),t}(n.Component);function bn(){var e=Object(Za.a)(["\n  left: -","px;\n  top: -","px;\n  color: ",";\n  background: ",";\n  border-radius: 50%;\n  height: ","px;\n  width: ","px;\n  line-height: ","px;\n  position: absolute;\n  text-align: center;\n  font-size: 1.8rem;\n"]);return bn=function(){return e},e}function yn(){var e=Object(Za.a)(["\n  outline: none;\n  user-select: none;\n  background-color: ",";\n  color: ",",\n  display: inline;\n  white-space: nowrap;\n  "," ","\n"]);return yn=function(){return e},e}var En=sn.a.tr(yn(),function(e){return vn(e.isSelected)},function(e){return wn(e.isSelected)},function(e){return e.isDragging?"box-shadow: 2px 2px 1px ".concat("#333",";"):""},function(e){return e.isGhosting?"opacity: 0.2;":""}),vn=function(e,t){return t?"#888":e?"#d9edf7":"#ffffff"},wn=function(e,t){return t?"#888":e?"#31708f":"#333333"},Sn={enter:13,escape:27,arrowDown:40,arrowUp:38,tab:9},On=Object(sn.a)("div")(bn(),15,15,"#fff","#337ab7",30,30,30),kn=0,Cn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onKeyDown=function(e,t,n){if(t.dragHandleProps&&t.dragHandleProps.onKeyDown(e),!e.defaultPrevented&&!n.isDragging&&e.keyCode===Sn.enter){e.preventDefault();var r=e.metaKey||e.ctrlKey,i=e.shiftKey;a.performAction(r,i)}},a.onClick=function(e){if(!e.defaultPrevented&&e.button===kn){e.preventDefault();var t=e.metaKey||e.ctrlKey,n=e.shiftKey;a.performAction(t,n)}},a.onTouchStart=function(e){return a.clientX=e.touches[0].clientX,a.clientY=e.touches[0].clientY,a.setState({dragging:!1}),!0},a.onTouchMove=function(e){a.setState({dragging:!0})},a.onTouchEnd=function(e){if(e.changedTouches&&(a.deltaX=e.changedTouches[0].clientX-a.clientX,a.deltaY=e.changedTouches[0].clientY-a.clientY),!(e.defaultPrevented||a.state.dragging||a.deltaX&&Math.abs(a.deltaX)>5||a.deltaY&&Math.abs(a.deltaY)>5))return a.timestamp?Date.now()-a.timestamp<200&&a.props.file.dir&&a.props.onDoubleClick(a.props.file.name,a.props.file.id):a.timestamp=Date.now(),a.timestamp=Date.now(),e.preventDefault(),a.props.toggleSelectionInGroup(a.props.file),!1},a.performAction=function(e,t){var n=a.props,r=n.toggleSelection,i=n.toggleSelectionInGroup,o=n.multiSelectTo;e?i(a.props.file):t?o(a.props.file):r(a.props.file)},a.humanFileSize=a.humanFileSize.bind(Object(ca.a)(Object(ca.a)(a))),a.state={isDragging:!1},a.arraysEqual=a.arraysEqual.bind(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"arraysEqual",value:function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(e[a]!==t[a])return!1;return!0}},{key:"shouldComponentUpdate",value:function(e,t){return!this.arraysEqual(e.columns,this.props.columns)||e.posit0!==this.props.posit0||e.posit1!==this.props.posit1||e.posit2!==this.props.posit2||e.posit3!==this.props.posit3||e.isSelected!==this.props.isSelected||e.isGhosting!==this.props.isGhosting||e.file!==this.props.file}},{key:"componentWillUnmount",value:function(){window.removeEventListener("touchstart",this.onTouchStart)}},{key:"componentDidMount",value:function(){window.addEventListener("touchstart",this.onTouchStart)}}]),Object(l.a)(t,[{key:"humanFileSize",value:function(e){if(Math.abs(e)<1024)return e+" B";var t=["kB","MB","GB","TB","PB","EB","ZB","YB"],a=-1;do{e/=1024,++a}while(Math.abs(e)>=1024&&a<t.length-1);return e.toFixed(1)+" "+t[a]}},{key:"render",value:function(){var e=this,t=this.props,a=t.index,n=t.onDoubleClick,i=t.isSelected,o=t.isGhosting,s=t.endpoint,l=t.posit0,c=t.posit1,d=t.posit2,u=t.posit3,m=t.columns,p=t.fileId,h=this.props.file,f=h.name,g=h.dir,b=h.perm,y=h.time,E=h.size,v={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},w=new Date(1e3*y),S=(Ha?this.onTouchEnd:this.onClick,{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",marginLeft:"10px",textAlign:"left",display:"inline-block"});return r.a.createElement(on.b,{draggableId:s.side+" "+JSON.stringify(this.props.file),index:a},function(t,a){var h=we(s),O=a.isDragging&&h>1;return r.a.createElement(En,Object.assign({onDoubleClick:function(){g&&n(e.props.file.name,e.props.file.id)}},t.draggableProps,t.dragHandleProps,{ref:t.innerRef,width:"100px",onClick:function(t){e.onTouchEnd(t)},onTouchMove:function(t){e.onTouchMove(t)},onTouchEnd:function(t){e.onTouchEnd(t)},onKeyDown:function(n){return e.onKeyDown(n,t,a)},isSelected:i,isGhosting:O&&o}),O&&r.a.createElement(On,null,h),m[0]&&r.a.createElement("td",{style:{float:"left",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},g&&r.a.createElement(en.a,{style:{width:40}}),!g&&r.a.createElement(an.a,{style:{width:40}}),r.a.createElement("p",{id:"filename"+s.side+p,style:Object(X.a)({},S,{width:l-40,minWidth:"50"})}," ",f," ")),m[1]&&r.a.createElement("td",{style:{borderLeft:"1px solid lightgray",whiteSpace:"nowrap",overflow:"hidden"}},r.a.createElement("p",{id:"date"+s.side+p,style:Object(X.a)({},S,{width:c})},0===y?"Not Available":new Intl.DateTimeFormat("en-US",v).format(w))),m[2]&&r.a.createElement("td",{style:{borderLeft:"1px solid lightgray",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},r.a.createElement("p",{id:"perm"+s.side+p,style:Object(X.a)({},S,{width:d})}," ",b||"N/A"," ")),m[3]&&r.a.createElement("td",{style:{borderLeft:"1px solid lightgray",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},r.a.createElement("p",{id:"size"+s.side+p,style:Object(X.a)({},S,{width:u})}," ",0===E?"N/A":e.humanFileSize(E)," ")))})}}]),t}(n.Component),jn=a(319),xn=a(577),Pn=a(159),Tn=a.n(Pn),Dn=a(613),An=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleRequestSort=function(e){var t=e,n="desc";a.state.orderBy===e&&"desc"===a.state.order&&(n="asc"),a.setState({order:n,orderBy:t}),a.queueFunc()},a.generateResizer=function(e){return r.a.createElement("div",{style:{top:0,right:0,width:"3px",position:"absolute",cursor:"col-resize",backgroundColor:"#00000000",userSelect:"none",height:"100%"},onMouseDown:function(t){a.pageX=t.pageX,a.target=e;var n=document.getElementById("browser"+a.props.endpoint.side).getBoundingClientRect();a.setState({showBar:e+1,leftPosition:t.clientX-n.left})}})},a.onMouseMove=function(e){var t=document.getElementById("browser"+a.props.endpoint.side).getBoundingClientRect();if(void 0!==a.target){var n=a.state.headerCompactStylePos;n[a.target]+=e.pageX-a.pageX,n[a.target]<70&&(n[a.target]=70),a.pageX=e.pageX;var r=e.clientX-t.left;a.setState({headerCompactStylePos:n,leftPosition:r})}},a.handleClose=function(e){e.preventDefault(),a.setState({anchorEl:null})},a.onMouseUp=function(e){a.setState({compactStylePos:a.state.headerCompactStylePos.slice(),showBar:null}),a.pageX=void 0,a.target=void 0},a.flippingChange=function(e){return"Asc"===e?"Desc":"Asc"},a.handleRequestSort=function(e){return function(){var t=a.state,n=t.orderBy,r=t.columnsOrder;n!==e?n=e:r[n]=a.flippingChange(r[n]),a.props.sortBy(a.props.sortFunctions[n][r[n]]),a.setState({orderBy:n,columnsOrder:r})}},a.state={headerCompactStylePos:[100,150,70,70],compactStylePos:[100,150,70,70],columns:[!0,!0,!0,!0],orderBy:-1,columnsOrder:["Desc","Desc","Desc","Desc"],leftPosition:0,showBar:null},a.generateResizer=a.generateResizer.bind(Object(ca.a)(Object(ca.a)(a))),a.contextMenu=a.contextMenu.bind(Object(ca.a)(Object(ca.a)(a))),a.handleClose=a.handleClose.bind(Object(ca.a)(Object(ca.a)(a))),a.CompactTable=r.a.createRef(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.headerCompactStylePos,t=e.reduce(function(e,t){return e+t},0),a=this.CompactTable.current.offsetWidth/t,n=e.map(function(e){return e*a});e=n.map(function(e){return e<70?70:e}),this.setState({headerCompactStylePos:e,compactStylePos:e}),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)}},{key:"contextMenu",value:function(e){return e.preventDefault(),this.setState({anchorEl:e.currentTarget}),this.offset=e.pageX-this.refs.CompactHeader.getBoundingClientRect().left,!1}},{key:"render",value:function(){var e=this,t=this.props,a=t.displayList,n=t.list,i=t.selectedTasks,o=t.endpoint,s=t.draggingTask,l=t.toggleSelection,c=t.toggleSelectionInGroup,d=t.multiSelectTo,u=t.onClick,m=t.onDoubleClick,p=this.state,h=p.compactStylePos,f=p.headerCompactStylePos,g=p.anchorEl,b=p.columns,y=p.leftPosition,E=p.showBar,v=p.orderBy,w=p.columnsOrder,S=["Filename","Date","Permission","Size"],O=[0,1,2,3].filter(function(e){return b[e]}),k={textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",marginLeft:"10px",textAlign:"left",display:"inline-block"},C=function(t){return function(){var a=b.slice();a[t]=!a[t],e.setState({columns:a})}},j=O.map(function(t){return r.a.createElement("th",{style:{borderLeft:"1px solid darkgray",borderBottom:"1px solid gray",height:"10px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"visible",position:"relative"}},r.a.createElement(Dn.a,{id:o.side+S[t],style:Object(X.a)({},k,{width:f[t]}),active:v===t,direction:w[t],onClick:e.handleRequestSort(t)},S[t]),e.generateResizer(t))});return r.a.createElement("div",{ref:this.CompactTable},r.a.createElement("table",{id:"tableHeader"+this.props.endpoint.side},r.a.createElement("thead",{style:{boxShadow:"0px 0px 5px #aaaaaa",overflow:"visible"},onContextMenu:this.contextMenu,ref:"CompactHeader"},r.a.createElement("tr",null,E&&r.a.createElement("div",{style:{borderLeft:"1px solid black",height:"270px",position:"absolute",left:y+17+"px"}}),j))),r.a.createElement(jn.a,{id:"simple-menu",anchorEl:g,open:Boolean(g),onClose:this.handleClose,style:{width:"200px",left:this.offset+"px",top:"50px"},onContextMenu:this.handleClose},r.a.createElement(xn.a,{onClick:C(1)},b[1]&&r.a.createElement(Tn.a,null),"Date"),r.a.createElement(xn.a,{onClick:C(2)},b[2]&&r.a.createElement(Tn.a,null),"Permission"),r.a.createElement(xn.a,{onClick:C(3)},b[3]&&r.a.createElement(Tn.a,null),"File Size")),r.a.createElement("table",null,r.a.createElement("tbody",null,a.map(function(e,t){var a=n[e],p=Boolean(-1!==i.indexOf(a)),f=p&&Boolean(s)&&s.name!==a.name;return r.a.createElement(Cn,{fileId:e,posit0:h[0],posit1:h[1],posit2:h[2],posit3:h[3],key:e,index:t,file:a,columns:b.slice(),selectionCount:i.length,onClick:u,onDoubleClick:m,side:o.side,isSelected:p,endpoint:o,isGhosting:f,toggleSelection:l,toggleSelectionInGroup:c,multiSelectTo:d})}))))}}]),t}(n.Component),Nn=a(295),In=a.n(Nn),Fn=a(296),Ln=a.n(Fn),Bn=a(293),zn=a.n(Bn),Rn=a(294),Un=a.n(Rn),Mn=a(297),Vn=a.n(Mn),_n=a(150),qn=a.n(_n),Wn=a(608),Hn=a(610),Gn=a(612),Jn=a(582),Yn=a(580),Kn=a(581),Xn=a(579),Qn=a(288),Zn=a.n(Qn),$n=a(289),er=a.n($n),tr=a(290),ar=a.n(tr),nr=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.directoryPath!==this.props.directoryPath||e.endpoint!==this.props.endpoint}},{key:"render",value:function(){var e=this.props,t=e.endpoint,a=e.directoryPath,n=e.lastestId,i=new Zn.a({debug:!0,options:{chunking:{enabled:!0,partSize:5e5,concurrent:{enabled:!1}},request:{endpoint:"/api/stork/upload",params:{directoryPath:encodeURI(ce(t.uri,a,"")),credential:JSON.stringify(t.credential),id:n,map:JSON.stringify(ie(t))}},retry:{enableAuto:!0},callbacks:{onError:function(e,t,a,n){console.log("error occurred - "+a)},onStatusChange:function(e,t,a){"submitted"===a&&no.emit("messageOccured","Upload Task has been submitted"),"upload successful"===a&&no.emit("messageOccured","Uploading succeed!")}}}});return r.a.createElement(er.a,{uploader:i,style:{flexGrow:1,padding:"5px"}},r.a.createElement(ar.a,{style:{fontSize:"15px",width:"100%"}}))}}]),t}(n.Component),rr=a(578),ir=a(616),or=a(270),sr=a(609),lr=a(137),cr=a(291),dr=function(e){function t(e){var a,n;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).toggleSelection=function(e){var t=a.props.endpoint,n=be(t);ye(n.includes(e)?n.length>1?[e]:[]:[e],t)},a.toggleSelectionInGroup=function(e){var t=a.props.endpoint,n=be(t),r=n.indexOf(e);if(-1!==r){var i=Object(qa.a)(n);i.splice(r,1),ye(i,t)}else ye([].concat(Object(qa.a)(n),[e]),t)},a.multiSelectTo=function(e){var t=a.props.endpoint,n=Ka(de()[t.side],be(t),e);null!=n&&ye(n,t)},a.unselectAll=function(){Se()},a.onWindowKeyDown=function(e){e.defaultPrevented||"Escape"===e.key&&a.unselectAll()},a.onWindowClick=function(e){e.defaultPrevented},a.onWindowTouchEnd=function(e){e.defaultPrevented||(Date.now()-a.timestamp<200&&a.unselectAll(),a.timestamp=Date.now())},a.filenameAscendingOrderSort=function(e){return e.sort(function(e,t){return e.dir&&!t.dir?-1:!e.dir&&t.dir?1:e.name.localeCompare(t.name)})},a.filenameDescendingOrderSort=function(e){return e.sort(function(e,t){return e.dir&&!t.dir?-1:!e.dir&&t.dir?1:t.name.localeCompare(e.name)})},a.permissionAscendingOrderSort=function(e){return e.sort(function(e,t){return e.perm&&t.perm?e.perm.localeCompare(t.perm):0})},a.permissionDescendingOrderSort=function(e){return e.sort(function(e,t){return e.perm&&t.perm?t.perm.localeCompare(e.perm):0})},a.sortBy=function(e){var t=a.props.endpoint,n=a.state,r=n.directoryPath,i=n.ids;me(e(pe(t)),r,i,t),a.setState({directoryPath:r,ids:i})},a.handleClickOpen=function(e){a.setState({openShare:!0,shareUrl:e})},a.handleClickOpenAddFolder=function(){a.setState({openAFolder:!0})},a.handleClose=function(){a.setState({openShare:!1,openAFolder:!1})},a.handleCloseWithFolderAdded=function(){var e=a.props,t=e.endpoint,n=e.setLoading,r=a.state,i=r.directoryPath,o=r.addFolderName,s=r.ids;a.setState({openShare:!1,openAFolder:!1});var l=ce(t.uri,i,o),c=L(t);L(t)===S&&(l=o),function(e,t,a,n,r){$e.apply(this,arguments)}(l,c,t,function(e){n(!0),a.getFilesFromBackendWithPath(t,i,s)},function(e){a._handleError(e)})},a._handleError=function(e){no.emit("errorOccured",e)},a._handleConfirmation=function(e){return window.confirm(e)},a._handleAddFolderTextFieldChange=function(e){a.setState({addFolderName:e.target.value})},a.handleCloseWithFileDeleted=function(e){var t=a.props,n=t.endpoint,r=t.setLoading,i=a.state,o=i.directoryPath,s=i.ids,l=e.length,c=0;a._handleConfirmation("Are you sure you want to delete"+e.reduce(function(e,t){return e+"\n"+t.name},""))&&(r(!0),e.map(function(e){var t=ce(n.uri,o,e.name);console.log("delete before success",o,s),function(e,t,a,n,r){et.apply(this,arguments)}(t,n,e.id,function(e){console.log("delete after success",o,s),++c===l&&a.getFilesFromBackendWithPath(n,o,s)},function(e){a._handleError(e)})}))},a.state={route:"",directoryPath:(n=e.endpoint,"left"===n.side?ae.path:ne.path),ids:oe(e.endpoint),openShare:!1,shareUrl:"",openAFolder:!1,addFolderName:"",searchText:"",ignoreCase:!1,regex:!1},a.getFilesFromBackend=a.getFilesFromBackend.bind(Object(ca.a)(Object(ca.a)(a))),a.fileNodeDoubleClicked=a.fileNodeDoubleClicked.bind(Object(ca.a)(Object(ca.a)(a))),a.getFilesFromBackendWithPath=a.getFilesFromBackendWithPath.bind(Object(ca.a)(Object(ca.a)(a))),a.breadcrumbClicked=a.breadcrumbClicked.bind(Object(ca.a)(Object(ca.a)(a))),a.toggleSelection=a.toggleSelection.bind(Object(ca.a)(Object(ca.a)(a))),a.toggleSelectionInGroup=a.toggleSelectionInGroup.bind(Object(ca.a)(Object(ca.a)(a))),a.multiSelectTo=a.multiSelectTo.bind(Object(ca.a)(Object(ca.a)(a))),a.onWindowTouchEnd=a.onWindowTouchEnd.bind(Object(ca.a)(Object(ca.a)(a))),a.onWindowKeyDown=a.onWindowKeyDown.bind(Object(ca.a)(Object(ca.a)(a))),a.onWindowClick=a.onWindowClick.bind(Object(ca.a)(Object(ca.a)(a))),a.fileChangeHandler=a.fileChangeHandler.bind(Object(ca.a)(Object(ca.a)(a))),a._handleAddFolderTextFieldChange=a._handleAddFolderTextFieldChange.bind(Object(ca.a)(Object(ca.a)(a))),a.filenameAscendingOrderSort=a.filenameAscendingOrderSort.bind(Object(ca.a)(Object(ca.a)(a))),a.sizeAscendingOrderSort=a.sizeAscendingOrderSort.bind(Object(ca.a)(Object(ca.a)(a))),a.dateAscendingOrderSort=a.dateAscendingOrderSort.bind(Object(ca.a)(Object(ca.a)(a))),a.permissionAscendingOrderSort=a.permissionAscendingOrderSort.bind(Object(ca.a)(Object(ca.a)(a))),a.filenameDescendingOrderSort=a.filenameDescendingOrderSort.bind(Object(ca.a)(Object(ca.a)(a))),a.sizeDescendingOrderSort=a.sizeDescendingOrderSort.bind(Object(ca.a)(Object(ca.a)(a))),a.dateDescendingOrderSort=a.dateDescendingOrderSort.bind(Object(ca.a)(Object(ca.a)(a))),a.permissionDescendingOrderSort=a.permissionDescendingOrderSort.bind(Object(ca.a)(Object(ca.a)(a))),a.sortBy=a.sortBy.bind(Object(ca.a)(Object(ca.a)(a))),0===a.state.directoryPath.length&&a.getFilesFromBackend(e.endpoint),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.onWindowClick),window.addEventListener("keydown",this.onWindowKeyDown),window.addEventListener("touchend",this.onWindowTouchEnd),no.on("fileChange",this.fileChangeHandler),this.timestamp=Date.now()}},{key:"fileChangeHandler",value:function(){this.forceUpdate()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.onWindowClick),window.removeEventListener("keydown",this.onWindowKeyDown),window.removeEventListener("touchend",this.onWindowTouchEnd),this.unselectAll()}},{key:"fileNodeDoubleClicked",value:function(e,t){this.props.setLoading(!0),this.getFilesFromBackendWithPath(this.props.endpoint,[].concat(Object(qa.a)(this.state.directoryPath),[e]),[].concat(Object(qa.a)(this.state.ids),[t])),this.unselectAll()}},{key:"breadcrumbClicked",value:function(e){this.props.setLoading(!0),this.state.directoryPath.length=e,this.state.ids.length=e+1,this.getFilesFromBackendWithPath(this.props.endpoint,this.state.directoryPath,this.state.ids)}},{key:"getFilesFromBackend",value:function(e){this.getFilesFromBackendWithPath(e,[],[null])}},{key:"dateAscendingOrderSort",value:function(e){return e.sort(function(e,t){return e.time-t.time})}},{key:"dateDescendingOrderSort",value:function(e){return e.sort(function(e,t){return t.time-e.time})}},{key:"sizeAscendingOrderSort",value:function(e){return e.sort(function(e,t){return e.size-t.size})}},{key:"sizeDescendingOrderSort",value:function(e){return e.sort(function(e,t){return t.size-e.size})}},{key:"getFilesFromBackendWithPath",value:function(e,t,a){var n=this,r=e.uri,i=this.props.setLoading;i(!0),Qe(r=ce(r,t,""),e,a[a.length-1],function(r){me(n.filenameAscendingOrderSort(r.files),t,a,e),n.setState({directoryPath:t,ids:a}),i(!1)},function(t){n._handleError("Login Failed. Re-directing to OAuth page"),i(!1),he(e),n.unselectAll(),n.props.back(),setTimeout(function(){"dropbox:///"===L(e)?bt():L(e)===S&&Et()},2e3)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.endpoint,n=t.back,i=t.setLoading,o=t.getLoading,s=t.displayStyle,l=this.state,c=l.directoryPath,d=l.searchText,u=pe(a)||[],m=Object.keys(u);if(d.length>0)if(this.state.regex){var p=this.state.ignoreCase?"i":"";try{var h=new RegExp(d,p);m=Object.keys(u).filter(function(e){return h.test(u[e].name)})}catch(w){console.log("Invalid regex")}}else if(this.state.ignoreCase){var f=d.toLowerCase();m=Object.keys(u).filter(function(e){return u[e].name.toLowerCase().includes(f)})}else m=Object.keys(u).filter(function(e){return u[e].name.includes(d)});var g={fontSize:"15px",width:"100%"},b={flexGrow:1,padding:"5px"},y=be(a),E=o(),v=function(e){return r.a.createElement(rr.a,{id:"tooltip"},e)};return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",minHeight:"100%",maxHeight:"400px"}},r.a.createElement(Gn.a,{open:this.state.openShare,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Xn.a,{id:"form-dialog-title"},"Share"),r.a.createElement(Yn.a,{style:{width:"100%"}},r.a.createElement(Kn.a,null,"Share this URL to allow others access to the selected file:"),r.a.createElement("div",{style:{width:"96%",float:"left"}},r.a.createElement(Ta.a,{autoFocus:!0,id:"name",disabled:!0,value:this.state.shareUrl,fullWidth:!0})),r.a.createElement(cr.CopyToClipboard,{text:this.state.shareUrl,style:{float:"right",width:"3%"}},r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})))),r.a.createElement(Jn.a,null,r.a.createElement(Qt.a,{onClick:this.handleClose,color:"primary"},"Close"))),r.a.createElement(Gn.a,{open:this.state.openAFolder,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Xn.a,{id:"form-dialog-title"},"Create directory"),r.a.createElement(Yn.a,null,r.a.createElement(Ta.a,{autoFocus:!0,id:a.side+"MkdirName",label:"Directory Name",onChange:this._handleAddFolderTextFieldChange,fullWidth:!0})),r.a.createElement(Jn.a,null,r.a.createElement(Qt.a,{id:a.side+"MkdirSubmit",onClick:this.handleCloseWithFolderAdded,color:"primary"},"Create"))),r.a.createElement("div",{style:{display:"flex",alighSelf:"stretch",height:"60px",backgroundColor:"#d9edf7",width:"100%",overflowX:"scroll",overflowY:"hidden"}},r.a.createElement(ir.a,{style:{float:"left",backgroundColor:"#d9edf7",whiteSpace:"nowrap"}},r.a.createElement(ir.a.Item,{key:a.uri,style:{display:"inline-block"}},r.a.createElement(Qt.a,{style:{padding:"0px",margin:"0px"},onClick:function(){return e.breadcrumbClicked(0)}},a.uri)),c.map(function(t,a){return r.a.createElement(ir.a.Item,{key:t+a,style:{display:"inline-block"}},r.a.createElement(Qt.a,{style:{padding:"0px",margin:"0px"},onClick:function(){return e.breadcrumbClicked(a+1)}},t))}))),r.a.createElement("div",{style:{alignSelf:"stretch",display:"flex",flexDirection:"row",alignItems:"center",height:"40px",padding:"10px",backgroundColor:"#d9edf7"}},r.a.createElement(or.a,{style:{display:"flex",flexDirection:"row",flexGrow:2}},r.a.createElement(sr.a,{placement:"top",overlay:v("Download")},r.a.createElement(lr.a,{id:a.side+"DownloadButton",disabled:1!==be(a).length||be(a)[0].dir,onClick:function(){var e=ce(a.uri,c,be(a)[0].name),t=be(a);L(a)===k||"scp://"===L(a)?function(e,t,a,n){it.apply(this,arguments)}(e,a.credential,t):L(a)===j?window.open(e):function(e,t,a){rt.apply(this,arguments)}(e,a.credential,t[0].id)},style:b},r.a.createElement(zn.a,{style:g}))),r.a.createElement(sr.a,{placement:"top",overlay:v("Upload")},r.a.createElement(lr.a,{id:a.side+"UploadButton"},r.a.createElement(nr,{endpoint:a,directoryPath:c,lastestId:this.state.ids[this.state.ids.length-1]}))),r.a.createElement(sr.a,{placement:"top",overlay:v("Share")},r.a.createElement(lr.a,{id:a.size+"ShareButton",disabled:1!==be(a).length||be(a)[0].dir||!(L(a)===S||"dropbox:///"===L(a)),style:b,onClick:function(){var t=ce(a.uri,c,be(a)[0].name),n=be(a);(function(e,t,a){return nt.apply(this,arguments)})(t,a.credential,n[0].id).then(function(t){""!==t?e.handleClickOpen(t):no.emit("errorOccured","Error encountered while generating link")})}},r.a.createElement(Un.a,{style:g}))),r.a.createElement(sr.a,{placement:"top",overlay:v("New Folder")},r.a.createElement(lr.a,{id:a.side+"MkdirButton",style:b,onClick:function(){e.handleClickOpenAddFolder()}},r.a.createElement(In.a,{style:g}))),r.a.createElement(sr.a,{placement:"top",overlay:v("Delete")},r.a.createElement(lr.a,{id:a.side+"DeleteButton",disabled:be(a).length<1,onClick:function(){e.handleCloseWithFileDeleted(be(a))},style:b},r.a.createElement(Ln.a,{style:g}))),r.a.createElement(sr.a,{placement:"top",overlay:v("Refresh")},r.a.createElement(lr.a,{id:a.side+"RefreshButton",style:b,onClick:function(){i(!0),e.getFilesFromBackendWithPath(a,c,e.state.ids)}},r.a.createElement(qn.a,{style:g}))),r.a.createElement(sr.a,{placement:"top",overlay:v("Log out")},r.a.createElement(lr.a,{id:a.side+"LogoutButton",bsStyle:"primary",style:b,onClick:function(){he(a),e.unselectAll(),n()}},r.a.createElement(Vn.a,{style:g}))))),r.a.createElement("div",{style:{alignSelf:"stretch",display:"flex",flexDirection:"row",alignItems:"center",height:"40px",padding:"10px",backgroundColor:"#d9edf7"}},r.a.createElement(Wn.a,{style:{flex:1,background:"#d9edf7",borderRadius:"5px"}},r.a.createElement(Hn.a,{id:a.side+"Search",placeholder:"Search",onChange:function(t){e.setState({searchText:t.target.value})}}),r.a.createElement(Wn.a.Button,null,r.a.createElement(sr.a,{placement:"top",overlay:v("Ignore Case")},r.a.createElement(Qt.a,{id:a.side+"IgnoreCase",style:{color:this.state.ignoreCase?"white":"black",backgroundColor:this.state.ignoreCase?"#337AB6":"white",border:"1px solid #ccc",textTransform:"capitalize",fontFamily:"monospace",fontSize:"10px",minWidth:"17px"},onClick:function(){e.setState({ignoreCase:!e.state.ignoreCase})}},"Aa")),r.a.createElement(sr.a,{placement:"top",overlay:v("Regular Expression")},r.a.createElement(Qt.a,{id:a.side+"Regex",style:{color:this.state.regex?"white":"black",backgroundColor:this.state.regex?"#337AB6":"white",border:"1px solid #ccc",fontSize:"10px",minWidth:"17px"},onClick:function(){e.setState({regex:!e.state.regex})}},r.a.createElement("b",null,"*.")))))),r.a.createElement(on.c,{droppableId:a.side},function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.droppableProps,{style:{overflowY:"scroll",width:"100%",marginTop:"0px",height:"320px"}}),!E&&0===Object.keys(u).length&&r.a.createElement("h2",null,"This directory is empty."),E&&0===Object.keys(u).length&&r.a.createElement("h2",{style:{textAlign:"center"}},"Loading..."),!E&&0===m.length&&Object.keys(u).length>0&&r.a.createElement("h2",null,"No Search Result"),"compact"===s&&!E&&0!==m.length&&r.a.createElement(An,{sortFunctions:[{Asc:e.filenameAscendingOrderSort,Desc:e.filenameDescendingOrderSort},{Asc:e.dateAscendingOrderSort,Desc:e.dateDescendingOrderSort},{Asc:e.permissionAscendingOrderSort,Desc:e.permissionDescendingOrderSort},{Asc:e.sizeAscendingOrderSort,Desc:e.sizeDescendingOrderSort}],sortBy:e.sortBy,list:u,displayList:m,selectedTasks:y,endpoint:a,draggingTask:re,toggleSelection:e.toggleSelection,onClick:e.fileNodeClicked,onDoubleClick:e.fileNodeDoubleClicked,toggleSelectionInGroup:e.toggleSelectionInGroup,multiSelectTo:e.multiSelectTo}),"comfort"===s&&m.map(function(t,n){var i=u[t],o=Boolean(-1!==y.indexOf(i)),s=o&&Boolean(re)&&re.name!==i.name;return r.a.createElement(gn,{key:t,index:n,file:i,id:t,fileId:t,selectionCount:y.length,onClick:e.fileNodeClicked,onDoubleClick:e.fileNodeDoubleClicked,side:a.side,isSelected:o,endpoint:a,isGhosting:s,toggleSelection:e.toggleSelection,toggleSelectionInGroup:e.toggleSelectionInGroup,multiSelectTo:e.multiSelectTo})}),t.placeHolder)}))}}]),t}(n.Component),ur=a(114),mr=a.n(ur),pr=a(99),hr=a.n(pr),fr=a(299),gr=a.n(fr),br=a(601),yr=a(322),Er=a(323),vr=a(298),wr=a.n(vr),Sr={root:{padding:"2px 4px",display:"flex",alignItems:"center",paddingLeft:10,paddingRight:10},input:{marginLeft:8,flex:1,width:"90%"},iconButton:{padding:10},divider:{width:1,height:28,margin:4}},Or=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={search_text:"",data:[],loading:!1},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"getEndpointListAsData",value:function(){var e=this,t=this.state.search_text;this.setState({loading:!0}),""!==t?function(e,t,a){xt.apply(this,arguments)}(t,function(t){e.setState({data:t.DATA}),e.setState({loading:!1})},function(t){no.emit("errorOccured",t),e.setState({loading:!1})}):no.emit("errorOccured","Search Text should not be empty.")}},{key:"render",value:function(){var e=this,t=this.state,a=t.search_text,n=t.loading,i=t.data,o=i.map(function(t){return r.a.createElement(wa.a,{button:!0,key:t.canonical_name,style:{background:"white",height:40},onClick:function(){ze(t,function(a){e.props.endpointAdded(t)},function(e){no.emit("errorOccured","Error Saving Your endpoint.")})}},r.a.createElement(Sa.a,{primary:t.name,secondary:t.canonical_name}))});return r.a.createElement("div",{style:{width:300,height:400,backgroundColor:"white",borderWidth:"1px",borderColor:"#005bbb",borderRadius:2,borderStyle:"solid",overflow:"hidden"}},n&&r.a.createElement(ma.a,null),r.a.createElement(yr.a,{style:Sr.root,elevation:0},r.a.createElement(Er.a,{style:Sr.input,placeholder:"Search for Endpoints",value:a,onChange:function(t){e.setState({search_text:t.target.value})}}),r.a.createElement(Ca.a,{style:Sr.iconButton,"aria-label":"Search",onClick:function(t){e.getEndpointListAsData()}},r.a.createElement(wr.a,null))),0===i.length&&r.a.createElement("h3",{style:{margin:"100px"}}," No Result "),r.a.createElement(va.a,{component:"nav",style:{overflow:"auto",height:"100%"}},i.length>0&&o))}}]),t}(n.Component),kr=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).credentialListUpdateFromBackend=function(){a.props.setLoading(!0),qe(function(e){a.setState({credList:e}),a.props.setLoading(!1)},function(e){a._handleError(e),a.props.setLoading(!1)})},a.endpointIdsListUpdateFromBackend=function(){a.props.setLoading(!0),ze({},function(e){a.setState({endpointIdsList:e}),a.props.setLoading(!1)},function(e){a._handleError(e),a.props.setLoading(!1)})},a.historyListUpdateFromBackend=function(){a.props.setLoading(!0),Le("",-1,function(e){a.setState({historyList:e.filter(function(e){return 0===e.indexOf(a.props.endpoint.uri)})}),a.props.setLoading(!1)},function(e){a._handleError("Unable to retrieve data from backend. Try log out or wait for few minutes."),a.props.setLoading(!1)})},a._handleError=function(e){no.emit("errorOccured",e)},a.handleChange=function(e){return function(t){a.setState(Object(pa.a)({},e,t.target.value))}},a.handleUrlChange=function(e){return function(e){for(var t=e.target.value,n=0,r=0;r<t.length;n+=+(":"===t[r++]));a.setState({portNumField:!(n>=2),url:e.target.value})}},a.endpointCheckin=function(e,t,n,r){a.props.setLoading(!0);for(var i=0,o=0;o<e.length;i+=+(":"===e[o++]));var s=t===B(e);if(z(e)===j&&(s=t===B(j)||t===B(x)),1===i&&!s){var l=new URL(e);l.port=t.toString,e=l.toString()}var c={uri:e,login:!0,side:a.props.endpoint.side,credential:n,portNumber:t};z(c.uri)?c.uri.startsWith("scp://")&&(c.uri="sftp://"+c.uri.substring(6),e=c.uri):a._handleError("Protocol is not understood"),Qe(e,c,null,function(n){Le(e,t,function(e){},function(e){a._handleError(e)}),a.props.loginSuccess(c)},function(e){a.props.setLoading(!1),r(e)})},a.regularSignIn=function(){var e=a.state,t=e.url,n=e.username,r=e.password,i=e.needPassword;if("://"!==t.substr(t.length-3))if(i){if(0===n.length||0===r.length)return void a._handleError("Incorrect username or password");a.endpointCheckin(a.state.url,a.state.portNum,{type:"userinfo",username:a.state.username,password:a.state.password},function(e){a._handleError("Authentication Failed")})}else a.endpointCheckin(a.state.url,a.state.portNum,{},function(){a.setState({needPassword:!0})});else a._handleError("Please enter a valid URL")},a.globusSignIn=function(){a.state.needPassword?a.endpointCheckin(a.state.url,a.state.portNum,{type:"userinfo",username:a.state.username,password:a.state.password},function(e){a._handleError("Authentication Failed")}):a.endpointCheckin(a.state.url,a.state.portNum,{},function(){a.setState({needPassword:!0})})},a.globusActivateSignin=function(){var e=a.state.endpointSelected;a.props.setLoading(!0),function(e,t,a,n,r){Me.apply(this,arguments)}(e,a.state.username,a.state.password,function(t){a.props.setLoading(!1),e.activated=!0,a.endpointModalLogin(e)},function(e){a.props.setLoading(!1),a._handleError("Authentication Failed")})},a.endpointModalAdd=function(e){a.props.setLoading(!0),ze({},function(t){a.setState({endpointIdsList:t}),a.endpointModalLogin(e),a.props.setLoading(!1)},function(e){a._handleError(e),a.props.setLoading(!1)})},a.endpointModalLogin=function(e){"false"===e.activated?(no.emit("messageOccured","Please activate your globus endpoint using credential."),a.setState({settingAuth:!0,authFunction:a.globusActivateSignin,needPassword:!0,endpointSelected:e,selectingEndpoint:!1})):(a.setState({selectingEndpoint:!1}),a.endpointCheckin("gsiftp:///",a.state.portNum,{type:"globus",globusEndpoint:e},function(e){a._handleError("Authentication Failed")}))},a.handleClick=function(e){a.inputElement.click()},a.state={historyList:e.history,endpoint:e.endpoint,credList:e.credentials||{},endpointIdsList:{},settingAuth:!1,settingAuthType:"",url:"",needPassword:!1,username:"",password:"",endpointSelected:{},selectingEndpoint:!1,portNum:-1,portNumField:!0};var n=L(e.endpoint);return n===C?a.endpointIdsListUpdateFromBackend():n!==O&&n!==k&&n!==j||a.historyListUpdateFromBackend(),a.handleChange=a.handleChange.bind(Object(ca.a)(Object(ca.a)(a))),a._handleError=a._handleError.bind(Object(ca.a)(Object(ca.a)(a))),a.handleUrlChange=a.handleUrlChange.bind(Object(ca.a)(Object(ca.a)(a))),a.getEndpointListComponentFromList=a.getEndpointListComponentFromList.bind(Object(ca.a)(Object(ca.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"deleteCredentialFromLocal",value:function(e,t){this.props.setLoading(!0);var a=JSON.parse(Oe.get(t)).filter(function(t){return t.name!==e.name});0===a.length?Oe.remove(t):Oe.set(t,JSON.stringify(a)),this.setState({credList:a}),this.props.setLoading(!1)}},{key:"getEndpointListComponentFromList",value:function(e){var t=this;return Object.keys(e).map(function(a){return r.a.createElement(wa.a,{button:!0,key:a,onClick:function(){!function(e,t,a){Ue.apply(this,arguments)}(e[a],function(e){t.endpointModalLogin(e)},function(e){t._handleError("Unable to get detail of this endpoint")})}},r.a.createElement(Aa.a,null,r.a.createElement(mr.a,null)),r.a.createElement(Sa.a,{primary:e[a].name,secondary:e[a].canonical_name}),r.a.createElement(ka.a,null,r.a.createElement(Ca.a,{"aria-label":"Delete",onClick:function(){!function(e,t,a){_e.apply(this,arguments)}(e[a],function(e){t.endpointIdsListUpdateFromBackend()},function(e){t._handleError("Delete Credential Failed")})}},r.a.createElement(xa.a,null))))})}},{key:"getCredentialListComponentFromList",value:function(e,t){var a=this,n=this.state.endpoint,i=this.props.loginSuccess;return ro.getState().saveOAuthTokens?Object.keys(e).filter(function(a){return-1!==e[a].name.toLowerCase().indexOf(t.toLowerCase())&&!function(){var e=ro.getState(),t=Object(X.a)({},e.endpoint1.credential,e.endpoint2.credential);return Object.keys(t).map(function(e){return t[e]})}().includes(a)}).map(function(t){return r.a.createElement(wa.a,{button:!0,key:t,onClick:function(){var a={uri:n.uri,login:!0,credential:{uuid:t,name:e[t].name,tokenSaved:!0},side:n.side};i(a)}},r.a.createElement(Aa.a,null,r.a.createElement(mr.a,null)),r.a.createElement(Sa.a,{primary:e[t].name}),r.a.createElement(ka.a,null,r.a.createElement(Ca.a,{"aria-label":"Delete",onClick:function(){!function(e,t,a){pt.apply(this,arguments)}(t,function(e){a.credentialListUpdateFromBackend()},function(e){a._handleError("Delete Credential Failed")})}},r.a.createElement(xa.a,null))))}):e.map(function(e){return r.a.createElement(wa.a,{button:!0,onClick:function(){var t={uri:n.uri,login:!0,credential:{name:e.name,tokenSaved:!1,token:e.token},side:n.side};i(t)}},r.a.createElement(Aa.a,null,r.a.createElement(mr.a,null)),r.a.createElement(Sa.a,{primary:e.name}),r.a.createElement(ka.a,null,r.a.createElement(Ca.a,{"aria-label":"Delete",onClick:function(){return a.deleteCredentialFromLocal(e,t)}},r.a.createElement(xa.a,null))))})}},{key:"getHistoryListComponentFromList",value:function(e){var t=this;return e.map(function(e){return r.a.createElement(wa.a,{button:!0,key:e,onClick:function(){var a=new URL(e),n=a.port;0===a.port.length&&(n=B(e)),t.endpointCheckin(e,n,{},function(a){t._handleError("Please enter your credential."),t.setState({url:e,authFunction:t.regularSignIn,settingAuth:!0,needPassword:!0,portNum:n})})}},r.a.createElement(Aa.a,null,r.a.createElement(mr.a,null)),r.a.createElement(Sa.a,{primary:e}),r.a.createElement(ka.a,null,r.a.createElement(Ca.a,{"aria-label":"Delete",onClick:function(){!function(e,t,a){Ve.apply(this,arguments)}(e,function(e){t.historyListUpdateFromBackend()},function(e){t._handleError("Delete History Failed")})}},r.a.createElement(xa.a,null))))})}},{key:"render",value:function(){var e=this,t=this.state,a=t.historyList,n=t.endpoint,i=t.credList,o=t.settingAuth,s=t.authFunction,l=t.needPassword,c=t.endpointIdsList,d=t.selectingEndpoint,u=this.props.back,m=function(e){return A[e.uri.split(":")[0].toLowerCase()]}(n),p=L(n),h=function(){e.setState({selectingEndpoint:!1})};return r.a.createElement("div",null,!o&&r.a.createElement(va.a,{component:"nav",style:{overflow:"auto"}},r.a.createElement(wa.a,{button:!0,onClick:function(){u()}},r.a.createElement(Aa.a,null,r.a.createElement(hr.a,null)),r.a.createElement(Sa.a,{primary:"Back"})),r.a.createElement(wa.a,{id:n.side+"Add",button:!0,onClick:function(){if("dropbox:///"===p)bt();else if(p===S)Et();else if(p===O){e.setState({settingAuth:!0,authFunction:e.regularSignIn,needPassword:!1,url:"ftp://",portNum:B("ftp://")})}else if(p===k){e.setState({settingAuth:!0,authFunction:e.regularSignIn,needPassword:!0,url:"sftp://",portNum:B("sftp://")})}else if(p===j){e.setState({settingAuth:!0,authFunction:e.regularSignIn,needPassword:!1,url:"http://",portNum:B("http://")})}else if("scp://"===p){e.setState({settingAuth:!0,authFunction:e.regularSignIn,needPassword:!1,url:"scp://",portNum:B("scp://")})}else p===C&&e.setState({selectingEndpoint:!0,authFunction:e.globusSignIn})}},r.a.createElement(Aa.a,null,r.a.createElement(gr.a,null)),r.a.createElement(Sa.a,{primary:"Add New "+m})),r.a.createElement(Oa.a,null),("dropbox:///"===p||p===S)&&this.getCredentialListComponentFromList(i,m),p===C&&this.getEndpointListComponentFromList(c),"dropbox:///"!==p&&p!==S&&p!==C&&this.getHistoryListComponentFromList(a)),r.a.createElement(br.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"To Select globus endpoints",open:d,onClose:h,style:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"center"}},r.a.createElement(Or,{close:h,endpointAdded:this.endpointModalAdd})),o&&r.a.createElement("div",{style:{flexGrow:1,flexDirection:"column"}},r.a.createElement(Qt.a,{style:{width:"100%",textAlign:"left"},onClick:function(){e.setState({settingAuth:!1})}}," ",r.a.createElement(hr.a,null),"Back"),r.a.createElement(Oa.a,null),p!==C&&r.a.createElement("div",{style:{paddingLeft:"1%",paddingRight:"1%"}},r.a.createElement(ba.ValidatorForm,{ref:"form",onSubmit:s,onError:function(e){return console.log(e)}},r.a.createElement(ba.TextValidator,{required:!0,style:{width:"80%"},id:n.side+"LoginURI",label:"Url",value:this.state.url,onChange:this.handleUrlChange("url"),margin:"normal",variant:"outlined",autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&e.handleClick()}}),r.a.createElement(ba.TextValidator,{required:!0,style:{width:"20%",background:this.state.portNumField?"white":"#D3D3D3"},id:n.side+"LoginPort",disabled:!this.state.portNumField,label:"Port Number",value:this.state.portNumField?this.state.portNum:"-",onChange:this.handleChange("portNum"),margin:"normal",variant:"outlined",onKeyPress:function(t){"Enter"===t.key&&e.handleClick()}}))),l&&r.a.createElement("div",{style:{paddingLeft:"1%",paddingRight:"1%"}},r.a.createElement(ba.ValidatorForm,{ref:"form",onError:function(e){return console.log(e)}},r.a.createElement(ba.TextValidator,{required:!0,style:{width:"100%"},id:n.side+"LoginUsername",label:"Username",value:this.state.username,onChange:this.handleChange("username"),margin:"normal",variant:"outlined",autoFocus:"sftp://"!==this.state.url,onKeyPress:function(t){"Enter"===t.key&&e.handleClick()}}),r.a.createElement(ba.TextValidator,{required:!0,style:{width:"100%"},id:n.side+"LoginPassword",label:"Password",type:"password",value:this.state.password,onChange:this.handleChange("password"),margin:"normal",variant:"outlined",onKeyPress:function(t){"Enter"===t.key&&e.handleClick()}}))),r.a.createElement(Qt.a,{id:n.side+"LoginAuth",ref:function(t){return e.inputElement=t},style:{width:"98%",textAlign:"center",marginLeft:"1%",marginBottom:"1%"},onClick:s,color:"primary",variant:"contained"},"Next")))}}]),t}(n.Component),Cr=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e)))._handleError=function(e){no.emit("errorOccured",e)},a.credentialTypeExistsThenDo=function(e,t,n){if(a.setLoading(!0),ro.getState().saveOAuthTokens)console.log("Checking backend for "+e+" credentials"),qe(function(r){Object.keys(r).some(function(t){return-1!==r[t].name.toLowerCase().indexOf(e.toLowerCase())})?t(r):n(),a.setLoading(!1)},function(e){a._handleError("Could not get credential from our server. Maybe check your internet connection."),n(),a.setLoading(!1)});else{console.log("Checking cookies for "+e+" credentials");var r=Oe.get(e)||0;0!==r?(r=JSON.parse(r),t(r),a.setLoading(!1)):(n(),a.setLoading(!1))}};var n=function(e){return(L(e.endpoint1)===C||L(e.endpoint2)===C)&&(e.endpoint1.login||e.endpoint1.login)},r=function(e){return L(e.endpoint1)===C||L(e.endpoint2)===C||!(e.endpoint1.login||e.endpoint1.login)},i=ro.getState();return a.state={history:e.history.filter(function(t){return 0===t.indexOf(e.endpoint.uri)}),creds:{},endpoint:e.endpoint,mode:e.mode,loading:!1,oneSideIsLoggedInAsGridftp:n(i),gridftpIsOpen:r(i)},a.unsubcribe=ro.subscribe(function(){var e=ro.getState(),t=n(e),i=r(e);t===a.state.oneSideIsLoggedInAsGridftp&&i===a.state.gridftpIsOpen||a.setState({oneSideIsLoggedInAsGridftp:t,gridftpIsOpen:i})}),a.setLoading=a.setLoading.bind(Object(ca.a)(Object(ca.a)(a))),a.getLoading=a.getLoading.bind(Object(ca.a)(Object(ca.a)(a))),a.credentialTypeExistsThenDo=a.credentialTypeExistsThenDo.bind(Object(ca.a)(Object(ca.a)(a))),a._handleError=a._handleError.bind(Object(ca.a)(Object(ca.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"setLoading",value:function(e){this.setState({loading:e})}},{key:"getLoading",value:function(){return this.state.loading}},{key:"componentDidMount",value:function(){Object(Va.loadCSS)("https://use.fontawesome.com/releases/v5.1.0/css/all.css",document.querySelector("#font-awesome-css"))}},{key:"render",value:function(){var e=this,t=this.state,a=t.endpoint,n=t.mode,i=t.history,o=t.type,s=t.loading,l=t.creds,c=t.oneSideIsLoggedInAsGridftp,d=t.gridftpIsOpen,u=this.props.update,m=function(t){return function(n){e.setState({mode:1,history:e.props.history.filter(function(e){return 0===e.indexOf(t)}),endpoint:Object(X.a)({},a,{uri:t}),creds:n}),e.props.update({mode:1,endpoint:Object(X.a)({},a,{uri:t})})}},p=function(){e.setState({mode:0,endpoint:Object(X.a)({},a,{uri:"",login:!1,credential:{}})}),e.props.update({mode:0,endpoint:Object(X.a)({},a,{uri:"",login:!1,credential:{}})})},h={marginRight:"10px",fontSize:"16px",width:"20px"},f={flexGrow:1,justifyContent:"flex-start",width:"100%",fontSize:"12px",paddingLeft:"30%"};return r.a.createElement("div",{id:"browser"+a.side,style:{borderWidth:"1px",borderColor:"#005bbb",borderStyle:"solid",borderRadius:"10px",width:"auto",height:"auto",overflow:"hidden"}},!a.login&&0===n&&r.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column"}},r.a.createElement(Qt.a,{id:a.side+"DropBox",style:f,disabled:c,onClick:function(){e.credentialTypeExistsThenDo(P,m("dropbox:///"),bt)}},r.a.createElement(_a.a,{className:"fab fa-dropbox",style:h}),"DropBox"),r.a.createElement(Qt.a,{id:a.side+"FTP",style:f,disabled:c,onClick:function(){m(O)()}},r.a.createElement(_a.a,{className:"far fa-folder-open",style:h}),"FTP"),r.a.createElement(Qt.a,{id:a.side+"GoogleDrive",style:f,disabled:c,onClick:function(){e.credentialTypeExistsThenDo(T,m(S),Et)}},r.a.createElement(_a.a,{className:"fab fa-google-drive",style:h}),"Google Drive"),r.a.createElement(Qt.a,{id:a.side+"GridFTP",style:f,disabled:!d,onClick:function(){e.credentialTypeExistsThenDo("GridFTP",m(C),wt)}},r.a.createElement(_a.a,{className:"fas fa-server",style:h}),"Grid FTP"),r.a.createElement(Qt.a,{id:a.side+"HTTP",style:f,disabled:c,onClick:function(){m(j)()}},r.a.createElement(_a.a,{className:"fas fa-globe",style:h}),"HTTP/HTTPS"),r.a.createElement(Qt.a,{id:a.side+"SFTP",style:f,disabled:c,onClick:function(){m(k)()}},r.a.createElement(_a.a,{className:"fas fa-folder-open",style:h}),"SFTP"),r.a.createElement(Qt.a,{id:a.side+"SSH",style:f,disabled:c,onClick:function(){m("scp://")()}},r.a.createElement(_a.a,{className:"fas fa-terminal",style:h}),"SSH")),!a.login&&1===n&&r.a.createElement("div",null,s&&r.a.createElement(ma.a,null),r.a.createElement(kr,{endpoint:a,history:i,type:o,credentials:l,loginSuccess:function(t){e.setState({endpoint:t}),u({endpoint:t})},setLoading:this.setLoading,back:p})),a.login&&r.a.createElement("div",null,s&&r.a.createElement(ma.a,null),r.a.createElement(dr,{endpoint:a,setLoading:this.setLoading,getLoading:this.getLoading,back:p,displayStyle:this.props.displayStyle})))}}]),t}(n.Component),jr=a(565),xr=a(602),Pr=a(584),Tr=a(566),Dr=a(301),Ar=a.n(Dr),Nr=a(585),Ir=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).scrollToBottom=function(){a.messagesEnd.scrollIntoView({behavior:"smooth"})},a.state={errorMessages:[{msg:"Thank you for using OneDataShare. Currently we do not support transfers between GridFTP and other modules, GridFTP can only transfer to GridFTP.",color:"black"}]},a.onErrorOccured=a.onErrorOccured.bind(Object(ca.a)(Object(ca.a)(a))),a.onMessageOccurred=a.onMessageOccurred.bind(Object(ca.a)(Object(ca.a)(a))),a.onWarningOccurred=a.onWarningOccurred.bind(Object(ca.a)(Object(ca.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){no.on("errorOccured",this.onErrorOccured),no.on("messageOccured",this.onMessageOccurred),no.on("warningOccured",this.onWarningOccurred)}},{key:"onErrorOccured",value:function(e){var t=this.state.errorMessages;t.push({msg:e,color:"red"}),this.setState({errorMessages:t})}},{key:"onMessageOccurred",value:function(e){var t=this.state.errorMessages;t.push({msg:e,color:"black"}),this.setState({errorMessages:t})}},{key:"onWarningOccurred",value:function(e){var t=this.state.errorMessages;t.push({msg:e,color:"orange"}),this.setState({errorMessages:t})}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this,t=this.state.errorMessages;return r.a.createElement("div",{style:{textAlign:"left",borderWidth:1,height:"150px",overflow:"scroll",wordWrap:"break-word",borderStyle:"solid",borderColor:"black",padding:"5px",borderRadius:"10px"}},t.map(function(e){return r.a.createElement("p",{style:{color:e.color}},e.msg)}),r.a.createElement("p",{ref:function(t){e.messagesEnd=t}}," >"))}}]),t}(n.Component),Fr=a(300),Lr=a.n(Fr),Br=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).sendFile=function(e){if(0===e.selectedTasks.length)return no.emit("errorOccured","You did not select any files!"),0;var t=Ee(e.fromTo[0]),n=Ee(e.fromTo[1]),r=a.state.settings,i=[],o=[],s=[];e.selectedTasks.map(function(a){i.push(ce(t.uri,e.fromTo[0].path,a.name)),o.push(a.id),s.push(ce(n.uri,e.fromTo[1].path,a.name))});var l={};Object.keys(r).map(function(e){var t=r[e];"true"!==t&&"false"!==t||(t=JSON.parse(t)),l[e]=t});for(var c,d={credential:t.credential},u={credential:n.credential,id:(c=n,"left"===c.side?ae.ids[ae.ids.length-1]:ne.ids[ne.ids.length-1])},m=0;m<i.length;m++)d.id=o[m],d.uri=i[m],u.uri=s[m],Ke(d,t,u,n,l,function(t){no.emit("messageOccured","Transfer Initiated!"),fe(e)},function(e){no.emit("errorOccured",e)})},a.onDragStart=function(e){var t=JSON.parse(e.draggableId.slice(e.draggableId.indexOf(" "))),a=e.source.droppableId;ve()[a].find(function(e){return e.name===t.name})||Se(),le(t)},a.onDragEnd=function(e){var t=e.destination,n=e.source;if(t&&"CANCEL"!==e.reason){console.log(ve(),e.source,e.destination);var r=Xa({entities:de(),selectedTasks:ve(),source:n,destination:t});r.fromTo[0]===r.fromTo[1]?fe(r):a.sendFile(r),le(null)}else le(null)},a.state={endpoint1:ro.getState().endpoint1,endpoint2:ro.getState().endpoint2,mode1:0,mode2:0,history:[],width:window.innerWidth,height:window.innerHeight,settings:{optimizer:"None",overwrite:"true",verify:"true",encrypt:"true",compress:"true",retry:5},compact:ro.getState().compactViewEnabled},a.unsubcribe=ro.subscribe(function(){a.setState({endpoint1:ro.getState().endpoint1,endpoint2:ro.getState().endpoint2})}),a.printError=a.printError.bind(Object(ca.a)(Object(ca.a)(a))),a.updateDimensions=a.updateDimensions.bind(Object(ca.a)(Object(ca.a)(a))),a._returnBrowseComponent1=a._returnBrowseComponent1.bind(Object(ca.a)(Object(ca.a)(a))),a._returnBrowseComponent2=a._returnBrowseComponent2.bind(Object(ca.a)(Object(ca.a)(a))),a.updateBrowseOne=a.updateBrowseOne.bind(Object(ca.a)(Object(ca.a)(a))),a.updateBrowseTwo=a.updateBrowseTwo.bind(Object(ca.a)(Object(ca.a)(a))),a.sendFile=a.sendFile.bind(Object(ca.a)(Object(ca.a)(a))),a.onSendToRight=a.onSendToRight.bind(Object(ca.a)(Object(ca.a)(a))),a.onSendToLeft=a.onSendToLeft.bind(Object(ca.a)(Object(ca.a)(a))),a.printError(),Xt(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"printError",value:function(){var e=Lr.a.parse(this.props.location.search);e&&e.error&&setTimeout(function(){no.emit("errorOccured",e.error)},500)}},{key:"componentDidMount",value:function(){document.title="OneDataShare - Transfer",window.addEventListener("resize",this.updateDimensions),this.setState({width:window.innerWidth,height:window.innerHeight}),this.setState({compact:ro.getState().compactViewEnabled})}},{key:"updateDimensions",value:function(){var e=this.state.width;(e>760&&Ha()||e<=760&&!Ha())&&this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"_returnBrowseComponent1",value:function(){var e=this.state,t=e.mode1,a=e.endpoint1,n=e.history,i=e.compact;return r.a.createElement(Cr,{id:"browserleft",mode:t,endpoint:a,history:n,displayStyle:i?"compact":"comfort",update:this.updateBrowseOne})}},{key:"_returnBrowseComponent2",value:function(){var e=this.state,t=e.mode2,a=e.endpoint2,n=e.history,i=e.compact;return r.a.createElement(Cr,{id:"browserright",mode:t,endpoint:a,history:n,displayStyle:i?"compact":"comfort",update:this.updateBrowseTwo})}},{key:"updateBrowseOne",value:function(e){void 0===e.mode&&(e.mode=0),this.setState({endpoint1:e.endpoint||this.state.endpoint1,mode1:e.mode}),e.endpoint&&ro.dispatch(Y(e.endpoint.side,Object(X.a)({},this.state.endpoint1,e.endpoint)))}},{key:"updateBrowseTwo",value:function(e){void 0===e.mode&&(e.mode=0),this.setState({endpoint2:e.endpoint||this.state.endpoint2,mode2:e.mode}),e.endpoint&&ro.dispatch(Y(e.endpoint.side,Object(X.a)({},this.state.endpoint2,e.endpoint)))}},{key:"onSendToRight",value:function(){var e=de(),t={fromTo:[e.left,e.right],selectedTasks:be({side:"left"})};this.sendFile(t)}},{key:"onSendToLeft",value:function(){var e=de(),t={fromTo:[e.right,e.left],selectedTasks:be({side:"right"})};console.log(t),this.sendFile(t)}},{key:"getSettingComponent",value:function(e){var t=this,a=function(e){return function(a){var n=a.target.value;t.setState({settings:Object(X.a)({},t.state.settings,Object(pa.a)({},e,n))})}},n={fontSize:"15px"},i={marginLeft:"5%",marginRight:"5%"};return r.a.createElement(Ma.a,{bsStyle:"primary"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(Ma.a.Heading,null,"Transfer Setting")),r.a.createElement(Ma.a.Body,{key:e,style:{overflow:"hidden"}},r.a.createElement(jr.a,{component:"fieldset",style:i},r.a.createElement(Tr.a,{component:"legend",style:n},"Optimization"),r.a.createElement(Pr.a,{"aria-label":"Optimization",value:this.state.settings.optimizer,onChange:a("optimizer")},r.a.createElement(ya.a,{value:"None",control:r.a.createElement(xr.a,null),label:"None"}),r.a.createElement(ya.a,{value:"2nd Order",control:r.a.createElement(xr.a,null),label:"2nd Order"}),r.a.createElement(ya.a,{value:"PCP",control:r.a.createElement(xr.a,null),label:"PCP"}))),r.a.createElement(jr.a,{component:"fieldset",style:i},r.a.createElement(Tr.a,{component:"legend",style:n},"Overwrite"),r.a.createElement(Pr.a,{"aria-label":"Overwrite",value:this.state.settings.overwrite,onChange:a("overwrite")},r.a.createElement(ya.a,{value:"true",control:r.a.createElement(xr.a,null),label:"True"}),r.a.createElement(ya.a,{value:"false",control:r.a.createElement(xr.a,null),label:"False"}))),r.a.createElement(jr.a,{component:"fieldset",style:i},r.a.createElement(Tr.a,{component:"legend",style:n},"Integrity"),r.a.createElement(Pr.a,{"aria-label":"Integrity",value:this.state.settings.verify,onChange:a("verify")},r.a.createElement(ya.a,{value:"true",control:r.a.createElement(xr.a,null),label:"True"}),r.a.createElement(ya.a,{value:"false",control:r.a.createElement(xr.a,null),label:"False"}))),r.a.createElement(jr.a,{component:"fieldset",style:i},r.a.createElement(Tr.a,{component:"legend",style:n},"Encrypt"),r.a.createElement(Pr.a,{"aria-label":"Encrypt",value:this.state.settings.encrypt,onChange:a("encrypt")},r.a.createElement(ya.a,{value:"true",control:r.a.createElement(xr.a,null),label:"True"}),r.a.createElement(ya.a,{value:"false",control:r.a.createElement(xr.a,null),label:"False"}))),r.a.createElement(jr.a,{component:"fieldset",style:i},r.a.createElement(Tr.a,{component:"legend",style:n},"Compress"),r.a.createElement(Pr.a,{"aria-label":"Compress",value:this.state.settings.compress,onChange:a("compress")},r.a.createElement(ya.a,{value:"true",control:r.a.createElement(xr.a,null),label:"True"}),r.a.createElement(ya.a,{value:"false",control:r.a.createElement(xr.a,null),label:"False"}))),r.a.createElement(jr.a,{component:"fieldset"},r.a.createElement(Tr.a,{component:"legend",style:n},"Retry Counts"),r.a.createElement(Ar.a,{value:this.state.settings.retry,min:0,max:10,step:1,onChange:function(e,a){t.setState({settings:Object(X.a)({},t.state.settings,{retry:a})})}}),r.a.createElement(Tr.a,{style:{marginTop:"20px",fontSize:"20px"}},this.state.settings.retry," Times"))))}},{key:"render",value:function(){var e=this,t=Ha(),a={height:"auto",margin:t?"10px":"0px"},n={textAlign:"center"},i=function(t){return function(a){e.setState(Object(pa.a)({},t,a.target.checked));var n=a.target.checked;!function(e,t,a,n){gt.apply(this,arguments)}(ro.getState().email,n,function(e){console.log("Compact View Preference Switched Succesfully",e),ro.dispatch(function(e){return{type:_,compactViewEnabled:e}}(n))},function(e){console.log("ERROR in updation"+e)})}};return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement(Dt.a,{xs:11,style:{display:"flex",justifyContent:"center",flexDirection:"column"}},!t&&r.a.createElement(Ma.a,{bsStyle:"primary"},r.a.createElement(ya.a,{style:{width:"200px",right:"10px",color:"white",position:"absolute"},control:r.a.createElement(Nr.a,{color:"default",style:{colorPrimary:"white",colorSecondary:"white"},checked:this.state.compact,onChange:i("compact"),value:"compact"}),label:r.a.createElement(ha.a,{style:{color:"white",fontSize:"12px"}},"Compact")}),r.a.createElement(Ma.a.Heading,null,r.a.createElement("div",{style:n},r.a.createElement("p",null,"Browse and Transfer Files"))),r.a.createElement(Ma.a.Body,{key:t,style:{overflow:"hidden"}},r.a.createElement(Nt.a,{style:{flexDirection:"column"}},r.a.createElement(on.a,{onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},r.a.createElement(Dt.a,{xs:6,style:a},this._returnBrowseComponent1()),r.a.createElement(Dt.a,{xs:6,style:a},this._returnBrowseComponent2()))),r.a.createElement(Nt.a,{style:Object(X.a)({display:"block"},n)},r.a.createElement(Qt.a,{id:"sendFromRightToLeft",style:{padding:"15px",marginRight:"10px"},onClick:this.onSendToLeft}," ",r.a.createElement(Tt.a,{glyph:"arrow-left"}),"    Send"),r.a.createElement(Qt.a,{id:"sendFromLeftToRight",style:{padding:"15px",marginLeft:"10px"},onClick:this.onSendToRight}," Send",r.a.createElement(Tt.a,{glyph:"arrow-right"}))),r.a.createElement(Ir,null))),t&&r.a.createElement(Ma.a,{bsStyle:"primary"},r.a.createElement(ya.a,{style:{width:"200px",float:"right",color:"white"},control:r.a.createElement(Nr.a,{color:"default",style:{colorPrimary:"white",colorSecondary:"white"},checked:this.state.compact,onChange:i("compact"),value:"compact"}),label:r.a.createElement(ha.a,{style:{fontSize:"12px"}},"Compact")}),r.a.createElement(Ma.a.Heading,null,r.a.createElement("p",null,"Browse and Transfer Files")),r.a.createElement(Ma.a.Body,{key:t,style:{overflow:"hidden"}},r.a.createElement(Nt.a,{style:{flexDirection:"column"}},r.a.createElement(on.a,{onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},r.a.createElement(Dt.a,{style:a},this._returnBrowseComponent1()),r.a.createElement(Nt.a,{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement(Qt.a,{id:"sendFromRightToLeft",style:{padding:"15px",marginRight:"10px"},onClick:this.onSendToLeft}," ",r.a.createElement(Tt.a,{glyph:"arrow-up"})," Send"),r.a.createElement(Qt.a,{id:"sendFromLeftToRight",style:{padding:"15px",marginLeft:"10px"},onClick:this.onSendToRight}," Send",r.a.createElement(Tt.a,{glyph:"arrow-down"}))),r.a.createElement(Nt.a,{style:a},this._returnBrowseComponent2()))),r.a.createElement("div",null," "),r.a.createElement(Ir,null)))))}}]),t}(n.Component),zr=a(592),Rr=a(594),Ur=a(589),Mr=a(593),Vr=a(588),_r=a(586),qr=a(267),Wr=a(590),Hr=a(598),Gr=a(591),Jr=a(587),Yr=a(152),Kr=a.n(Yr),Xr=a(153),Qr=a.n(Xr),Zr=a(606),$r=a(595),ei=a(8),ti=a(201),ai=a.n(ti),ni=a(202),ri=a.n(ni),ii=a(200),oi=a.n(ii),si=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){a.props.onChangePage(e,0)},a.handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a.handleLastPageButtonClick=function(e){a.props.onChangePage(e,Math.max(0,Math.ceil(a.props.count/a.props.rowsPerPage)-1))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.count,n=e.page,i=e.rowsPerPage,o=e.theme;return r.a.createElement("div",{className:t.root},r.a.createElement(Ca.a,{id:"queueFirstPageButton",onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===o.direction?r.a.createElement(oi.a,null):r.a.createElement(ai.a,null)),r.a.createElement(Ca.a,{id:"queuePrevButton",onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===o.direction?r.a.createElement(ri.a,null):r.a.createElement(hr.a,null)),r.a.createElement(Ca.a,{id:"queueNextButton",onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Next Page"},"rtl"===o.direction?r.a.createElement(hr.a,null):r.a.createElement(ri.a,null)),r.a.createElement(Ca.a,{id:"queueLastPageButton",onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(a/i)-1,"aria-label":"Last Page"},"rtl"===o.direction?r.a.createElement(ai.a,null):r.a.createElement(oi.a,null)))}}]),t}(r.a.Component),li=Object(ei.a)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit},tablePaginationActions:{color:"red"}}},{withTheme:!0})(si),ci=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).queueFunc=function(){He(!0,e.state.page,e.state.rowsPerPage,e.state.orderBy,e.state.order,function(t){var a=[];a=0===e.state.page?t.jobs.slice(0,e.state.rowsPerPage):t.jobs.slice(e.state.rowsPerPage,2*e.state.rowsPerPage),e.setState({response:t.jobs,responsesToDisplay:a,totalCount:t.totalCount})},function(e){console.log("Error in queue request to API layer")})},e.handleChangePage=function(t,a){var n;console.log("The page is:"+a),n=a>e.state.page?e.state.response.slice(e.state.rowsPerPage,2*e.state.rowsPerPage):e.state.response.slice(0,e.state.rowsPerPage),e.setState({page:a,response:e.state.response,responsesToDisplay:n});for(var r=document.getElementsByClassName("rohit"),i=0;i<r.length;i++)r[i].style.display="none";e.queueFunc()},e.handleChangeRowsPerPage=function(t){e.setState({page:0,rowsPerPage:parseInt(t.target.value)}),e.queueFunc()},e.handleRequestSort=function(t){var a=t,n="desc";e.state.orderBy===t&&"desc"===e.state.order&&(n="asc"),e.setState({order:n,orderBy:a}),e.queueFunc()},e.state={response:[],responsesToDisplay:[],selectedTab:0,page:0,rowsPerPage:10,rowsPerPageOptions:[10,20,50,100],order:"desc",orderBy:"job_id"},e.queueFunc=e.queueFunc.bind(Object(ca.a)(Object(ca.a)(e))),e.queueFunc(),e.interval=setInterval(e.queueFunc,2e3),e.toggleTabs=e.toggleTabs.bind(Object(ca.a)(Object(ca.a)(e))),Xt(),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="OneDataShare - History"}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"getStatus",value:function(e,t,a){var n={marginTop:"5%",fontWeight:"bold"};if("complete"===e)return r.a.createElement(_r.a,{now:100,label:"Complete",style:n});if("failed"===e)return r.a.createElement(_r.a,{bsStyle:"danger",now:100,style:n,label:"Failed"});var i=(a/t*100).toFixed();return r.a.createElement(_r.a,{bsStyle:"danger",now:i,style:n,label:"Processing "+i+"%"})}},{key:"getFormattedDate",value:function(e){return 1+e.getMonth()+"/"+e.getDate()+"/"+e.getFullYear()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},{key:"renderSpeed",value:function(e){return e>1e9?(e/1e9).toFixed(2)+" GB/s":e>1e6?(e/1e6).toFixed(2)+" MB/s":e>1e3?(e/1e3).toFixed(2)+" KB/s":e+" B/s"}},{key:"infoButtonOnClick",value:function(e){var t=document.getElementById("info_"+e);if(this.selectedJobInfo===e&&"none"!==t.style.display)t.style.display="none";else{var a=document.getElementById("info_"+this.selectedJobInfo);a&&(a.style.display="none"),t.style.display="table-row",this.selectedJobInfo=e}}},{key:"closeAllInfoRows",value:function(){for(var e=0;e<this.infoRowsIds.length;e++){var t=document.getElementById(this.infoRowsIds[e]);"none"!==t.style.display&&(t.style.display="none")}this.setState({selectedTab:0})}},{key:"cancelButtonClick",value:function(e){}},{key:"toggleTabs",value:function(){0===this.state.selectedTab?this.setState({selectedTab:1}):this.setState({selectedTab:0})}},{key:"renderActions",value:function(e,t,a){var n=this;return this.infoRowsIds=this.infoRowsIds||[],this.infoRowsIds.push("info_"+e),r.a.createElement("div",null,r.a.createElement(E.a,{TransitionComponent:Jr.a,placement:"top",title:"Detailed Information"},r.a.createElement(Qt.a,{onClick:function(){n.infoButtonOnClick(e)},variant:"contained",size:"small",color:"primary",style:{backgroundColor:"rgb(224, 224, 224)",color:"#333333",fontFamily:"FontAwesome",fontSize:"1.5rem",height:"30%",fontWeight:"bold",width:"20%",textTransform:"none",minWidth:"0px",minHeigth:"0px"}},r.a.createElement(Kr.a,null))),"processing"===t&&r.a.createElement(E.a,{TransitionComponent:Jr.a,title:"Cancel"},r.a.createElement(Qt.a,{onClick:function(){n.cancelButtonOnClick(e)},variant:"contained",size:"small",color:"primary",style:{backgroundColor:"rgb(224, 224, 224)",color:"#333333",fontSize:"1.5rem",fontWeight:"bold",width:"20%",height:"20%",textTransform:"none",minWidth:"0px",minHeigth:"0px"}},r.a.createElement(Qr.a,null))))}},{key:"decodeURIComponent",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return decodeURIComponent(e)})},{key:"renderTabContent",value:function(e){return 0===this.state.selectedTab?r.a.createElement(qr.a,{style:{paddingTop:"0.5%",paddingBottom:"0.5%",width:"fit-content"}},r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"User")),r.a.createElement(Dt.a,{md:6},e.owner)),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Job ID")),r.a.createElement(Dt.a,{md:6},e.job_id)),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Source")),r.a.createElement(Dt.a,{md:6},e.src.uri)),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Destination")),r.a.createElement(Dt.a,{md:6},e.dest.uri)),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Instant Speed")),r.a.createElement(Dt.a,{md:6},this.renderSpeed(e.bytes.inst))),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Average Speed")),r.a.createElement(Dt.a,{md:6},this.renderSpeed(e.bytes.avg))),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Scheduled Time")),r.a.createElement(Dt.a,{md:6},this.getFormattedDate(new Date(e.times.scheduled)))),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Started Time")),r.a.createElement(Dt.a,{md:6},this.getFormattedDate(new Date(e.times.started)))),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Completed Time")),r.a.createElement(Dt.a,{md:6},this.getFormattedDate(new Date(e.times.completed)))),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Time Duration")),r.a.createElement(Dt.a,{md:6},((e.times.completed-e.times.started)/1e3).toFixed(2)," sec")),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Attempts")),r.a.createElement(Dt.a,{md:6},e.attempts)),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Status")),r.a.createElement(Dt.a,{md:6},e.status))):1===this.state.selectedTab?r.a.createElement("pre",null,JSON.stringify(e,null,"\t")):void 0}},{key:"render",value:function(){var e=this,t=this.state,a=t.totalCount,n=t.responsesToDisplay,i={textAlign:"center"},o=this.state,s=o.rowsPerPage,l=o.rowsPerPageOptions,c=o.page,d=o.order,u=o.orderBy,m=this.props.classes,p="job_id",h="status",f="bytes.avg",g="src.uri",b="owner",y=[];return n.map(function(t){y.push(r.a.createElement(Vr.a,{style:{alignSelf:"stretch"}},r.a.createElement(Ur.a,{id:"historyusername"+y.length/2,component:"th",scope:"row",style:Object(X.a)({},i,{width:"7.5%",fontSize:"1rem"}),numeric:!0},t.owner),r.a.createElement(Ur.a,{id:"historyid"+y.length/2,style:Object(X.a)({},i,{width:"40%",fontSize:"1rem"})},t.job_id),r.a.createElement(Ur.a,{id:"historyprocess"+y.length/2,style:Object(X.a)({},i,{width:"40%",fontSize:"1rem"})},e.getStatus(t.status,t.bytes.total,t.bytes.done)),r.a.createElement(Ur.a,{id:"historyspeed"+y.length/2,style:Object(X.a)({},i,{width:"35%",maxWidth:"20vw",overflow:"hidden",fontSize:"1rem",margin:"0px",maxHeight:"10px"})},e.renderSpeed(t.bytes.avg)),r.a.createElement(Ur.a,{id:"historysource"+y.length/2,style:Object(X.a)({},i,{width:"10%",fontSize:"1rem"})},e.decodeURIComponent(t.src.uri)," ",r.a.createElement("b",null,"->")," ",e.decodeURIComponent(t.dest.uri)),r.a.createElement(Ur.a,{id:"historyaction"+y.length/2,style:Object(X.a)({},i,{width:"10%",fontSize:"1rem"})},e.renderActions(t.job_id,t.status,t.owner)))),y.push(r.a.createElement(Vr.a,{id:"info_"+t.job_id,class:"rohit",style:{display:"none"}},r.a.createElement(Ur.a,{colSpan:6,style:Object(X.a)({},i,{width:"10%",fontSize:"1rem",backgroundColor:"#e8e8e8",margin:"2%"})},r.a.createElement("div",{id:"infoBox",style:{marginBottom:"0.5%"}},r.a.createElement(Wr.a,{position:"static",style:{boxShadow:"unset"}},r.a.createElement(Hr.a,{value:e.state.selectedTab,onChange:e.toggleTabs,style:{backgroundColor:"#e8e8e8"}},r.a.createElement(Gr.a,{style:{backgroundColor:"#428bca",margin:"0.5%",borderRadius:"4px"},label:"Formatted"}),r.a.createElement(Gr.a,{style:{backgroundColor:"#428bca",margin:"0.5%",borderRadius:"4px"},label:"JSON"}))),r.a.createElement("div",{style:{backgroundColor:"white",borderRadius:"4px",textAlign:"left",marginTop:"0.3%"}},e.renderTabContent(t))))))}),r.a.createElement(yr.a,{className:m.root,style:{marginLeft:"10%",marginRight:"10%",border:"solid 2px #d9edf7"}},r.a.createElement(zr.a,{style:{display:"block"}},r.a.createElement(Mr.a,{style:{backgroundColor:"#d9edf7"}},r.a.createElement(Vr.a,null,r.a.createElement(Ur.a,{style:Object(X.a)({},i,{width:"7.5%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Username",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:u===b,direction:d,id:"HistoryUsername",onClick:function(){e.handleRequestSort(b)}},"Username"))),r.a.createElement(Ur.a,{style:Object(X.a)({},i,{width:"40%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Job ID",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:u===p,direction:d,id:"HistoryJobID",onClick:function(){e.handleRequestSort(p)}},"Job ID"))),r.a.createElement(Ur.a,{style:Object(X.a)({},i,{width:"7.5%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Progress",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:u===h,direction:d,id:"HistoryProgress",onClick:function(){e.handleRequestSort(h)}},"Progress"))),r.a.createElement(Ur.a,{style:Object(X.a)({},i,{width:"35%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Average Speed",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:u===f,direction:d,id:"HistorySpeed",onClick:function(){e.handleRequestSort(f)}},"Average Speed"))),r.a.createElement(Ur.a,{style:Object(X.a)({},i,{width:"10%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Source/Destination",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:u===g,direction:d,id:"HistorySD",onClick:function(){e.handleRequestSort(g)}},"Source/Destination"))),r.a.createElement(Ur.a,{style:Object(X.a)({},i,{width:"10%",fontSize:"2rem",color:"#31708f"})},"Actions"))),r.a.createElement(Rr.a,{style:{height:"100%",display:"block"}},y),r.a.createElement($r.a,{style:{textAlign:"center"}},r.a.createElement(Vr.a,null,r.a.createElement(Zr.a,{rowsPerPageOptions:l,colSpan:4,count:a,rowsPerPage:s,page:c,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:li,classes:{caption:m.tablePaginationCaption,select:m.tablePaginationSelect,toolbar:m.toolbar}})))))}}]),t}(n.Component),di=Object(ei.a)(function(e){return{root:{width:"fit-content"},toolbar:{paddingLeft:"300px"},tablePaginationCaption:{fontSize:"15px"},tablePaginationSelect:{fontSize:"15px",lineHeight:"20px"}}})(ci),ui=a(302),mi=a.n(ui),pi=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).capitalizeFirstLetter=function(e){return e=e.charAt(0).toUpperCase()+e.substring(1)},e.update=function(){var t=e.state.responsesToDisplay.filter(function(e){return"complete"!==e.status&&"failed"!==e.status&&"removed"!==e.status}).map(function(e){return e.uuid});t.length>0&&function(e,t,a){Je.apply(this,arguments)}(t,function(t){t.map(function(t){var a=Object(qa.a)(e.state.responsesToDisplay),n=a.find(function(e){return e.uuid===t.uuid});n.status=e.capitalizeFirstLetter(t.status),n.bytes.total=t.bytes.total,n.bytes.done=t.bytes.done,n.bytes.avg=t.bytes.avg,e.setState({responsesToDisplay:a})})},function(e){console.log("Failed to get job updates")})},e.queueFunc=function(){He(!1,e.state.page,e.state.rowsPerPage,e.state.orderBy,e.state.order,function(t){var a=[];a=0===e.state.page?t.jobs.slice(0,e.state.rowsPerPage):t.jobs.slice(e.state.rowsPerPage,2*e.state.rowsPerPage),e.setState({response:t.jobs,responsesToDisplay:a,totalCount:t.totalCount})},function(e){console.log("Error in queue request to API layer")})},e.handleChangePage=function(t,a){var n;n=a>e.state.page?e.state.response.slice(e.state.rowsPerPage,2*e.state.rowsPerPage):e.state.response.slice(0,e.state.rowsPerPage),e.setState({page:a,response:e.state.response,responsesToDisplay:n}),e.queueFunc()},e.handleChangeRowsPerPage=function(t){e.setState({page:0,rowsPerPage:parseInt(t.target.value)}),e.queueFunc()},e.handleRequestSort=function(t){var a=t,n="desc";e.state.orderBy===t&&"desc"===e.state.order&&(n="asc"),e.setState({order:n,orderBy:a}),e.queueFunc()},e.state={response:[],responsesToDisplay:[],selectedTab:0,page:0,rowsPerPage:10,rowsPerPageOptions:[10,20,50,100],order:"desc",orderBy:"job_id"},e.queueFunc(),e.interval=setInterval(e.update,2e3),e.toggleTabs=e.toggleTabs.bind(Object(ca.a)(Object(ca.a)(e))),e.queueFunc=e.queueFunc.bind(Object(ca.a)(Object(ca.a)(e))),e.update=e.update.bind(Object(ca.a)(Object(ca.a)(e))),Xt(),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="OneDataShare - Queue"}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"getStatus",value:function(e,t,a){var n={marginTop:"5%",fontWeight:"bold"};if("complete"===e)return r.a.createElement(_r.a,{now:100,label:"Complete",style:n});if("failed"===e||"removed"===e)return r.a.createElement(_r.a,{bsStyle:"danger",now:100,style:n,label:"Failed"});var i=Math.ceil(a/t*100);return r.a.createElement(_r.a,{bsStyle:"warning",striped:!0,now:i,style:n,label:"Processing "+i+"%"})}},{key:"renderSpeed",value:function(e){return e>1e9?(e/1e9).toFixed(2)+" GB/s":e>1e6?(e/1e6).toFixed(2)+" MB/s":e>1e3?(e/1e3).toFixed(2)+" KB/s":e+" B/s"}},{key:"infoButtonOnClick",value:function(e){var t=document.getElementById("info_"+e);if(this.selectedJobInfo===e&&"none"!==t.style.display)t.style.display="none";else{var a=document.getElementById("info_"+this.selectedJobInfo);a&&(a.style.display="none"),t.style.display="table-row",this.selectedJobInfo=e}}},{key:"cancelButtonOnClick",value:function(e){var t=this;!function(e,t,a){mt.apply(this,arguments)}(e,function(e){t.queueFunc()},function(e){console.log("Error in cancel request to API layer")})}},{key:"restartButtonOnClick",value:function(e){var t=this;!function(e,t,a){ht.apply(this,arguments)}(e,function(e){t.queueFunc()},function(e){var t="Restart job failed since either or both credentials of the job do not exist";console.log(t),no.emit("errorOccured",t)})}},{key:"deleteButtonOnClick",value:function(e){var t=this;!function(e,t,a){ft.apply(this,arguments)}(e,function(e){t.queueFunc()},function(e){console.log("Error in delete job request to API layer")})}},{key:"getFormattedDate",value:function(e){return 1+e.getMonth()+"/"+e.getDate()+"/"+e.getFullYear()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},{key:"toggleTabs",value:function(){0===this.state.selectedTab?this.setState({selectedTab:1}):this.setState({selectedTab:0})}},{key:"renderActions",value:function(e,t,a){var n=this;return r.a.createElement("div",null,r.a.createElement(E.a,{TransitionComponent:Jr.a,placement:"top",title:"Detailed Information"},r.a.createElement(Qt.a,{onClick:function(){n.infoButtonOnClick(e)},variant:"contained",size:"small",color:"primary",style:{backgroundColor:"rgb(224, 224, 224)",color:"#333333",fontFamily:"FontAwesome",fontSize:"1.5rem",height:"30%",fontWeight:"bold",width:"20%",textTransform:"none",minWidth:"0px",minHeigth:"0px"}},r.a.createElement(Kr.a,null))),"processing"===t&&r.a.createElement(E.a,{TransitionComponent:Jr.a,title:"Cancel"},r.a.createElement(Qt.a,{onClick:function(){n.cancelButtonOnClick(e)},variant:"contained",size:"small",color:"primary",style:{backgroundColor:"rgb(224, 224, 224)",color:"#333333",fontSize:"1.5rem",fontWeight:"bold",width:"20%",height:"20%",textTransform:"none",minWidth:"0px",minHeigth:"0px"}},r.a.createElement(Qr.a,null))),"processing"!==t&&r.a.createElement(E.a,{TransitionComponent:Jr.a,title:"Restart"},r.a.createElement(Qt.a,{onClick:function(){n.restartButtonOnClick(e)},variant:"contained",size:"small",color:"primary",style:{backgroundColor:"rgb(224, 224, 224)",color:"#333333",fontSize:"1.5rem",fontWeight:"bold",width:"20%",height:"20%",textTransform:"none",minWidth:"0px",minHeigth:"0px"}},r.a.createElement(qn.a,null))),"processing"!==t&&!a&&r.a.createElement(E.a,{TransitionComponent:Jr.a,title:"Delete"},r.a.createElement(Qt.a,{onClick:function(){n.deleteButtonOnClick(e)},variant:"contained",size:"small",color:"primary",style:{backgroundColor:"rgb(224, 224, 224)",color:"#333333",fontSize:"1.5rem",fontWeight:"bold",width:"20%",height:"20%",textTransform:"none",minWidth:"0px",minHeigth:"0px"}},r.a.createElement(mi.a,null))))}},{key:"renderTabContent",value:function(e){var t=new Date(e.times.scheduled),a=new Date(e.times.started),n=new Date(e.times.completed);return 0===this.state.selectedTab?r.a.createElement(qr.a,{style:{paddingTop:"0.5%",paddingBottom:"0.5%",width:"fit-content"}},r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"User")),r.a.createElement(Dt.a,{md:6},e.owner)),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Job ID")),r.a.createElement(Dt.a,{md:6},e.job_id)),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Source")),r.a.createElement(Dt.a,{md:6},e.src.uri)),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Destination")),r.a.createElement(Dt.a,{md:6},e.dest.uri)),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Instant Speed")),r.a.createElement(Dt.a,{md:6},this.renderSpeed(e.bytes.inst))),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Average Speed")),r.a.createElement(Dt.a,{md:6},this.renderSpeed(e.bytes.avg))),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Scheduled Time")),r.a.createElement(Dt.a,{md:6},this.getFormattedDate(t))),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Started Time")),r.a.createElement(Dt.a,{md:6},this.getFormattedDate(a))),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Completed Time")),r.a.createElement(Dt.a,{md:6},"complete"===e.status?this.getFormattedDate(n):"-")),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Time Taken")),r.a.createElement(Dt.a,{md:6},"complete"===e.status?((e.times.completed-e.times.started)/1e3).toFixed(2)+" sec":"-"),"        "),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Attempts")),r.a.createElement(Dt.a,{md:6},e.attempts)),r.a.createElement(Nt.a,null,r.a.createElement(Dt.a,{md:6},r.a.createElement("b",null,"Status")),r.a.createElement(Dt.a,{md:6},this.capitalizeFirstLetter(e.status)))):1===this.state.selectedTab?r.a.createElement("pre",null,JSON.stringify(e,null,"\t")):void 0}},{key:"render",value:function(){var e=this,t=this.state,a=t.totalCount,n=t.responsesToDisplay,i=this.state,o=i.rowsPerPage,s=i.rowsPerPageOptions,l=i.page,c=i.order,d=i.orderBy,u={textAlign:"center"},m=this.props.classes,p="job_id",h="status",f="bytes.avg",g="src.uri",b=[];return n.map(function(t){b.push(r.a.createElement(Vr.a,{style:{alignSelf:"stretch"}},r.a.createElement(Ur.a,{id:"queueid"+b.length/2,component:"th",scope:"row",style:Object(X.a)({},u,{width:"7.5%",fontSize:"1rem"}),align:"center"},t.job_id),r.a.createElement(Ur.a,{id:"queueprocess"+b.length/2,style:Object(X.a)({},u,{width:"45%",fontSize:"1rem"})},e.getStatus(t.status,t.bytes.total,t.bytes.done)),r.a.createElement(Ur.a,{id:"queuespeed"+b.length/2,style:Object(X.a)({},u,{width:"7.5%",fontSize:"1rem"})},e.renderSpeed(t.bytes.avg)),r.a.createElement(Ur.a,{id:"queuesource"+b.length/2,style:Object(X.a)({},u,{width:"25%",maxWidth:"20vw",overflow:"hidden",fontSize:"1rem",margin:"0px"})},decodeURI(t.src.uri)," ",r.a.createElement("b",null,"->")," ",decodeURI(t.dest.uri)),r.a.createElement(Ur.a,{id:"queueaction"+b.length/2,style:Object(X.a)({},u,{width:"15%",fontSize:"1rem"})},e.renderActions(t.job_id,t.status,t.deleted)))),b.push(r.a.createElement(Vr.a,{id:"info_"+t.job_id,style:{display:"none"}},r.a.createElement(Ur.a,{colSpan:5,style:Object(X.a)({},u,{width:"10%",fontSize:"1rem",backgroundColor:"#e8e8e8",margin:"2%"})},r.a.createElement("div",{id:"infoBox",style:{marginBottom:"0.5%"}},r.a.createElement(Wr.a,{position:"static",style:{boxShadow:"unset"}},r.a.createElement(Hr.a,{value:e.state.selectedTab,onChange:e.toggleTabs,style:{backgroundColor:"#e8e8e8"}},r.a.createElement(Gr.a,{style:{backgroundColor:"#428bca",margin:"0.5%",borderRadius:"4px"},label:"Formatted"}),r.a.createElement(Gr.a,{style:{backgroundColor:"#428bca",margin:"0.5%",borderRadius:"4px"},label:"JSON"}))),r.a.createElement("div",{style:{backgroundColor:"white",borderRadius:"4px",textAlign:"left",marginTop:"0.3%"}},e.renderTabContent(t))))))}),r.a.createElement(yr.a,{className:m.root,id:"jobHistory",style:{marginLeft:"7.2%",marginRight:"7.2%",marginBottom:"10%",border:"solid 2px #d9edf7"}},r.a.createElement(zr.a,null,r.a.createElement(Mr.a,{style:{backgroundColor:"#d9edf7"}},r.a.createElement(Vr.a,null,r.a.createElement(Ur.a,{style:Object(X.a)({},u,{width:"7.5%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Job ID",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{id:"QueueID",active:d===p,direction:c,onClick:function(){e.handleRequestSort(p)}},"Job ID"))),r.a.createElement(Ur.a,{style:Object(X.a)({},u,{width:"45%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Progress",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{id:"QueueProgress",active:d===h,direction:c,onClick:function(){return e.handleRequestSort(h)}},"Progress"))),r.a.createElement(Ur.a,{style:Object(X.a)({},u,{width:"7.5%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Average Speed",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{id:"QueueSpeed",active:d===f,direction:c,onClick:function(){return e.handleRequestSort(f)}},"Average Speed"))),r.a.createElement(Ur.a,{style:Object(X.a)({},u,{width:"25%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Source/Destination",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{id:"QueueSD",active:d===g,direction:c,onClick:function(){return e.handleRequestSort(g)}},"Source/Destination"))),r.a.createElement(Ur.a,{style:Object(X.a)({},u,{width:"15%",fontSize:"2rem",color:"#31708f"})},"Actions"))),r.a.createElement(Rr.a,null,b),r.a.createElement($r.a,{style:{textAlign:"center"}},r.a.createElement(Vr.a,null,r.a.createElement(Zr.a,{rowsPerPageOptions:s,colSpan:3,count:a,rowsPerPage:o,page:l,SelectProps:{native:!0},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:li,classes:{caption:m.tablePaginationCaption,select:m.tablePaginationSelect,toolbar:m.toolbar}})))))}}]),t}(n.Component),hi=Object(ei.a)(function(e){return{root:{width:"fit-content"},toolbar:{paddingLeft:"300px"},tablePaginationCaption:{fontSize:"15px"},tablePaginationSelect:{fontSize:"15px",lineHeight:"20px"}}})(pi),fi=(a(524),a(533)),gi=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={isSmall:window.innerWidth<=640,loading:!0,oldPassword:"",newPassword:"",confirmNewPassword:"",userEmail:ro.getState().email,userOrganization:"...",fName:"...",lName:"...",redirect:!1,openAlertDialog:!1,saveOAuthTokens:!1,validations:U(""),canSubmit:!1},function(e,t,a){lt.apply(this,arguments)}(e.state.userEmail,function(t){e.setState({userOrganization:t.organization,fName:t.firstName,lName:t.lastName,saveOAuthTokens:t.saveOAuthTokens,loading:!1})},function(t){e.setState({loading:!1}),console.log("Error encountered in getUser request to API layer")}),e.getInnerCard=e.getInnerCard.bind(Object(ca.a)(Object(ca.a)(e))),e.onPasswordUpdate=e.onPasswordUpdate.bind(Object(ca.a)(Object(ca.a)(e))),e.accountDetails=e.accountDetails.bind(Object(ca.a)(Object(ca.a)(e))),e.handleAccountPreferenceToggle=e.handleAccountPreferenceToggle.bind(Object(ca.a)(Object(ca.a)(e))),e.handleAlertClose=e.handleAlertClose.bind(Object(ca.a)(Object(ca.a)(e))),e.handleAlertCloseYes=e.handleAlertCloseYes.bind(Object(ca.a)(Object(ca.a)(e))),Xt(),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="OneDataShare - Account",window.addEventListener("resize",this.resize.bind(this)),this.resize()}},{key:"onPasswordUpdate",value:function(e,t,a){var n=this;""===t||""===e||""===a?no.emit("errorOccured","Password fields cannot be empty"):e===t?no.emit("errorOccured","Old and New Passwords cant be same"):function(e,t,a,n,r){ut.apply(this,arguments)}(e,t,a,function(e){ro.dispatch(function(e){return{type:V,hash:e}}(e)),n.setState({redirect:!0})},function(e){e&&e.response&&e.response.data&&e.response.data.message?no.emit("errorOccured",e.response.data.message):no.emit("errorOccured","Unknown Error")})}},{key:"handleAccountPreferenceToggle",value:function(){this.setState({openAlertDialog:!0})}},{key:"handleAlertClose",value:function(){this.setState({openAlertDialog:!1})}},{key:"handleAlertCloseYes",value:function(){var e=this;this.handleAlertClose();var t=this.state.saveOAuthTokens;t=!t,function(e,t,a){ct.apply(this,arguments)}(this.state.email,t,function(){ro.dispatch({type:K,saveOAuthTokens:t}),t&&(Oe.remove(P),Oe.remove(T)),e.setState({saveOAuthTokens:t})})}},{key:"accountDetails",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(va.a,null,r.a.createElement(da.a,{className:"userAccCardStyle"},r.a.createElement(ua.a,null,r.a.createElement(ha.a,{style:{fontSize:"1.6em",marginBottom:"0.6em",textAlign:"center"}},"Account Details ",r.a.createElement("br",null)),r.a.createElement(wa.a,null,r.a.createElement(Sa.a,{classes:{primary:"userDescThemeFont",secondary:"userDescValueFont"},primary:"Email",id:"UserEmail",secondary:this.state.userEmail}),r.a.createElement(Oa.a,null),r.a.createElement(Sa.a,{classes:{primary:"userDescThemeFont",secondary:"userDescValueFont"},primary:"First Name",id:"UserFirstName",secondary:this.state.fName}),r.a.createElement(Oa.a,null),r.a.createElement(Sa.a,{classes:{primary:"userDescThemeFont",secondary:"userDescValueFont"},primary:"Last Name",id:"UserLastName",secondary:this.state.lName}),r.a.createElement(Oa.a,null),r.a.createElement(Sa.a,{classes:{primary:"userDescThemeFont",secondary:"userDescValueFont"},primary:"Organization",id:"UserOrganization",secondary:this.state.userOrganization}))))),r.a.createElement(va.a,null,r.a.createElement(da.a,{className:"userAccCardStyle",style:{paddingLeft:"2em",paddingRight:"2em"}},r.a.createElement(ua.a,null,r.a.createElement(ha.a,{style:{fontSize:"1.6em",marginBottom:"0.6em",textAlign:"center"}},"Account Preferences ",r.a.createElement("br",null)),r.a.createElement(fi.a,null,r.a.createElement(ya.a,{value:"new_source",control:r.a.createElement(Nr.a,{checked:this.state.saveOAuthTokens,onClick:function(){return e.handleAccountPreferenceToggle()},value:"saveOAuthTokenSwitch",color:"primary"}),label:"Save endpoint authentication tokens with OneDataShare"}))))),r.a.createElement(Gn.a,{open:this.state.openAlertDialog,onClose:this.handleAlertClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Xn.a,{id:"alert-dialog-title"},"Change how OAuth tokens are saved?"),r.a.createElement(Yn.a,null,r.a.createElement(Kn.a,{id:"alert-dialog-description"},"Warning! This might delete all your existing credentials and may interrupt ongoing transfers. Are you sure?")),r.a.createElement(Jn.a,null,r.a.createElement(Qt.a,{onClick:this.handleAlertCloseYes,color:"primary"},"Yes"),r.a.createElement(Qt.a,{onClick:this.handleAlertClose,color:"primary",autoFocus:!0},"No"))))}},{key:"checkIfUserCanSubmit",value:function(){this.state.validations.filter(function(e){return e.containsError}).length>0?this.setState({canSubmit:!1}):this.setState({canSubmit:!0})}},{key:"getInnerCard",value:function(){var e,t=this,a=function(e){return function(a){t.setState(Object(pa.a)({},e,a.target.value),function(){t.setState({validations:U(t.state.newPassword,t.state.confirmNewPassword)},function(){t.checkIfUserCanSubmit()})})}},n=this.state.newPassword!==this.state.confirmNewPassword;return r.a.createElement("div",null,r.a.createElement(ha.a,{style:{fontSize:"1.6em",marginBottom:"0.6em",textAlign:"center"}},"Change your Password"),r.a.createElement(Ta.a,{id:"Email",label:"Enter Your Old Password",type:"password",value:this.state.oldPassword,style:{width:"100%",marginBottom:"1em"},onChange:(e="oldPassword",function(a){t.setState(Object(pa.a)({},e,a.target.value))})}),r.a.createElement(Ta.a,{label:"Enter Your New Password",type:"password",value:this.state.newPassword,style:{width:"100%",marginBottom:"1em"},onChange:a("newPassword")}),r.a.createElement(Ta.a,{error:n,id:"Cpassword",type:"password",label:"Confirm Your New Password",value:this.state.confirmNewPassword,style:{width:"100%",marginBottom:"1em"},onChange:a("confirmNewPassword")}),r.a.createElement(Na,{showList:!this.state.canSubmit,validations:this.state.validations}),r.a.createElement(fa.a,{style:{marginBottom:"0px"}},r.a.createElement(Qt.a,{size:"small",color:"primary",style:{width:"100%"},disabled:!this.state.canSubmit,variant:"contained",onClick:function(){return t.onPasswordUpdate(t.state.oldPassword,t.state.newPassword,t.state.confirmNewPassword)}},"Update Password")))}},{key:"resize",value:function(){this.state.isSmall&&window.innerWidth>640?this.setState({isSmall:!1}):!this.state.isSmall&&window.innerWidth<=640&&this.setState({isSmall:!0})}},{key:"render",value:function(){var e=this.state,t=e.isSmall,a=e.loading,n=e.redirect,i=window.innerHeight+"px";return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"..",height:i,marginBottom:"5%"}},r.a.createElement("div",{style:{width:"450px",alignSelf:t?"flex-start":"center"}},a&&r.a.createElement(ma.a,null),this.accountDetails(),r.a.createElement(da.a,{className:"userAccCardStyle resetPasswordCard"},this.getInnerCard()),n&&r.a.createElement(la.a,{from:"/user",to:"/transfer"})))}}]),t}(n.Component),bi=a(204),yi=a.n(bi),Ei=a(203),vi=a.n(Ei),wi=a(303),Si=a.n(wi),Oi=a(304),ki=a.n(Oi),Ci=(a(525),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).getUserInfo=function(){return ot("getUsers",e.state.userTblPage,e.state.userTblRowsPerPage,e.state.userTblOrderBy,e.state.userTblOrder,function(t){e.setState({users:t.users,totalUsersCount:t.totalCount})},function(e){console.log("Error encountered in getUsers request to API layer")})},e.getAdminInfo=function(){return ot("getAdministrators",e.state.adminTblPage,e.state.adminTblRowsPerPage,e.state.adminTblOrderBy,e.state.adminTblOrder,function(t){console.log(t.users.length+"---"),e.setState({admins:t.users,totalAdminsCount:t.totalCount})},function(e){console.log("Error encountered in getUsers request to API layer")})},e.handleClose=function(){e.setState({showIsAdminPopup:!1,adminChangePopupMsg:"",targetUser:"",firstName:"",lastName:""})},e.handleUserTblChangePage=function(t,a){e.setState({userTblPage:a}),e.getUserInfo()},e.handleUserTblChangeRowsPerPage=function(t){e.setState({userTblPage:0,userTblRowsPerPage:parseInt(t.target.value)}),e.getUserInfo()},e.handleUserTblRequestSort=function(t){var a=t,n="desc";e.state.userTblOrderBy===t&&"desc"===e.state.userTblOrder&&(n="asc"),e.setState({userTblOrder:n,userTblOrderBy:a}),e.getUserInfo()},e.handleAdminsTblChangePage=function(t,a){e.setState({adminTblPage:a}),e.getAdminInfo()},e.handleAdminsTblChangeRowsPerPage=function(t){e.setState({adminTblPage:0,adminTblRowsPerPage:parseInt(t.target.value)}),e.getAdminInfo()},e.handleAdminsTblRequestSort=function(t){var a=t,n="desc";e.state.adminTblOrderBy===t&&"desc"===e.state.adminTblOrder&&(n="asc"),e.setState({adminTblOrder:n,adminTblOrderBy:a}),e.getAdminInfo()},e.state={users:[],totalUsersCount:0,admins:[],totalAdminsCount:0,userTblPage:0,userTblRowsPerPage:10,userTblRowsPerPageOptions:[10,20,50,100],userTblOrder:"asc",userTblOrderBy:"email",adminTblPage:0,adminTblRowsPerPage:10,adminTblRowsPerPageOptions:[10,20,50,100],adminTblOrder:"asc",adminTblOrderBy:"email"},e.getUserInfo=e.getUserInfo.bind(Object(ca.a)(Object(ca.a)(e))),e.getAdminInfo=e.getAdminInfo.bind(Object(ca.a)(Object(ca.a)(e))),e.getUserInfo(),e.getAdminInfo(),Xt(),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="OneDataShare - Client Info"}},{key:"updateAdminRights",value:function(e,t){var a="";e.target.checked?(a="Please confirm if "+t.firstName+" "+t.lastName+" must be granted admin privileges.",this.setState({showIsAdminPopup:!0,adminChangePopupMsg:a,targetUser:t.email,isAdmin:!0,firstName:t.firstName,lastName:t.lastName})):(a="Please confirm if admin privileges of "+t.firstName+" "+t.lastName+" must be revoked.",this.setState({showIsAdminPopup:!0,adminChangePopupMsg:a,targetUser:t.email,isAdmin:!1,firstName:t.firstName,lastName:t.lastName}))}},{key:"updateAdminRightsUsingStateInfo",value:function(e,t){var a=this;(function(e,t){return dt.apply(this,arguments)})(e,t).then(function(e){e?no.emit("errorOccured","Admin privileges is "+(a.state.isAdmin?"granted for ":"revoked for ")+a.state.firstName+" "+a.state.lastName):no.emit("errorOccured","Error while updating the user"),ot("getUsers",a.state.userTblPage,a.state.userTblRowsPerPage,a.state.userTblOrderBy,a.state.userTblOrder,function(e){a.setState({users:e.users,showIsAdminPopup:!1,adminChangePopupMsg:"",targetUser:"",firstName:"",lastName:""})},function(e){console.log("Error encountered in getUsers request to API layer")})})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.users,n=this.state.admins,i=this.state,o=i.userTblRowsPerPage,s=i.userTblRowsPerPageOptions,l=i.userTblPage,c=i.userTblOrder,d=i.userTblOrderBy,u=i.totalUsersCount,m=this.state,p=m.adminTblRowsPerPage,h=m.adminTblRowsPerPageOptions,f=m.adminTblPage,g=m.adminTblOrder,b=m.adminTblOrderBy,y=m.totalAdminsCount,v={textAlign:"center"},w="email",S="firstName",O="lastName",k="lastActivity",C="registerMoment",j="organization";return r.a.createElement("div",null,r.a.createElement(Gn.a,{open:this.state.showIsAdminPopup,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Xn.a,{id:"form-dialog-title"},"Confirm"),r.a.createElement(Yn.a,{style:{width:"100%"}},r.a.createElement(Kn.a,null,this.state.adminChangePopupMsg)),r.a.createElement(Jn.a,null,r.a.createElement(Qt.a,{onClick:function(){return e.updateAdminRightsUsingStateInfo(e.state.targetUser,e.state.isAdmin)},color:"primary"},"Yes"),r.a.createElement(Qt.a,{onClick:function(){return e.handleClose()},color:"secondary"},"No"))),r.a.createElement(yr.a,{id:"clientsInfo",style:{marginLeft:"5%",marginRight:"5%",marginBottom:"5%",border:"solid 2px #d9edf7"}},r.a.createElement(zr.a,null,r.a.createElement(Mr.a,{style:{backgroundColor:"#d9edf7"}},r.a.createElement(Vr.a,null,r.a.createElement(Ur.a,{colSpan:8,style:Object(X.a)({},v,{backgroundColor:"#d9edf7",width:"7.5%",fontSize:"2rem",color:"#31708f"})},"Users Information")),r.a.createElement(Vr.a,null,r.a.createElement(Ur.a,{style:Object(X.a)({},v,{width:"15%",fontSize:"1.75rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Username",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:d===w,direction:c,onClick:function(){e.handleUserTblRequestSort(w)}},r.a.createElement(vi.a,null),"Users"))),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{width:"10%",fontSize:"1.75rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on First Name",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:d===S,direction:c,onClick:function(){e.handleUserTblRequestSort(S)}},"Name"))),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{width:"10%",fontSize:"1.75rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Last Name",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:d===j,direction:c,onClick:function(){e.handleUserTblRequestSort(j)}},"Orgainzation"))),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{width:"15%",fontSize:"1.75rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Sign Up",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:d===C,direction:c,onClick:function(){e.handleUserTblRequestSort(C)}},"Sign Up"))),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{width:"5%",fontSize:"1.75rem",color:"#31708f"})},"Validation"),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{width:"15%",fontSize:"1.75rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Last Activity",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:d===k,direction:c,onClick:function(){e.handleUserTblRequestSort(k)}},"Last Activity"))),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{width:"15%",fontSize:"1.75rem",color:"#31708f"})},"Make Admin"))),r.a.createElement(Rr.a,null,a.map(function(t){var a=t.registerMoment;console.log(a);var n=new Date(a),i=new Date(t.lastActivity);return r.a.createElement(Vr.a,null,r.a.createElement(Ur.a,{style:{fontSize:"1rem"}},r.a.createElement(yi.a,null),t.email),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{fontSize:"1rem"})},t.firstName+" "+t.lastName),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{fontSize:"1rem"})},t.organization),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{fontSize:"1rem"})},1+n.getMonth()+"/"+n.getDate()+"/"+n.getFullYear()+" "+n.getHours()+":"+n.getMinutes()),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{fontSize:"1rem"})},t.validated?r.a.createElement(Si.a,{style:{color:"green"}}):r.a.createElement(ki.a,{style:{color:"red"}})),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{fontSize:"1rem"})},1+i.getMonth()+"/"+i.getDate()+"/"+i.getFullYear()+" "+n.getHours()+":"+i.getMinutes()),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{fontSize:"1rem"})},r.a.createElement("input",{type:"checkbox",disabled:t.email===ro.getState().email,checked:t.isAdmin,onChange:function(a){return e.updateAdminRights(a,t)}})))})),r.a.createElement($r.a,{style:{textAlign:"center"}},r.a.createElement(Vr.a,null,r.a.createElement(Zr.a,{rowsPerPageOptions:s,colSpan:8,count:u,rowsPerPage:o,page:l,SelectProps:{native:!0},onChangePage:this.handleUserTblChangePage,onChangeRowsPerPage:this.handleUserTblChangeRowsPerPage,ActionsComponent:li,classes:{caption:t.tablePaginationCaption,select:t.tablePaginationSelect,toolbar:t.toolbar}}))))),r.a.createElement(yr.a,{id:"adminsInfo",style:{marginLeft:"10%",marginRight:"10%",marginTop:"2%",marginBottom:"10%",border:"solid 2px #d9edf7"}},r.a.createElement(zr.a,null,r.a.createElement(Mr.a,{style:{backgroundColor:"#d9edf7"}},r.a.createElement(Vr.a,null,r.a.createElement(Ur.a,{colSpan:6,style:Object(X.a)({},v,{backgroundColor:"#d9edf7",width:"7.5%",fontSize:"2rem",color:"#31708f"})},"Admin Information")),r.a.createElement(Vr.a,null,r.a.createElement(Ur.a,{style:Object(X.a)({},v,{width:"33%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Username",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:b===w,direction:g,onClick:function(){e.handleAdminsTblRequestSort(w)}},r.a.createElement(vi.a,null),"Users"))),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{width:"33%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on First Name",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:b===S,direction:g,onClick:function(){e.handleAdminsTblRequestSort(S)}},"First Name"))),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{width:"33%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Last Name",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:b===O,direction:g,onClick:function(){e.handleAdminsTblRequestSort(O)}},"Last Name"))),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{width:"33%",fontSize:"2rem",color:"#31708f"})},r.a.createElement(E.a,{title:"Sort on Last Activity",placement:"bottom-end",enterDelay:300},r.a.createElement(Dn.a,{active:b===k,direction:g,onClick:function(){e.handleAdminsTblRequestSort(k)}},"Last Activity"))))),r.a.createElement(Rr.a,null,n.map(function(e){return r.a.createElement(Vr.a,null,r.a.createElement(Ur.a,{style:{fontSize:"1rem"}},r.a.createElement(yi.a,null),e.email),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{fontSize:"1rem"})},e.firstName),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{fontSize:"1rem"})},e.lastName),r.a.createElement(Ur.a,{style:Object(X.a)({},v,{fontSize:"1rem"})},"TBD"))})),r.a.createElement($r.a,{style:{textAlign:"center"}},r.a.createElement(Vr.a,null,r.a.createElement(Zr.a,{rowsPerPageOptions:h,colSpan:5,count:y,rowsPerPage:p,page:f,SelectProps:{native:!0},onChangePage:this.handleAdminsTblChangePage,onChangeRowsPerPage:this.handleAdminsTblChangeRowsPerPage,ActionsComponent:li,classes:{caption:t.tablePaginationCaption,select:t.tablePaginationSelect,toolbar:t.toolbar}}))))))}}]),t}(n.Component)),ji=Object(ei.a)(function(e){return{root:{width:"fit-content"},toolbar:{paddingLeft:"300px",paddingRight:"300px"},tablePaginationCaption:{fontSize:"15px"},tablePaginationSelect:{fontSize:"15px",lineHeight:"20px"}}})(Ci),xi=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).handleChange=function(t){e.setState(Object(pa.a)({},t.target.name,t.target.value))},e.state={captchaVerified:!1,captchaVerificationValue:null,email:"noemail"===ro.getState().email?"":ro.getState().email},e.captchaRef=null,e.handleSubmit=e.handleSubmit.bind(Object(ca.a)(Object(ca.a)(e))),e.handleChange=e.handleChange.bind(Object(ca.a)(Object(ca.a)(e))),e.handleCaptchaEvent=e.handleCaptchaEvent.bind(Object(ca.a)(Object(ca.a)(e))),Xt(),e.resetCaptcha=e.resetCaptcha.bind(Object(ca.a)(Object(ca.a)(e))),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="OneDataShare - Support"}},{key:"handleCaptchaEvent",value:function(e){this.setState({captchaVerified:!0,captchaVerificationValue:e})}},{key:"resetCaptcha",value:function(){this.setState({captchaVerified:!1,captchaVerificationValue:null}),this.captchaRef.reset()}},{key:"handleSubmit",value:function(){var e=this;if(this.state.captchaVerified){var t=document.getElementById("progress-bar");t.style.visibility="visible";var a=document.getElementById("msg");!function(e,t,a){Ye.apply(this,arguments)}({name:this.state.name,email:this.state.email,phone:this.state.phone,subject:this.state.subject,description:this.state.description,captchaVerificationValue:this.state.captchaVerificationValue},function(n){t.style.visibility="hidden",a.style.border="1px solid green",a.style.color="green",a.innerHTML="Support ticket created successfully. Ticket number - "+n,a.style.visibility="visible",e.resetCaptcha()},function(n){t.style.visibility="hidden",a.style.border="1px solid red",a.style.color="red",a.innerHTML='There was an error while creating the support ticket. Please try again or email us at <a href="mailto:admin@onedatashare.org">admin@onedatashare.org</a>',a.style.visibility="visible",e.resetCaptcha()})}else no.emit("errorOccured","Please verify you are not a robot!")}},{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement(Dt.a,{xs:11,style:{display:"flex",justifyContent:"center",flexDirection:"column"}},r.a.createElement(Ma.a,{bsStyle:"primary"},r.a.createElement(Ma.a.Heading,null,r.a.createElement("p",{style:{textAlign:"center"}},"Report an Issue")),r.a.createElement("div",{id:"feshdesk-submit-form",style:{margin:"5%",marginTop:"0%"}},r.a.createElement("script",{type:"text/javascript",src:"http://assets.freshdesk.com/widget/freshwidget.js"}),r.a.createElement("style",{type:"text/css",media:"screen, projection"},"@import url(http://assets.freshdesk.com/widget/freshwidget.css);"),r.a.createElement("iframe",{title:"Feedback Form",class:"freshwidget-embedded-form",id:"freshwidget-embedded-form",src:"https://onedatashare.freshdesk.com/widgets/feedback_widget/new?&widgetType=embedded&formTitle=&submitTitle=Submit&submitThanks=Thanks+for+your+feedback&screenshot=No&searchArea=no",scrolling:"no",height:"400px",width:"100%",frameborder:"0"})))))}}]),t}(n.Component),Pi=a(305),Ti=a.n(Pi),Di=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={termsData:""},a.readTextFile=function(e){var t=new XMLHttpRequest;t.open("GET",e,!1),t.onreadystatechange=function(){if(4===t.readyState&&(200===t.status||0===t.status)){var e=t.responseText;a.setState({termsData:e})}},t.send(null)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.readTextFile(Ti.a)}},{key:"render",value:function(){return r.a.createElement("div",{style:{whiteSpace:"pre-wrap",paddingLeft:"15%",paddingRight:"15%",margin:"10px",display:"flex",flex:1,alignItems:"left",textAlign:"left"}},r.a.createElement("p",null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.state.termsData}})))}}]),t}(n.Component),Ai=a(306),Ni=a.n(Ai),Ii=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={termsData:""},a.readTextFile=function(e){var t=new XMLHttpRequest;t.open("GET",e,!1),t.onreadystatechange=function(){if(4===t.readyState&&(200===t.status||0===t.status)){var e=t.responseText;a.setState({termsData:e})}},t.send(null)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.readTextFile(Ni.a)}},{key:"render",value:function(){return r.a.createElement("div",{style:{whiteSpace:"pre-wrap",paddingLeft:"15%",paddingRight:"15%",margin:"10px",display:"flex",flex:1,alignItems:"left",textAlign:"left"}},r.a.createElement("p",null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.state.termsData}})))}}]),t}(n.Component),Fi=a(604),Li=a(307),Bi=a.n(Li),zi=a(308),Ri=a.n(zi),Ui=a(309),Mi=a.n(Ui),Vi=a(310),_i=a.n(Vi),qi=a(311),Wi=a.n(qi),Hi=a(312),Gi=a.n(Hi),Ji=a(313),Yi=a.n(Ji),Ki=a(314),Xi=a.n(Ki),Qi=(a(526),function(e){function t(){var e;Object(s.a)(this,t);var a={maxWidth:"90%",maxHeight:"70vh",border:"1px black solid",marginTop:"2vw"};return(e=Object(c.a)(this,Object(d.a)(t).call(this))).data=[{title:"Start by creating your OneDataShare account",imgPath:Ri.a,imgStyle:Object(X.a)({},a)},{title:"Sign in using your account credentials",imgPath:Mi.a,imgStyle:Object(X.a)({},a)},{title:"Browse through the list of supported endpoints",imgPath:_i.a,imgStyle:Object(X.a)({},a,{width:"80%"})},{title:"Log in to the required endpoints",imgPath:Wi.a,imgStyle:Object(X.a)({},a,{width:"80%"})},{title:"Intiate a transfer by dragging a file/folder from one endpoint to another",imgPath:Gi.a,imgStyle:Object(X.a)({},a)},{title:"Monitor your transfer on the queue page",imgPath:Yi.a,imgStyle:Object(X.a)({},a,{marginTop:"8vw"})},{title:"Review details related to your file/folder transfer",imgPath:Xi.a,imgStyle:Object(X.a)({},a,{width:"80%"})}],e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={width:"100%",textAlign:"center"},t=[];return this.data.map(function(a){t.push(r.a.createElement(Fi.a.Item,{style:e},r.a.createElement("div",{style:{fontSize:"2em",color:"white"}},a.title),r.a.createElement("div",null,r.a.createElement("img",{style:a.imgStyle,src:a.imgPath}))))}),r.a.createElement("div",{className:"adjustTop adjustContent content",style:{backgroundImage:"url("+Bi.a+")"}},r.a.createElement(Fi.a,{className:"carouselStyle"},t,r.a.createElement(Fi.a.Item,{style:e},r.a.createElement("div",{style:{fontSize:"2em",color:"white",margin:"10%"}},"Like it already?",r.a.createElement("br",null),"Let's start by creating your free OneDataShare account now!",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(Qt.a,{variant:"contained",color:"primary",style:{backgroundColor:"rgb(45, 46, 48)",fontSize:"1.5rem"}},r.a.createElement(g.a,{to:"/account/register",style:{color:"white"}},"Register"))))))}}]),t}(n.Component)),Zi=(a(528),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={isLoggedIn:ro.getState().login,admin:ro.getState().admin},a.unsubscribe=ro.subscribe(function(){a.setState({isLoggedIn:ro.getState().login,admin:ro.getState().admin})}),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,a=e.admin;return r.a.createElement("div",{className:"App"},r.a.createElement("link",{rel:"stylesheet",type:"text/css",charSet:"UTF-8",href:"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css"}),r.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css"}),r.a.createElement(Pt,{key:t,login:t,email:ro.getState().email}),r.a.createElement("div",{class:"content",style:{display:"block"}},r.a.createElement(oa.a,null,r.a.createElement(sa.a,{path:"/account",render:function(e){return r.a.createElement(Ua,e)}}),r.a.createElement(sa.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(ia,Object.assign({},e,{store:ro}))}}),r.a.createElement(sa.a,{exact:!0,path:"/terms",render:function(){return r.a.createElement(Di,null)}}),r.a.createElement(sa.a,{exact:!0,path:"/policy",render:function(){return r.a.createElement(Ii,null)}}),r.a.createElement(sa.a,{exact:!0,path:"/support",render:function(){return r.a.createElement(xi,null)}}),r.a.createElement(sa.a,{excat:!0,path:"/get-started",render:function(){return r.a.createElement(Qi,null)}}),t&&r.a.createElement(sa.a,{exact:!0,path:"/transfer",render:function(e){return r.a.createElement(Br,Object.assign({},e,{store:ro}))}}),t&&r.a.createElement(sa.a,{exact:!0,path:"/queue",render:function(e){return r.a.createElement(hi,e)}}),t&&a&&r.a.createElement(sa.a,{exact:!0,path:"/history",render:function(e){return r.a.createElement(di,Object.assign({},e,{store:ro}))}}),t&&a&&r.a.createElement(sa.a,{exact:!0,path:"/clientsInfo",render:function(e){return r.a.createElement(ji,Object.assign({},e,{store:ro}))}}),t&&r.a.createElement(sa.a,{exact:!0,path:"/user",render:function(e){return r.a.createElement(gi,e)}}),t&&r.a.createElement("h1",{to:"/transfer"},"Page Not Found"),!t&&r.a.createElement(sa.a,{render:function(){return r.a.createElement(la.a,{to:"/"})}}))))}}]),t}(n.Component)),$i=function(e){function t(e){var a;Object(s.a)(this,t);var n=(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).props.match.params.tag;return a.processOAuth(n),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"processOAuth",value:function(e){if("ExistingCredGoogleDrive"===e)setTimeout(function(){no.emit("errorOccured","Credential for the endpoint already Exists. Please logout from Google Drive and try again.")},500);else if("ExistingCredDropbox"===e)setTimeout(function(){no.emit("errorOccured","Credential for the endpoint already Exists. Please logout from Dropbox and try again.")},500);else if("uuid"===e){console.log("User has opted to save auth tokens at ODS servers. UUID received");var t=this.props.location.search,a=decodeURIComponent(t.substring(t.indexOf("=")+1));"dropbox:///","left",{uuid:a}}else{var n=this.props.location.search,r=JSON.parse(decodeURIComponent(n.substring(n.indexOf("=")+1)));"dropbox"===e?(console.log("Dropbox oAuth identifier received"),this.updateLocalCredStore(P,r)):"googledrive"===e?(console.log("Google drive oAuth identifier received"),this.updateLocalCredStore(T,r)):"gridftp"===e&&(console.log("GridFTP oAuth identifier received"),this.updateLocalCredStore("GridFTP",r))}}},{key:"updateLocalCredStore",value:function(e,t){var a=Oe.get(e)||0;if(0!==a){var n=JSON.parse(a),r=t.name.split(":+")[1],i=t.token;n.some(function(e){return e.name===r})?console.log("Auth token for "+r+" already exists in session."):(n.push({name:r,token:i}),Oe.set(e,JSON.stringify(n)))}else Oe.set(e,JSON.stringify([{name:t.name.split(":+")[1],token:t.token}]))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(la.a,{to:"/transfer"}),r.a.createElement("h1",null,"Wait a second, You will be redirected."))}}]),t}(n.Component),eo=a(65),to=a(611),ao=a(316),no=new(a.n(ao).a),ro=Object(eo.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:var a=t.credential,n=a.email,r=a.hash,i=a.saveOAuthTokens,o=a.compactViewEnabled;return console.log("logging in",n),Oe.set("email",n,{expires:F}),Oe.set("hash",r,{expires:F}),Oe.set("saveOAuthTokens",i,{expires:F}),Object.assign({},e,{login:!0,email:n,hash:r,saveOAuthTokens:i,compactViewEnabled:o});case W:return console.log("logging out"),Oe.remove("email"),Oe.remove("hash"),Oe.remove("admin"),Oe.remove("endpoint1"),Oe.remove("endpoint2"),Oe.remove("saveOAuthTokens"),Oe.remove(P),Oe.remove(T),window.location.replace("/"),Object.assign({},e,{login:!1,admin:!1,hash:"",email:"noemail",saveOAuthTokens:void 0});case q:return Object.assign({},e,{admin:!0});case G:return"left"===t.side?Object.assign({},e,{endpoint1:Object(X.a)({},e.endpoint1,{loginProgress:t.progress})}):Object.assign({},e,{endpoint2:Object(X.a)({},e.endpoint2,{loginProgress:t.progress})});case J:return"left"===t.side?(Oe.set("endpoint1",JSON.stringify(Object(X.a)({},e.endpoint1,t.endpoint),{expires:F})),Object.assign({},e,{endpoint1:Object(X.a)({},e.endpoint1,t.endpoint)})):(Oe.set("endpoint2",JSON.stringify(Object(X.a)({},e.endpoint2,t.endpoint)),{expires:F}),Object.assign({},e,{endpoint2:Object(X.a)({},e.endpoint2,t.endpoint)}));case V:return Oe.remove("hash"),Oe.set("hash",t.hash,{expires:F}),Object.assign({},e,{hash:t.hash});case _:return Object.assign({},e,{compactViewEnabled:t.compactViewEnabled});case K:return Oe.set("saveOAuthTokens",t.saveOAuthTokens),Oe.set("endpoint1",JSON.stringify(Object(X.a)({},e.endpoint1,{login:!1}))),Oe.set("endpoint2",JSON.stringify(Object(X.a)({},e.endpoint2,{login:!1}))),Object.assign({},e,{saveOAuthTokens:t.saveOAuthTokens,endpoint1:Object(X.a)({},e.endpoint1,{login:!1}),endpoint2:Object(X.a)({},e.endpoint2,{login:!1})});default:return e}}),io=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).handleOpen=function(t){console.log(t),e.setState({open:!0,vertical:"top",horizontal:"center",error:JSON.stringify(t)}),setTimeout(e.handleClose,4e3)},e.handleClose=function(){e.setState({open:!1})},e.state={loaded:!1,open:!1,vertical:"top",horizontal:"center",error:"null"},Kt.a.initialize("UA-147976263-1"),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({loaded:!0}),no.on("errorOccured",this.handleOpen)}},{key:"render",value:function(){var e=this.state,t=e.vertical,a=e.horizontal,n=e.error,i=e.open;return r.a.createElement("div",null,r.a.createElement(to.a,{anchorOrigin:{vertical:t,horizontal:a},style:{marginTop:"20px"},open:i,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},action:r.a.createElement(Qt.a,{onClick:this.handleClose,color:"secondary",size:"small"},"Close"),message:r.a.createElement("span",{id:"message-id"},n)}),r.a.createElement(oa.a,null,r.a.createElement(sa.a,{path:"/oauth/:tag",component:$i}),r.a.createElement(sa.a,{exact:!0,path:"/*/",component:Zi})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oo=a(605);a(529);o.a.render(r.a.createElement(oo.a,null,r.a.createElement(io,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[346,1,2]]]);
//# sourceMappingURL=main.f25321ef.chunk.js.map